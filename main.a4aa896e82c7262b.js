"use strict";(self.webpackChunkportal_paciente=self.webpackChunkportal_paciente||[]).push([[792],{1076:(Cn,bt,ie)=>{ie.d(bt,{Am:()=>rn,FA:()=>pe,Fy:()=>_t,I9:()=>Io,Im:()=>Hr,Ku:()=>Qe,T9:()=>Pt,Tj:()=>Kn,Uj:()=>lt,XA:()=>Je,ZQ:()=>ut,bD:()=>_r,cY:()=>it,eX:()=>Ue,g:()=>le,hp:()=>Nt,jZ:()=>Mt,lT:()=>vt,lV:()=>Vr,nr:()=>ki,sr:()=>yn,tD:()=>on,u:()=>Ee,yU:()=>An,zW:()=>Ne});const Oe=function(de){const ge=[];let Se=0;for(let pt=0;pt<de.length;pt++){let qe=de.charCodeAt(pt);qe<128?ge[Se++]=qe:qe<2048?(ge[Se++]=qe>>6|192,ge[Se++]=63&qe|128):55296==(64512&qe)&&pt+1<de.length&&56320==(64512&de.charCodeAt(pt+1))?(qe=65536+((1023&qe)<<10)+(1023&de.charCodeAt(++pt)),ge[Se++]=qe>>18|240,ge[Se++]=qe>>12&63|128,ge[Se++]=qe>>6&63|128,ge[Se++]=63&qe|128):(ge[Se++]=qe>>12|224,ge[Se++]=qe>>6&63|128,ge[Se++]=63&qe|128)}return ge},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(de,ge){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Se=ge?this.byteToCharMapWebSafe_:this.byteToCharMap_,pt=[];for(let qe=0;qe<de.length;qe+=3){const qt=de[qe],wn=qe+1<de.length,jn=wn?de[qe+1]:0,Kr=qe+2<de.length,yr=Kr?de[qe+2]:0;let Vi=(15&jn)<<2|yr>>6,Br=63&yr;Kr||(Br=64,wn||(Vi=64)),pt.push(Se[qt>>2],Se[(3&qt)<<4|jn>>4],Se[Vi],Se[Br])}return pt.join("")},encodeString(de,ge){return this.HAS_NATIVE_SUPPORT&&!ge?btoa(de):this.encodeByteArray(Oe(de),ge)},decodeString(de,ge){return this.HAS_NATIVE_SUPPORT&&!ge?atob(de):function(de){const ge=[];let Se=0,pt=0;for(;Se<de.length;){const qe=de[Se++];if(qe<128)ge[pt++]=String.fromCharCode(qe);else if(qe>191&&qe<224){const qt=de[Se++];ge[pt++]=String.fromCharCode((31&qe)<<6|63&qt)}else if(qe>239&&qe<365){const Kr=((7&qe)<<18|(63&de[Se++])<<12|(63&de[Se++])<<6|63&de[Se++])-65536;ge[pt++]=String.fromCharCode(55296+(Kr>>10)),ge[pt++]=String.fromCharCode(56320+(1023&Kr))}else{const qt=de[Se++],wn=de[Se++];ge[pt++]=String.fromCharCode((15&qe)<<12|(63&qt)<<6|63&wn)}}return ge.join("")}(this.decodeStringToByteArray(de,ge))},decodeStringToByteArray(de,ge){this.init_();const Se=ge?this.charToByteMapWebSafe_:this.charToByteMap_,pt=[];for(let qe=0;qe<de.length;){const qt=Se[de.charAt(qe++)],jn=qe<de.length?Se[de.charAt(qe)]:0;++qe;const yr=qe<de.length?Se[de.charAt(qe)]:64;++qe;const Wn=qe<de.length?Se[de.charAt(qe)]:64;if(++qe,null==qt||null==jn||null==yr||null==Wn)throw new xt;pt.push(qt<<2|jn>>4),64!==yr&&(pt.push(jn<<4&240|yr>>2),64!==Wn&&pt.push(yr<<6&192|Wn))}return pt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}};class xt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lt=function(de){return function(de){const ge=Oe(de);return ye.encodeByteArray(ge,!0)}(de).replace(/\./g,"")},Ee=function(de){try{return ye.decodeString(de,!0)}catch(ge){console.error("base64Decode failed: ",ge)}return null},Wt=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const de=process.env.__FIREBASE_DEFAULTS__;return de?JSON.parse(de):void 0})()||(()=>{if(typeof document>"u")return;let de;try{de=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ge=de&&Ee(de[1]);return ge&&JSON.parse(ge)})()}catch(de){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${de}`)}},Kn=de=>{var ge,Se;return null===(Se=null===(ge=Wt())||void 0===ge?void 0:ge.emulatorHosts)||void 0===Se?void 0:Se[de]},An=de=>{const ge=Kn(de);if(!ge)return;const Se=ge.lastIndexOf(":");if(Se<=0||Se+1===ge.length)throw new Error(`Invalid host ${ge} with no separate hostname and port!`);const pt=parseInt(ge.substring(Se+1),10);return"["===ge[0]?[ge.substring(1,Se-1),pt]:[ge.substring(0,Se),pt]},Pt=()=>{var de;return null===(de=Wt())||void 0===de?void 0:de.config},Je=de=>{var ge;return null===(ge=Wt())||void 0===ge?void 0:ge[`_${de}`]};class it{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ge,Se)=>{this.resolve=ge,this.reject=Se})}wrapCallback(ge){return(Se,pt)=>{Se?this.reject(Se):this.resolve(pt),"function"==typeof ge&&(this.promise.catch(()=>{}),1===ge.length?ge(Se):ge(Se,pt))}}}function _t(de,ge){if(de.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pt=ge||"demo-project",qe=de.iat||0,qt=de.sub||de.user_id;if(!qt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const wn=Object.assign({iss:`https://securetoken.google.com/${pt}`,aud:pt,iat:qe,exp:qe+3600,auth_time:qe,sub:qt,user_id:qt,firebase:{sign_in_provider:"custom",identities:{}}},de);return[lt(JSON.stringify({alg:"none",type:"JWT"})),lt(JSON.stringify(wn)),""].join(".")}function ut(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function yn(){const de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function Vr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function vt(){const de=ut();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function ki(){return!function He(){var de;const ge=null===(de=Wt())||void 0===de?void 0:de.forceEnvironment;if("node"===ge)return!0;if("browser"===ge)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ne(){try{return"object"==typeof indexedDB}catch{return!1}}function Ue(){return new Promise((de,ge)=>{try{let Se=!0;const pt="validate-browser-context-for-indexeddb-analytics-module",qe=self.indexedDB.open(pt);qe.onsuccess=()=>{qe.result.close(),Se||self.indexedDB.deleteDatabase(pt),de(!0)},qe.onupgradeneeded=()=>{Se=!1},qe.onerror=()=>{var qt;ge((null===(qt=qe.error)||void 0===qt?void 0:qt.message)||"")}}catch(Se){ge(Se)}})}class le extends Error{constructor(ge,Se,pt){super(Se),this.code=ge,this.customData=pt,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pe.prototype.create)}}class pe{constructor(ge,Se,pt){this.service=ge,this.serviceName=Se,this.errors=pt}create(ge,...Se){const pt=Se[0]||{},qe=`${this.service}/${ge}`,qt=this.errors[ge],wn=qt?function yt(de,ge){return de.replace(Gt,(Se,pt)=>{const qe=ge[pt];return null!=qe?String(qe):`<${pt}?>`})}(qt,pt):"Error";return new le(qe,`${this.serviceName}: ${wn} (${qe}).`,pt)}}const Gt=/\{\$([^}]+)}/g;function Hr(de){for(const ge in de)if(Object.prototype.hasOwnProperty.call(de,ge))return!1;return!0}function _r(de,ge){if(de===ge)return!0;const Se=Object.keys(de),pt=Object.keys(ge);for(const qe of Se){if(!pt.includes(qe))return!1;const qt=de[qe],wn=ge[qe];if(ni(qt)&&ni(wn)){if(!_r(qt,wn))return!1}else if(qt!==wn)return!1}for(const qe of pt)if(!Se.includes(qe))return!1;return!0}function ni(de){return null!==de&&"object"==typeof de}function rn(de){const ge=[];for(const[Se,pt]of Object.entries(de))Array.isArray(pt)?pt.forEach(qe=>{ge.push(encodeURIComponent(Se)+"="+encodeURIComponent(qe))}):ge.push(encodeURIComponent(Se)+"="+encodeURIComponent(pt));return ge.length?"&"+ge.join("&"):""}function Io(de){const ge={};return de.replace(/^\?/,"").split("&").forEach(pt=>{if(pt){const[qe,qt]=pt.split("=");ge[decodeURIComponent(qe)]=decodeURIComponent(qt)}}),ge}function Nt(de){const ge=de.indexOf("?");if(!ge)return"";const Se=de.indexOf("#",ge);return de.substring(ge,Se>0?Se:void 0)}function on(de,ge){const Se=new Ht(de,ge);return Se.subscribe.bind(Se)}class Ht{constructor(ge,Se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(()=>{ge(this)}).catch(pt=>{this.error(pt)})}next(ge){this.forEachObserver(Se=>{Se.next(ge)})}error(ge){this.forEachObserver(Se=>{Se.error(ge)}),this.close(ge)}complete(){this.forEachObserver(ge=>{ge.complete()}),this.close()}subscribe(ge,Se,pt){let qe;if(void 0===ge&&void 0===Se&&void 0===pt)throw new Error("Missing Observer.");qe=function xi(de,ge){if("object"!=typeof de||null===de)return!1;for(const Se of ge)if(Se in de&&"function"==typeof de[Se])return!0;return!1}(ge,["next","error","complete"])?ge:{next:ge,error:Se,complete:pt},void 0===qe.next&&(qe.next=Mr),void 0===qe.error&&(qe.error=Mr),void 0===qe.complete&&(qe.complete=Mr);const qt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?qe.error(this.finalError):qe.complete()}catch{}}),this.observers.push(qe),qt}unsubscribeOne(ge){void 0===this.observers||void 0===this.observers[ge]||(delete this.observers[ge],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ge){if(!this.finalized)for(let Se=0;Se<this.observers.length;Se++)this.sendOne(Se,ge)}sendOne(ge,Se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ge])try{Se(this.observers[ge])}catch(pt){typeof console<"u"&&console.error&&console.error(pt)}})}close(ge){this.finalized||(this.finalized=!0,void 0!==ge&&(this.finalError=ge),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mr(){}function Qe(de){return de&&de._delegate?de._delegate:de}},8010:(Cn,bt,ie)=>{ie.d(bt,{u:()=>nt});var D=ie(467),O=ie(3953),U=ie(6335),Oe=ie(6114);let nt=(()=>{class ye{constructor(){this.auth=(0,O.WQX)(U.Nj),this.authState$=(0,U.wh)(this.auth)}signUpWithEmailAndPassword(Xe){return(0,U.eJ)(this.auth,Xe.email,Xe.password)}logInWithEmailAndPassword(Xe){return(0,U.x9)(this.auth,Xe.email,Xe.password)}logOut(){return this.auth.signOut()}signInWithGoogleProvider(){const Xe=new Oe.HF;return this.callPopUp(Xe)}signInWithGithubProvider(){const Xe=new Oe.Dt;return this.callPopUp(Xe)}callPopUp(Xe){var lt=this;return(0,D.A)(function*(){try{return yield(0,U.df)(lt.auth,Xe)}catch(Ee){return Ee}})()}static#e=this.\u0275fac=function(lt){return new(lt||ye)};static#t=this.\u0275prov=O.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})()},4258:(Cn,bt,ie)=>{ie.d(bt,{m:()=>nt});var D=ie(467),O=ie(3953),U=ie(2418);const Oe="registros";let nt=(()=>{class ye{constructor(){this._firestore=(0,O.WQX)(U._7),this._collection=(0,U.rJ)(this._firestore,Oe)}getRegistros(){return(0,U.xs)(this._collection,{idField:"id"})}getRegistro(Xe){var lt=this;return(0,D.A)(function*(){try{return(yield(0,U.x7)(lt.document(Xe))).data()}catch{return}})()}searchRegistroByQuery(Xe){var lt=this;return(0,D.A)(function*(){const Ee=(0,U.P)(lt._collection,(0,U._M)("fullName",">=",Xe),(0,U._M)("fullName","<=",Xe+"\uf8ff")),Te=yield(0,U.GG)(Ee);let Me=[];return Te.forEach(Et=>{Me=[...Me,{id:Et.id,...Et.data()}]}),Me})()}createRegistro(Xe){return(0,U.gS)(this._collection,Xe)}updateRegistro(Xe,lt){return(0,U.mZ)(this.document(Xe),{...lt})}deleteRegistro(Xe){return(0,U.kd)(this.document(Xe))}getRegistrosByUserId(Xe){const lt=(0,U.P)(this._collection,(0,U._M)("userId","==",Xe));return(0,U.xs)(lt,{idField:"id"})}document(Xe){return(0,U.H9)(this._firestore,`${Oe}/${Xe}`)}static#e=this.\u0275fac=function(lt){return new(lt||ye)};static#t=this.\u0275prov=O.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})()},903:(Cn,bt,ie)=>{ie.r(bt),ie.d(bt,{default:()=>Kn});var D=ie(467),O=ie(3953),U=ie(177),Oe=ie(4341),nt=ie(5379),ye=ie(2418);const xt="pacientes";let Xe=(()=>{class An{constructor(){this._firestore=(0,O.WQX)(ye._7),this._collection=(0,ye.rJ)(this._firestore,xt)}getPacientes(){return(0,ye.xs)(this._collection,{idField:"id"})}getPaciente(Je){var it=this;return(0,D.A)(function*(){try{return(yield(0,ye.x7)(it.document(Je))).data()}catch{return}})()}searchPacienteByQuery(Je){var it=this;return(0,D.A)(function*(){const _t=(0,ye.P)(it._collection,(0,ye._M)("fullName",">=",Je),(0,ye._M)("fullName","<=",Je+"\uf8ff")),ut=yield(0,ye.GG)(_t);let Mt=[];return ut.forEach(He=>{Mt=[...Mt,{id:He.id,...He.data()}]}),Mt})()}createPaciente(Je){return(0,ye.gS)(this._collection,Je)}updatePaciente(Je,it){return(0,ye.mZ)(this.document(Je),{...it})}deletePaciente(Je){return(0,ye.kd)(this.document(Je))}document(Je){return(0,ye.H9)(this._firestore,`${xt}/${Je}`)}static#e=this.\u0275fac=function(it){return new(it||An)};static#t=this.\u0275prov=O.jDH({token:An,factory:An.\u0275fac,providedIn:"root"})}return An})();var lt=ie(8010),Ee=ie(1229),Te=ie(1827),Me=ie(5699),Et=ie(7533);function We(An,Pt){1&An&&(O.j41(0,"small",28),O.EFF(1," Nombre es obligatorio "),O.k0s())}function It(An,Pt){1&An&&(O.j41(0,"small",28),O.EFF(1," Apellido es obligatorio "),O.k0s())}function Ut(An,Pt){if(1&An&&(O.j41(0,"small",28),O.EFF(1),O.k0s()),2&An){const Je=O.XpG();O.R7$(),O.SpI(" ",null!=Je.form.controls.email.errors&&Je.form.controls.email.errors.required?"Email es obligatorio":"Email no es v\xe1lido"," ")}}function hn(An,Pt){1&An&&(O.j41(0,"small",28),O.EFF(1," La contrase\xf1a es obligatoria "),O.k0s())}function Wt(An,Pt){1&An&&(O.j41(0,"small",28),O.EFF(1," Las contrase\xf1as no coinciden "),O.k0s())}let Kn=(()=>{class An{constructor(){this.hide=!0,this.showConfirmMsg=!1,this.showErrorMsg=!1,this.confirmPassword="",this.passHasChange=!1,this.passwordHelpText='\n  Por favor, aseg\xfarate de que tu contrase\xf1a cumpla con los siguientes requisitos:\n  Longitud M\xednima: La contrase\xf1a debe tener al menos 8 caracteres.\n  Incluye un N\xfamero: Debe contener al menos un n\xfamero (0-9).\n  May\xfasculas: Debe incluir al menos una letra may\xfascula (A-Z).\n  S\xedmbolos Especiales: Debe tener al menos un s\xedmbolo especial, como: ! @ # $ % ^ & * ( ) , . ? " : { } | < >.\n',this.router=(0,O.WQX)(nt.Ix),this.pacienteId="",this.formBuilder=(0,O.WQX)(Oe.ok).nonNullable,this.authService=(0,O.WQX)(lt.u),this.pacienteService=(0,O.WQX)(Xe),this.form=this.formBuilder.group({nombre:this.formBuilder.control("",Oe.k0.required),apellido:this.formBuilder.control("",Oe.k0.required),email:this.formBuilder.control("",Oe.k0.email),password:this.formBuilder.control("",Oe.k0.required),confirmPassword:this.formBuilder.control("",{validators:[Oe.k0.required,this.passwordFormatValidator()]})})}get _pacienteId(){return this.pacienteId}passwordFormatValidator(){return Je=>{const it=/\d/.test(Je.value),_t=/[A-Z]/.test(Je.value),ut=/[!@#$%^&*(),.?":{}|<>]/.test(Je.value);return it&&_t&&ut&&Je.value?.length>=8?null:{invalidPasswordFormat:!0}}}signUp(){var Je=this;return(0,D.A)(function*(){if(Je.form.invalid)return void(Je.showErrorMsg=!0);const it={email:Je.form.value.email||"",password:Je.form.value.password||""};try{yield Je.authService.signUpWithEmailAndPassword(it),Je.showConfirmMsg=!0,setTimeout(()=>{Je.router.navigateByUrl("/ingresar")},2e3)}catch(_t){console.error(_t)}})()}get isEmailValid(){const Je=this.form.get("email");return!(!Je?.invalid||!Je.touched)&&(Je.hasError("required")?"Este campo es requerido":"Ingrese un mail v\xe1lido")}get passwordsDoNotMatch(){return this.form.controls.password.value!==this.form.controls.confirmPassword.value}static#e=this.\u0275fac=function(it){return new(it||An)};static#t=this.\u0275cmp=O.VBU({type:An,selectors:[["app-sign-up"]],standalone:!0,features:[O.Jv_([]),O.aNF],decls:49,vars:51,consts:[["id","signUp"],[1,"page__bg--overlay"],[1,"page__panel--float",3,"ngSubmit","formGroup"],[1,"panel__inner--left"],["width","240","src","./assets/img/ep__marca--row.svg","alt","logo experiencia paciente",1,"panel__img--center"],["type","flex",1,"panel__inner--right"],["size","md","subtitle","Aqu\xed comienza tu historia de Salud",3,"prefix","label","direction"],["type","wrap"],[1,"form__input-wrapper--col"],[3,"label","control"],["formControlName","nombre"],["class","required",4,"ngIf"],["formControlName","apellido"],["for","email",1,"required"],["formControlName","email"],["type","flex"],[1,"form__input-wrapper--row"],["formControlName","password",3,"type"],["size","sm",3,"click","type","severity","variant","icon","direction"],["formControlName","confirmPassword",3,"input","type"],[3,"size","prefix","direction","severity","icon"],[1,"panel__prefooter"],[1,"footer__text--sm"],[1,"panel__footer"],["size","xs",3,"severity","variant","icon","direction","label","path"],["severity","success","type","submit","variant","fill","size","xs",3,"icon","direction","label","disabled"],["size","lg","direction","row","bottom","20px","left","calc(50vw - 180px)",3,"variant","severity","closable","selectable"],["size","xxs","variant","outline","direction","row","severity","success",3,"label","subtitle","icon"],[1,"required"]],template:function(it,_t){1&it&&(O.j41(0,"main",0),O.nrm(1,"span",1),O.j41(2,"form",2),O.bIt("ngSubmit",function(){return _t.signUp()}),O.j41(3,"section",3),O.nrm(4,"img",4),O.k0s(),O.j41(5,"section",5),O.nrm(6,"app-label",6)(7,"hr"),O.j41(8,"div",7)(9,"div",8),O.nrm(10,"app-required",9)(11,"input",10),O.DNE(12,We,2,0,"small",11),O.k0s(),O.j41(13,"div",8),O.nrm(14,"app-required",9)(15,"input",12),O.DNE(16,It,2,0,"small",11),O.k0s(),O.j41(17,"div",8)(18,"label",13),O.EFF(19,"Email"),O.k0s(),O.nrm(20,"input",14),O.DNE(21,Ut,2,1,"small",11),O.k0s(),O.j41(22,"section",15)(23,"span",16)(24,"div",16)(25,"div",8),O.nrm(26,"app-required",9)(27,"input",17),O.DNE(28,hn,2,0,"small",11),O.k0s(),O.j41(29,"app-button",18),O.bIt("click",function(){return _t.hide=!_t.hide}),O.k0s()(),O.j41(30,"div",16)(31,"div",8),O.nrm(32,"app-required",9),O.j41(33,"input",19),O.bIt("input",function(){let Mt;return null==(Mt=_t.form.get("confirmPassword"))?null:Mt.updateValueAndValidity()}),O.k0s(),O.DNE(34,Wt,2,0,"small",11),O.k0s(),O.j41(35,"app-button",18),O.bIt("click",function(){return _t.hide=!_t.hide}),O.k0s()()(),O.j41(36,"article"),O.nrm(37,"app-label",20),O.k0s()()()(),O.j41(38,"section",21)(39,"small",22)(40,"b"),O.EFF(41,"Aviso Legal y T\xe9rminos de Uso"),O.k0s(),O.nrm(42,"br"),O.EFF(43," Al registrarte en experienciaPaciente, reconoces que la plataforma te brinda el poder de gestionar y controlar tus propios datos de salud, sin depender exclusivamente de sistemas tradicionales. experienciaPaciente no sustituye la atenci\xf3n m\xe9dica, pero te posibilita acceder, registrar y compartir tu informaci\xf3n de Salud. "),O.k0s()(),O.j41(44,"footer",23),O.nrm(45,"app-button",24)(46,"app-button",25),O.k0s()(),O.j41(47,"app-card",26),O.nrm(48,"app-label",27),O.k0s()()),2&it&&(O.R7$(2),O.Y8G("formGroup",_t.form),O.R7$(4),O.Y8G("prefix","Ingreso")("label","Bienvenido")("direction","row"),O.R7$(4),O.Y8G("label","Nombre")("control","nombre"),O.R7$(2),O.Y8G("ngIf",(null==_t.form.controls.nombre?null:_t.form.controls.nombre.invalid)&&(null==_t.form.controls.nombre?null:_t.form.controls.nombre.touched)),O.R7$(2),O.Y8G("label","Apellido")("control","apellido"),O.R7$(2),O.Y8G("ngIf",(null==_t.form.controls.apellido?null:_t.form.controls.apellido.invalid)&&(null==_t.form.controls.apellido?null:_t.form.controls.apellido.touched)),O.R7$(5),O.Y8G("ngIf",_t.form.controls.email.invalid&&(null==_t.form.controls.email?null:_t.form.controls.email.touched)),O.R7$(5),O.Y8G("label","Contrase\xf1a")("control","password"),O.R7$(),O.Y8G("type",_t.hide?"password":"text"),O.R7$(),O.Y8G("ngIf",(null==_t.form.controls.password?null:_t.form.controls.password.invalid)&&(null==_t.form.controls.password?null:_t.form.controls.password.touched)),O.R7$(),O.Y8G("type","button")("severity","primary")("variant","outline")("icon","eye")("direction","none"),O.R7$(3),O.Y8G("label","Repetir contrase\xf1a")("control","confirmPassword"),O.R7$(),O.Y8G("type",_t.hide?"password":"text"),O.R7$(),O.Y8G("ngIf",_t.passwordsDoNotMatch),O.R7$(),O.Y8G("type","button")("severity","primary")("variant","outline")("icon","eye")("direction","none"),O.R7$(2),O.Y8G("size","sm")("prefix",_t.passwordHelpText)("direction","row")("severity","neutral")("icon","info-circle"),O.R7$(8),O.Y8G("severity","primary")("variant","link")("icon","arrow-left")("direction","row")("label","Volver")("path","auth/sign-in"),O.R7$(),O.Y8G("icon","check-circle")("direction","row")("label","Registrarme")("disabled",_t.form.invalid||_t.passwordsDoNotMatch),O.R7$(),O.Y8G("variant","fab")("severity",_t.showErrorMsg?"danger":"success")("closable",_t.hide)("selectable",_t.showErrorMsg),O.R7$(),O.Y8G("label",_t.showErrorMsg?"No se ha podido registrar el usuario":"El usuario ha sido creado exitosamente")("subtitle",_t.showErrorMsg?"Vuelva a intentar luego":"Ser\xe1 redirigido al login")("icon",_t.showErrorMsg?"alert-circle":"info-circle"))},dependencies:[Oe.X1,Oe.qT,Oe.me,Oe.BC,Oe.cb,Oe.j4,Oe.JD,nt.iI,Ee.Q,Te.U,Me.d,Et.i,U.MD,U.bT],encapsulation:2})}return An})()},4908:(Cn,bt,ie)=>{ie.d(bt,{s:()=>Je});var D=ie(467),O=ie(3953),U=ie(1827),Oe=ie(6335),nt=ie(4572),ye=ie(9172),xt=ie(6354),Xe=ie(177),lt=ie(7533),Ee=ie(223),Te=ie(1229);function Me(it,_t){if(1&it){const ut=O.RV6();O.qex(0),O.j41(1,"app-card",2),O.bIt("click",function(){const He=O.eBV(ut).$implicit,Yt=O.XpG();return O.Njj(Yt.toggleSelectable(He))}),O.nrm(2,"app-label",3),O.k0s(),O.bVm()}if(2&it){const ut=_t.$implicit;O.R7$(),O.Y8G("selectable",!0)("variant","fill")("severity","custom")("color",ut.color)("selected",ut.selectable),O.R7$(),O.Y8G("label",ut.label)("icon",ut.icon)}}let Et=(()=>{class it{constructor(){this.items=[],this.categorySelected=new O.bkB}toggleSelectable(ut){ut.selectable=!ut.selectable,this.categorySelected.emit(ut.selectable?ut.label:"")}trackByFn(ut,Mt){return Mt.label}static#e=this.\u0275fac=function(Mt){return new(Mt||it)};static#t=this.\u0275cmp=O.VBU({type:it,selectors:[["app-navbar"]],inputs:{items:"items"},outputs:{categorySelected:"categorySelected"},standalone:!0,features:[O.aNF],decls:2,vars:2,consts:[[1,"nav__wrapper--row"],[4,"ngFor","ngForOf","ngForTrackBy"],["size","xs","direction","column",3,"click","selectable","variant","severity","color","selected"],["size","xxs",3,"label","icon"]],template:function(Mt,He){1&Mt&&(O.j41(0,"nav",0),O.DNE(1,Me,3,7,"ng-container",1),O.k0s()),2&Mt&&(O.R7$(),O.Y8G("ngForOf",He.items)("ngForTrackBy",He.trackByFn))},dependencies:[U.U,lt.i,Xe.MD,Xe.Sq],styles:["nav.nav__wrapper--row[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;overflow-x:scroll;column-gap:var(--wrapper__gap--col)}nav.nav__wrapper[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;height:var(--footer__height);display:flex;align-items:flex-end;width:420px;box-sizing:border-box;background-color:#d3d3d3}nav.nav__wrapper[_ngcontent-%COMP%]   .nav__list--row[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:72px;align-items:center;justify-content:space-around;width:100%;background-color:#4682b4}"]})}return it})();var We=ie(5023),It=ie(4341),Ut=ie(4258),hn=ie(5379);function Wt(it,_t){if(1&it){const ut=O.RV6();O.j41(0,"app-navbar",11),O.bIt("categorySelected",function(He){O.eBV(ut);const Yt=O.XpG();return O.Njj(Yt.onCategorySelected(He))}),O.k0s()}if(2&it){const ut=O.XpG();O.Y8G("items",ut.categoriaItems)}}function Kn(it,_t){if(1&it){const ut=O.RV6();O.j41(0,"li",13),O.bIt("click",function(){const He=O.eBV(ut).$implicit,Yt=O.XpG(2);return O.Njj(Yt.onItemSelected(He))}),O.j41(1,"app-card",14)(2,"app-label",15),O.nrm(3,"app-badge",16)(4,"app-badge",17),O.j41(5,"app-button",18),O.bIt("clickEvent",function(){const He=O.eBV(ut).$implicit,Yt=O.XpG(2);return O.Njj(Yt.navigateToDelete(He))}),O.k0s(),O.nrm(6,"app-dropdown",19),O.k0s()()()}if(2&it){const ut=_t.$implicit,Mt=O.XpG(2);O.R7$(),O.Y8G("selectable",!0)("variant","fill")("color",Mt.getColorForCategoria(ut.categoria)),O.R7$(),O.Y8G("size","xs")("label",ut.titulo)("prefix",ut.categoria)("subtitle",Mt.isMobile?"":ut.descripcion)("icon",Mt.getIconForCategoria(ut.categoria))("severity","custom")("color",Mt.getColorForCategoria(ut.categoria)),O.R7$(),O.Y8G("severity",ut.validado?"success":"info")("label",ut.validado?"Validado":"Auto-registro"),O.R7$(),O.Y8G("label",ut.validador),O.R7$(2),O.Y8G("items",Mt.getMenuItems(ut))("position",Mt.dropdownPosition)}}function An(it,_t){if(1&it&&(O.qex(0),O.j41(1,"ul"),O.DNE(2,Kn,7,15,"li",12),O.nI1(3,"async"),O.k0s(),O.bVm()),2&it){const ut=O.XpG();O.R7$(),O.ZvI("list__wrapper--",ut.type,""),O.R7$(),O.Y8G("ngForOf",O.bMT(3,5,ut.filteredRegistros$))("ngForTrackBy",ut.trackByFn)}}function Pt(it,_t){1&it&&(O.j41(0,"h3"),O.EFF(1,"Sin registros"),O.k0s())}let Je=(()=>{class it{getMenuItems(ut){return[{label:"Ver detalle",icon:"file-lines",disabled:!1,callback:()=>this.onItemSelected(ut)},{label:"Editar",icon:"file-pen",disabled:!1,callback:()=>this.navigateToEdit(ut)},{label:"Destacar",icon:"star",disabled:!0},{label:"Gestionar permisos",icon:"user-lock",disabled:!0},{label:"Asociar a registro",icon:"link",disabled:!0},{label:"Eliminar",icon:"trash",disabled:!1,callback:()=>this.navigateToDelete(ut)}]}getRegistroOptions(ut){return[{label:"Registro manual",icon:"file-lines",path:"/registrar",disabled:!1},{label:"Registro QR",icon:"qrcode",path:"/scan",disabled:!1}]}constructor(ut,Mt){this.registroService=ut,this.router=Mt,this.searchControl=new It.MJ(""),this.selectedCategory="",this.auth=(0,O.WQX)(Oe.Nj),this.authState$=(0,Oe.wh)(this.auth),this.type="flex",this.direction="horizontal",this.categoriaMap={"Consulta general":{icon:"user-md",color:"#FD5B71"},Laboratorios:{icon:"vial",color:"#6DDDFC"},"Consulta pedi\xe1trica":{icon:"baby",color:"#A2BDFF"},Vacunaci\u00f3n:{icon:"syringe",color:"#FF9110"},"Alergia e Inmunolog\xeda":{icon:"allergies",color:"#208AF2"},Cardiolog\u00eda:{icon:"heart",color:"#1BC5DD"}},this.dropdownPosition={top:"35px",left:"-170px"},this.splitButtonPosition={top:"45px",left:"-160px"},this.categoriaItems=Object.keys(this.categoriaMap).map(He=>({label:He,icon:this.categoriaMap[He].icon,color:this.categoriaMap[He].color,path:`/categories/${He}`,selectable:!1}))}ngOnInit(){this.authState$.subscribe(ut=>{ut&&(this.registros$=this.registroService.getRegistrosByUserId(ut.uid),this.filteredRegistros$=(0,nt.z)([this.searchControl.valueChanges.pipe((0,ye.Z)("")),this.registros$]).pipe((0,xt.T)(([Mt,He])=>He.filter(Yt=>Yt.titulo.toLowerCase().includes((Mt??"").toLowerCase())&&(""===this.selectedCategory||Yt.categoria===this.selectedCategory)))))}),this.checkIfMobile(window.innerWidth)}onResize(ut){this.checkIfMobile(ut.target.innerWidth)}checkIfMobile(ut){this.isMobile=ut<980}onItemSelected(ut){this.router.navigate([`/item/${ut.id}`])}navigateToEdit(ut){this.router.navigate([`/actualizar/${ut.id}`])}navigateToDelete(ut){var Mt=this;return(0,D.A)(function*(){try{yield Mt.registroService.deleteRegistro(ut.id),Mt.router.navigate(["/"])}catch(He){console.error("Error deleting registro",He)}})()}onCategorySelected(ut){this.selectedCategory=ut,this.filteredRegistros$=this.filterRegistros(this.searchControl.value||"",this.selectedCategory)}filterRegistros(ut,Mt){const He=ut.toLowerCase()||"";return this.registros$.pipe((0,xt.T)(Yt=>Yt.filter(yn=>yn.titulo.toLowerCase().includes(He)&&(""===Mt||yn.categoria===Mt))))}getIconForCategoria(ut){return this.categoriaMap[ut]?.icon||"question-circle"}getColorForCategoria(ut){return this.categoriaMap[ut]?.color||"gray"}trackByFn(ut,Mt){return Mt.id}showMedCategories(ut){this.medCategories=!this.medCategories}static#e=this.\u0275fac=function(Mt){return new(Mt||it)(O.rXU(Ut.m),O.rXU(hn.Ix))};static#t=this.\u0275cmp=O.VBU({type:it,selectors:[["app-list"]],hostBindings:function(Mt,He){1&Mt&&O.bIt("resize",function(yn){return He.onResize(yn)},!1,O.tSv)},inputs:{type:"type",direction:"direction"},standalone:!0,features:[O.aNF],decls:15,vars:13,consts:[["noRecords",""],[1,"sidebar__header"],["size","md","direction","row",3,"label","prefix"],[1,"input__group"],[1,"input__wrapper"],["for","titulo"],["type","text","placeholder","Busca por t\xedtulo del registro",1,"input__size--sm",3,"formControl"],["type","button","size","xs","severity","primary","direction","none",3,"clickEvent","direction","icon","variant"],["buttonSize","xs","buttonDirection","none","buttonVariant","fill","buttonSeverity","success","buttonIcon","plus",3,"items","position"],[3,"items"],[4,"ngIf","ngIfElse"],[3,"categorySelected","items"],[3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click"],["direction","row","severity","custom",3,"selectable","variant","color"],["direction","row",3,"size","label","prefix","subtitle","icon","severity","color"],["size","xs",3,"severity","label"],["severity","info","size","xs","icon","user",3,"label"],["variant","icon","icon","trash","size","xs","severity","neutral",3,"clickEvent"],["buttonLabel","","buttonIcon","ellipsis-vertical",3,"items","position"]],template:function(Mt,He){if(1&Mt){const Yt=O.RV6();O.j41(0,"section",1),O.nrm(1,"app-label",2),O.j41(2,"section",3)(3,"span",4)(4,"label",5),O.EFF(5,"Buscador"),O.k0s(),O.nrm(6,"input",6),O.k0s(),O.j41(7,"app-button",7),O.bIt("clickEvent",function(Vr){return O.eBV(Yt),O.Njj(He.showMedCategories(Vr))}),O.k0s(),O.nrm(8,"app-dropdown",8),O.k0s(),O.DNE(9,Wt,1,1,"app-navbar",9),O.nrm(10,"hr"),O.k0s(),O.DNE(11,An,4,7,"ng-container",10),O.nI1(12,"async"),O.DNE(13,Pt,2,0,"ng-template",null,0,O.C5r)}if(2&Mt){const Yt=O.sdS(14);O.R7$(),O.Y8G("label","Estos son tus registros")("prefix","Hola usuario"),O.R7$(5),O.Y8G("formControl",He.searchControl),O.R7$(),O.Y8G("direction","none")("icon",He.medCategories?"chevron-up":"chevron-down")("variant","outline"),O.R7$(),O.Y8G("items",He.getRegistroOptions())("position",He.splitButtonPosition),O.R7$(),O.vxM(He.medCategories?9:-1),O.R7$(2),O.Y8G("ngIf",O.bMT(12,11,He.registros$))("ngIfElse",Yt)}},dependencies:[U.U,Xe.MD,Xe.Sq,Xe.bT,Xe.Jj,lt.i,Ee.n,Te.Q,Et,We.P,It.X1,It.me,It.BC,It.l_],styles:["ul[_ngcontent-%COMP%]{width:100%;height:100%;box-sizing:border-box}ul.list__wrapper--flex[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:scroll}ul.list__wrapper--grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr))}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;row-gap:var(--list__item--gap);column-gap:var(--list__item--gap);padding:var(--list__item--padding);width:100%;box-sizing:border-box;height:-moz-fit-content;height:fit-content;min-height:120px;border-radius:var(--card__border--radius);border-bottom:solid 1px var(--primaryLight)}ul.list__item--row[_ngcontent-%COMP%]{flex-direction:row}ul.list__item--vertical[_ngcontent-%COMP%]{flex-direction:column}"]})}return it})()},223:(Cn,bt,ie)=>{ie.d(bt,{n:()=>Oe});var D=ie(177),O=ie(3953);function U(nt,ye){if(1&nt&&O.nrm(0,"i"),2&nt){const xt=O.XpG();O.HbH(xt.badgeIconClass)}}let Oe=(()=>{class nt{constructor(){this.severity="info",this.size="md",this.badgeStyle={},this.badgeIconClass=""}ngOnChanges(){this.setBadgeProperties()}setBadgeProperties(){switch(this.severity){case"success":this.badgeStyle={"background-color":"var(--success--light)",color:"var(--success--dark)"},this.badgeIconClass="fa-solid fa-circle-check";break;case"warning":this.badgeStyle={"background-color":"var(--warning--light)",color:"var(--warning)"},this.badgeIconClass="fa-solid fa-circle-exclamation";break;case"danger":this.badgeStyle={"background-color":"var(--danger--light)",color:"var(--danger)"},this.badgeIconClass="fa-solid fa-triangle-exclamation";break;case"info":this.badgeStyle={"background-color":"var(--info--light)",color:"var(--info)"},this.badgeIconClass="fa-solid fa-circle-info";break;case"neutral":this.badgeStyle={"background-color":"#e0e0e0",color:"#6c757d"},this.badgeIconClass="fa-solid fa-circle-question"}}static#e=this.\u0275fac=function(Xe){return new(Xe||nt)};static#t=this.\u0275cmp=O.VBU({type:nt,selectors:[["app-badge"]],inputs:{severity:"severity",size:"size",label:"label"},standalone:!0,features:[O.OA$,O.aNF],decls:4,vars:5,consts:[[3,"ngStyle"],[3,"class",4,"ngIf"]],template:function(Xe,lt){1&Xe&&(O.j41(0,"span",0),O.DNE(1,U,1,2,"i",1),O.j41(2,"p"),O.EFF(3),O.k0s()()),2&Xe&&(O.HbH("badge__wrapper--"+lt.size),O.Y8G("ngStyle",lt.badgeStyle),O.R7$(),O.Y8G("ngIf",lt.badgeIconClass),O.R7$(2),O.JRh(lt.label))},dependencies:[D.MD,D.bT,D.B3],styles:["app-badge[_ngcontent-%COMP%]   [class^=badge__wrapper][_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.5em 1em;border-radius:6px;font-weight:400;font-size:var(--badge__font--size);align-self:center;text-wrap:nowrap;text-overflow:ellipsis}app-badge[_ngcontent-%COMP%]   [class^=badge__wrapper][_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5em}"]})}return nt})()},1229:(Cn,bt,ie)=>{ie.d(bt,{Q:()=>xt});var D=ie(3953),O=ie(177),U=ie(1827),Oe=ie(5379);const nt=Xe=>[Xe];function ye(Xe,lt){if(1&Xe&&(D.j41(0,"span",3),D.EFF(1),D.k0s()),2&Xe){const Ee=D.XpG();D.R7$(),D.JRh(Ee.badgeCount)}}let xt=(()=>{class Xe{constructor(Ee){this.router=Ee,this.variant="fill",this.type="button",this.severity="info",this.size="md",this.direction="column",this.clickEvent=new D.bkB}handleClick(){this.clickEvent.emit(),this.path&&this.router.navigate([this.path]).catch(Ee=>{console.error("Navigation error:",Ee)})}setButtonClass(){return`button__size--${this.size} button__${this.variant}--${this.severity}`}setFabPositionStyles(){return"fab"===this.variant?{top:this.top,right:this.right,bottom:this.bottom,left:this.left}:{}}static#e=this.\u0275fac=function(Te){return new(Te||Xe)(D.rXU(Oe.Ix))};static#t=this.\u0275cmp=D.VBU({type:Xe,selectors:[["app-button"]],inputs:{variant:"variant",type:"type",severity:"severity",size:"size",icon:"icon",label:"label",badgeCount:"badgeCount",prefix:"prefix",subtitle:"subtitle",path:"path",direction:"direction",top:"top",right:"right",bottom:"bottom",left:"left",disabled:"disabled"},outputs:{clickEvent:"clickEvent"},standalone:!0,features:[D.aNF],decls:3,vars:14,consts:[[3,"click","type","disabled","ngClass","ngStyle"],[3,"icon","severity","label","subtitle","prefix","direction","size"],["class","button__badge",4,"ngIf"],[1,"button__badge"]],template:function(Te,Me){1&Te&&(D.j41(0,"button",0),D.bIt("click",function(){return Me.handleClick()}),D.nrm(1,"app-label",1),D.DNE(2,ye,2,1,"span",2),D.k0s()),2&Te&&(D.FS9("type",Me.type),D.Y8G("disabled",Me.disabled)("ngClass",D.eq3(12,nt,"button__size--"+Me.size+" button__"+Me.variant+"--"+Me.severity))("ngStyle",Me.setFabPositionStyles()),D.R7$(),D.Y8G("icon",Me.icon)("severity",Me.severity)("label",Me.label)("subtitle",Me.subtitle)("prefix",Me.prefix)("direction",Me.direction)("size",Me.size),D.R7$(),D.Y8G("ngIf",Me.badgeCount))},dependencies:[O.MD,O.YU,O.bT,O.B3,U.U],styles:["app-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:var(--button__padding);background:var(--button__bg--color);font-size:var(--button__font--size);color:var(--button__text--color);text-align:var(--button__text--align);border-radius:var(--button__border--radius);width:var(--button__width);text-transform:capitalize;text-wrap:nowrap}app-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{filter:brightness(120%);cursor:pointer}app-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:active{background-color:var(--secondary);filter:brightness(95%);cursor:grab}app-button[_ngcontent-%COMP%] > button[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.5;-webkit-user-select:none;user-select:none}app-button[_ngcontent-%COMP%] > button[class*=__fill][_ngcontent-%COMP%]{--button__text--color: white!important;--label__title--color: white;--button__border--color: transparent!important;border:solid 2px var(--button__border--color)}app-button[_ngcontent-%COMP%] > button[class*=__outline][_ngcontent-%COMP%]{--label__title--color: var(--button__bg--color);--button__border--color: var(--button__bg--color);background:transparent!important;border:solid 2px var(--button__bg--color);color:var(--label__title--color)}app-button[_ngcontent-%COMP%] > button[class*=__link][_ngcontent-%COMP%]{--button__border--color: var(--button__bg--color);--button__padding: 0;background:transparent!important;border:none!important;color:var(--button__bg--color)!important}app-button[_ngcontent-%COMP%] > button[class*=__fab][_ngcontent-%COMP%]{--button__text--color: white!important;--label__title--color: white;--button__border--color: transparent!important;position:absolute;width:calc(var(--button__font--size) * 7.5);height:calc(var(--button__font--size) * 7.5);border:solid 2px var(--button__border--color);border-radius:50%;z-index:3}app-button[_ngcontent-%COMP%] > button[class*=__icon][_ngcontent-%COMP%]{background-color:transparent;color:var(--label__title--color);padding:.5rem}app-button[_ngcontent-%COMP%] > button[class$=--primary][_ngcontent-%COMP%]{--button__text--color: inherit;--button__border--color: var(--primary);--button__bg--color: var(--primary)}app-button[_ngcontent-%COMP%] > button[class$=--secondary][_ngcontent-%COMP%]{--button__text--color: inherit;--button__border--color: var(--secondary);--button__bg--color: var(--secondary)}app-button[_ngcontent-%COMP%] > button[class$=--tertiary][_ngcontent-%COMP%]{--button__text--color: inherit;--button__border--color: var(--tertiary);--button__bg--color: var(--tertiary)}app-button[_ngcontent-%COMP%] > button[class$=--success][_ngcontent-%COMP%]{--button__text--color: inherit;--button__bg--color: var(--success)}app-button[_ngcontent-%COMP%] > button[class$=--warning][_ngcontent-%COMP%]{--button__text--color: inherit;--button__bg--color: var(--warning)}app-button[_ngcontent-%COMP%] > button[class$=--danger][_ngcontent-%COMP%]{--button__text--color: inherit;--button__bg--color: var(--danger)}app-button[_ngcontent-%COMP%] > button[class$=--info][_ngcontent-%COMP%]{--button__text--color: inherit;--button__bg--color: var(--info)}app-button[_ngcontent-%COMP%] > button[class$=--neutral][_ngcontent-%COMP%]{--button__text--color: inherit;--button__bg--color: var(--neutral)}app-button[_ngcontent-%COMP%] > button.button__size--xxs[_ngcontent-%COMP%]{--button__padding: .1rem .2rem;--button__font--size: 8px}app-button[_ngcontent-%COMP%] > button.button__size--xs[_ngcontent-%COMP%]{--button__padding: .2rem .25rem;--button__font--size: 10px}app-button[_ngcontent-%COMP%] > button.button__size--sm[_ngcontent-%COMP%]{--button__padding: .35rem .7rem;--button__font--size: 12px}app-button[_ngcontent-%COMP%] > button.button__size--md[_ngcontent-%COMP%]{--button__padding: .5rem 1rem;--button__font--size: 14px}app-button[_ngcontent-%COMP%] > button.button__size--lg[_ngcontent-%COMP%]{--button__padding: .65rem 1.25rem;--button__font--size: 16px}app-button[_ngcontent-%COMP%] > button.button__size--xl[_ngcontent-%COMP%]{--button__padding: .9rem 1.5rem;--button__font--size: 18px}"]})}return Xe})()},7533:(Cn,bt,ie)=>{ie.d(bt,{i:()=>lt});var D=ie(1827),O=ie(177),U=ie(1229),Oe=ie(3953);const nt=["cardColor"],ye=[[["app-label"]]],xt=["app-label"];function Xe(Ee,Te){if(1&Ee){const Me=Oe.RV6();Oe.j41(0,"app-button",3),Oe.bIt("click",function(We){Oe.eBV(Me);const It=Oe.XpG();return Oe.Njj(It.closeCard(We))}),Oe.k0s()}}let lt=(()=>{class Ee{constructor(){this.selected=!1,this.aligned="center",this.selectable=!1,this.align="center",this.size="md",this.severity="neutral",this.variant="outline",this.direction="column",this.color="",this.closable=!1}get cssDirection(){return"row"===this.direction?"card__wrapper--row":"card__wrapper--column"}ngAfterViewInit(){this.label&&(this.label.direction=this.direction),"custom"===this.severity&&this.color&&this.applyCustomColor()}applyCustomColor(){this.cardColor.nativeElement.style.setProperty("--card__border--color",this.color),this.cardColor.nativeElement.style.setProperty("--card__bg--color",`${this.color}25`),this.label&&(this.label.severity=this.color)}ngOnChanges(Me){Me.direction&&this.label&&(this.label.direction=this.direction)}closeCard(Me){Me.stopPropagation(),this.cardColor.nativeElement.remove()}onCardClick(){this.selectable&&(this.selected=!this.selected)}setFabPositionStyles(){return"fab"===this.variant?{position:"absolute",top:this.top,right:this.right,bottom:this.bottom,left:this.left}:{}}static#e=this.\u0275fac=function(Et){return new(Et||Ee)};static#t=this.\u0275cmp=Oe.VBU({type:Ee,selectors:[["app-card"]],viewQuery:function(Et,We){if(1&Et&&(Oe.GBs(nt,7),Oe.GBs(D.U,7)),2&Et){let It;Oe.mGM(It=Oe.lsd())&&(We.cardColor=It.first),Oe.mGM(It=Oe.lsd())&&(We.label=It.first)}},inputs:{selected:"selected",aligned:"aligned",selectable:"selectable",align:"align",size:"size",severity:"severity",variant:"variant",direction:"direction",color:"color",closable:"closable",top:"top",right:"right",bottom:"bottom",left:"left"},standalone:!0,features:[Oe.OA$,Oe.aNF],ngContentSelectors:xt,decls:4,vars:12,consts:[["cardColor",""],["tabindex","0",3,"click","ngStyle","ngClass"],["variant","link","icon","close","size","xs","severity","neutral"],["variant","link","icon","close","size","xs","severity","neutral",3,"click"]],template:function(Et,We){if(1&Et){const It=Oe.RV6();Oe.NAR(ye),Oe.j41(0,"div",1,0),Oe.bIt("click",function(){return Oe.eBV(It),Oe.Njj(We.onCardClick())}),Oe.SdG(2),Oe.DNE(3,Xe,1,0,"app-button",2),Oe.k0s()}2&Et&&(Oe.ZWY("card card__",We.variant,"--",We.severity," card--",We.size,""),Oe.AVh("card--selectable",We.selectable)("card--selected",We.selected),Oe.Y8G("ngStyle",We.setFabPositionStyles())("ngClass",We.cssDirection),Oe.R7$(3),Oe.vxM(We.closable?3:-1))},dependencies:[O.MD,O.YU,O.B3,U.Q],styles:["app-card[_ngcontent-%COMP%]{width:100%}app-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;flex-direction:var(--card__direction);justify-content:var(--card__wrapper--justify);align-items:var(--card__wrapper--align);background-color:transparent;padding:var(--card__padding);gap:var(--card__gap);text-align:var(--card__text--align);border-radius:var(--card__border--radius);box-sizing:border-box;width:var(--card__width);height:var(--card__height);z-index:3}app-card[_ngcontent-%COMP%]   .card__wrapper--row[_ngcontent-%COMP%]{--card__direction: row;--card__wrapper--justify: space-between;--card__text--align: left}app-card[_ngcontent-%COMP%]   .card__wrapper--row[_ngcontent-%COMP%]   .card__inner-wrapper--left[_ngcontent-%COMP%]{width:180px}app-card[_ngcontent-%COMP%]   .card__wrapper--row[_ngcontent-%COMP%]   .card__inner-wrapper--right[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center;width:-moz-fit-content;width:fit-content}app-card[_ngcontent-%COMP%]   .card__wrapper--column[_ngcontent-%COMP%]{--card__wrapper--justify: flex-start;--card__direction: column}app-card[_ngcontent-%COMP%]   .card.card__fill--custom[_ngcontent-%COMP%], app-card[_ngcontent-%COMP%]   .card.card__outline--custom[_ngcontent-%COMP%], app-card[_ngcontent-%COMP%]   .card.card__fab--custom[_ngcontent-%COMP%]{--card__bg--color: var(--customColor);--card__border--color: var(--customColor)}app-card[_ngcontent-%COMP%]   .card.card__fill--custom.card--selectable[_ngcontent-%COMP%]:hover, app-card[_ngcontent-%COMP%]   .card.card__outline--custom.card--selectable[_ngcontent-%COMP%]:hover, app-card[_ngcontent-%COMP%]   .card.card__fab--custom.card--selectable[_ngcontent-%COMP%]:hover{background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card.card__fill--custom.card--selectable[_ngcontent-%COMP%]:focus, app-card[_ngcontent-%COMP%]   .card.card__outline--custom.card--selectable[_ngcontent-%COMP%]:focus, app-card[_ngcontent-%COMP%]   .card.card__fab--custom.card--selectable[_ngcontent-%COMP%]:focus{border:solid 2px var(--customColor)}app-card[_ngcontent-%COMP%]   .card.card__fill--primary[_ngcontent-%COMP%]{--card__border--color: var(--primary)}app-card[_ngcontent-%COMP%]   .card.card__fill--primary.card--selectable[_ngcontent-%COMP%]:hover{--card__bg--color: var(--primaryLight);background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card.card__fill--primary.card--selectable[_ngcontent-%COMP%]:focus{border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card__fill--secondary[_ngcontent-%COMP%]{--card__border--color: var(--secondary)}app-card[_ngcontent-%COMP%]   .card.card__fill--secondary.card--selectable[_ngcontent-%COMP%]:hover{--card__bg--color: var(--secondaryLight);background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card.card__fill--secondary.card--selectable[_ngcontent-%COMP%]:focus{border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card__fill--tertiary[_ngcontent-%COMP%]{--card__border--color: var(--tertiary)}app-card[_ngcontent-%COMP%]   .card.card__fill--tertiary.card--selectable[_ngcontent-%COMP%]:hover{--card__bg--color: var(--tertiaryLight);background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card.card__fill--tertiary.card--selectable[_ngcontent-%COMP%]:focus{border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card__fill--info[_ngcontent-%COMP%]{--card__border--color: var(--info)}app-card[_ngcontent-%COMP%]   .card.card__fill--info.card--selectable[_ngcontent-%COMP%]:hover{--card__bg--color: var(--info--light);background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card.card__fill--info.card--selectable[_ngcontent-%COMP%]:focus{border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card__fill--neutral[_ngcontent-%COMP%]{--card__border--color: var(--neutral)}app-card[_ngcontent-%COMP%]   .card.card__fill--neutral.card--selectable[_ngcontent-%COMP%]:hover{--card__bg--color: var(--neutral--light);background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card.card__fill--neutral.card--selectable[_ngcontent-%COMP%]:focus{border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card__outline--primary[_ngcontent-%COMP%]{--card__border--color: var(--card__text--color);border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card__outline--primary.card--selectable[_ngcontent-%COMP%]:hover{--card__bg--color: var(--primaryLighter);background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card.card__outline--primary.card--selectable[_ngcontent-%COMP%]:focus{border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card__outline--secondary[_ngcontent-%COMP%]{--card__border--color: var(--secondary)}app-card[_ngcontent-%COMP%]   .card.card__outline--secondary.card--selectable[_ngcontent-%COMP%]:hover{--card__bg--color: var(--secondaryLighter);background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card.card__outline--secondary.card--selectable[_ngcontent-%COMP%]:focus{border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card__outline--tertiary[_ngcontent-%COMP%]{--card__border--color: var(--tertiary)}app-card[_ngcontent-%COMP%]   .card.card__outline--tertiary.card--selectable[_ngcontent-%COMP%]:hover{--card__bg--color: var(--tertiaryLighter);background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card.card__outline--tertiary.card--selectable[_ngcontent-%COMP%]:focus{border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card__outline--info[_ngcontent-%COMP%]{--card__border--color: var(--info)}app-card[_ngcontent-%COMP%]   .card.card__outline--info.card--selectable[_ngcontent-%COMP%]:hover{--card__bg--color: var(--info--light);background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card.card__outline--info.card--selectable[_ngcontent-%COMP%]:focus{border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card__outline--neutral[_ngcontent-%COMP%]{--card__border--color: var(--neutral)}app-card[_ngcontent-%COMP%]   .card.card__outline--neutral.card--selectable[_ngcontent-%COMP%]:hover{--card__bg--color: var(--neutral--light);background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card.card__outline--neutral.card--selectable[_ngcontent-%COMP%]:focus{border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card__fab[_ngcontent-%COMP%]{animation:fade-in 1.5s ease-in}app-card[_ngcontent-%COMP%]   .card.card__fab--primary[_ngcontent-%COMP%]{--card__border--color: var(--card__text--color);border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card__fab--primary.card--selectable[_ngcontent-%COMP%]:hover{--card__bg--color: var(--primaryLighter);background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card.card__fab--primary.card--selectable[_ngcontent-%COMP%]:focus{border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card__fab--secondary[_ngcontent-%COMP%]{--card__border--color: var(--secondary)}app-card[_ngcontent-%COMP%]   .card.card__fab--secondary.card--selectable[_ngcontent-%COMP%]:hover{--card__bg--color: var(--secondaryLighter);background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card.card__fab--secondary.card--selectable[_ngcontent-%COMP%]:focus{border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card__fab--tertiary[_ngcontent-%COMP%]{--card__border--color: var(--tertiary)}app-card[_ngcontent-%COMP%]   .card.card__fab--tertiary.card--selectable[_ngcontent-%COMP%]:hover{--card__bg--color: var(--tertiaryLighter);background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card.card__fab--tertiary.card--selectable[_ngcontent-%COMP%]:focus{border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card__fab--info[_ngcontent-%COMP%]{--card__border--color: var(--info)}app-card[_ngcontent-%COMP%]   .card.card__fab--info.card--selectable[_ngcontent-%COMP%]:hover{--card__bg--color: var(--info--light);background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card.card__fab--info.card--selectable[_ngcontent-%COMP%]:focus{border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card__fab--neutral[_ngcontent-%COMP%]{--card__border--color: var(--neutral)}app-card[_ngcontent-%COMP%]   .card.card__fab--neutral.card--selectable[_ngcontent-%COMP%]:hover{--card__bg--color: var(--neutral--light);background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card.card__fab--neutral.card--selectable[_ngcontent-%COMP%]:focus{border:solid 2px var(--card__border--color)}app-card[_ngcontent-%COMP%]   .card.card--selected[_ngcontent-%COMP%]{border:solid 2px var(--card__border--color);background-color:var(--card__bg--color)}app-card[_ngcontent-%COMP%]   .card--xs[_ngcontent-%COMP%]{--card__width: 90px;--card__padding: 12px;--card__height: 100%;background-color:#f1f4f5;width:var(--card__width);height:var(--card__height)}app-card[_ngcontent-%COMP%]   .card--sm[_ngcontent-%COMP%]{--card__padding: 6px 14px}app-card[_ngcontent-%COMP%]   .card--md[_ngcontent-%COMP%]{--card__padding: 0 0 0 12px;--card__width: 100%;--card__height: 100%;width:var(--card__width);height:var(--card__height)}app-card[_ngcontent-%COMP%]   .card--md[_ngcontent-%COMP%]   .label__content[_ngcontent-%COMP%]{row-gap:4px}app-card[_ngcontent-%COMP%]   .card--lg[_ngcontent-%COMP%]{--card__padding: 10px 18px}app-card[_ngcontent-%COMP%]   .card--xl[_ngcontent-%COMP%]{--card__padding: 12px 24px}app-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] > img[_ngcontent-%COMP%], app-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] > app-icon[_ngcontent-%COMP%]{margin-bottom:.75rem;object-fit:cover}app-card[_ngcontent-%COMP%]   .card__text-start[_ngcontent-%COMP%]{text-align:left}app-card[_ngcontent-%COMP%]   .card__text-end[_ngcontent-%COMP%]{text-align:right}"]})}return Ee})()},5023:(Cn,bt,ie)=>{ie.d(bt,{P:()=>Te});var D=ie(3953),O=ie(177),U=ie(1229),Oe=ie(5379);const nt=(Me,Et)=>({top:Me,left:Et}),ye=Me=>({nested:Me});function xt(Me,Et){if(1&Me){const We=D.RV6();D.qex(0),D.j41(1,"app-button",8),D.bIt("clickEvent",function(){D.eBV(We);const Ut=D.XpG().$implicit;return D.Njj(Ut.callback?Ut.callback():null)}),D.k0s(),D.bVm()}if(2&Me){const We=D.XpG().$implicit;D.R7$(),D.Y8G("variant","link")("direction","row")("size","xxs")("icon",We.icon)("label",We.label)("path",We.path)("disabled",We.disabled)}}function Xe(Me,Et){if(1&Me){const We=D.RV6();D.j41(0,"app-button",8),D.bIt("clickEvent",function(){D.eBV(We);const Ut=D.XpG().$implicit;return D.Njj(Ut.callback?Ut.callback():null)}),D.k0s()}if(2&Me){const We=D.XpG().$implicit;D.Y8G("variant","link")("direction","row")("size","xxs")("icon",We.icon)("label",We.label)("path",We.path)("disabled",We.disabled)}}function lt(Me,Et){if(1&Me&&(D.qex(0),D.DNE(1,xt,2,7,"ng-container",7)(2,Xe,1,7,"ng-template",null,0,D.C5r),D.bVm()),2&Me){const We=Et.$implicit,It=D.sdS(3);D.R7$(),D.Y8G("ngIf",!We.subItems)("ngIfElse",It)}}function Ee(Me,Et){if(1&Me&&(D.j41(0,"div",4)(1,"div",5),D.DNE(2,lt,4,2,"ng-container",6),D.k0s()()),2&Me){const We=D.XpG();D.Y8G("ngStyle",D.l_i(3,nt,null==We.position?null:We.position.top,null==We.position?null:We.position.left)),D.R7$(),D.Y8G("ngClass",D.eq3(6,ye,We.hasNestedItems)),D.R7$(),D.Y8G("ngForOf",We.items)}}let Te=(()=>{class Me{constructor(We){this.router=We,this.items=[],this.buttonVariant="link",this.buttonSeverity="info",this.buttonDirection="none",this.buttonSize="sm",this.itemSelected=new D.bkB,this.isOpen=!1,this.hasNestedItems=!1}onClick(We){!We.target.closest(".dropdown-container")&&this.isOpen&&this.close()}toggle(We){this.isOpen=!this.isOpen,this.hasNestedItems=this.items.some(It=>It.subItems&&It.subItems.length>0),We.stopPropagation()}onItemClicked(We){this.itemSelected.emit(We),We.callback&&We.callback(),this.close()}handleNestedItemClick(We){this.itemSelected.emit(We),this.close()}close(){this.isOpen=!1}static#e=this.\u0275fac=function(It){return new(It||Me)(D.rXU(Oe.Ix))};static#t=this.\u0275cmp=D.VBU({type:Me,selectors:[["app-dropdown"]],hostBindings:function(It,Ut){1&It&&D.bIt("click",function(Wt){return Ut.onClick(Wt)},!1,D.EBC)},inputs:{items:"items",position:"position",buttonLabel:"buttonLabel",buttonIcon:"buttonIcon",buttonVariant:"buttonVariant",buttonSeverity:"buttonSeverity",buttonDirection:"buttonDirection",buttonSize:"buttonSize"},outputs:{itemSelected:"itemSelected"},standalone:!0,features:[D.aNF],decls:3,vars:7,consts:[["nestedItems",""],[1,"dropdown-container"],[3,"click","size","severity","variant","direction","icon","label"],["class","dropdown-menu",3,"ngStyle",4,"ngIf"],[1,"dropdown-menu",3,"ngStyle"],[1,"dropdown-content",3,"ngClass"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"clickEvent","variant","direction","size","icon","label","path","disabled"]],template:function(It,Ut){1&It&&(D.j41(0,"div",1)(1,"app-button",2),D.bIt("click",function(Wt){return Ut.toggle(Wt)}),D.k0s(),D.DNE(2,Ee,3,8,"div",3),D.k0s()),2&It&&(D.R7$(),D.Y8G("size",Ut.buttonSize)("severity",Ut.buttonSeverity)("variant",Ut.buttonVariant)("direction",Ut.buttonDirection)("icon",Ut.buttonIcon)("label",Ut.buttonLabel),D.R7$(),D.Y8G("ngIf",Ut.isOpen))},dependencies:[O.MD,O.YU,O.Sq,O.bT,O.B3,U.Q],styles:[".dropdown-container[_ngcontent-%COMP%]{position:relative}.dropdown-container[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;z-index:1000;background-color:#fff;border:1px solid #ccc;box-shadow:0 2px 10px #0003;width:200px;overflow:hidden}.dropdown-container[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem}.dropdown-container[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   app-label[_ngcontent-%COMP%], .dropdown-container[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   app-card[_ngcontent-%COMP%]{margin-bottom:.5rem}.dropdown-container[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   app-label[_ngcontent-%COMP%]:last-child, .dropdown-container[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   app-card[_ngcontent-%COMP%]:last-child{margin-bottom:0}"]})}return Me})()},1827:(Cn,bt,ie)=>{ie.d(bt,{U:()=>Te});var D=ie(177),O=ie(3953);const U=["labelColor"],Oe=[[["app-badge"]],[["app-button"]],[["app-dropdown"]]],nt=["app-badge","app-button","app-dropdown"],ye=(Me,Et,We)=>[Me,Et,We];function xt(Me,Et){if(1&Me&&(O.j41(0,"div",3),O.nrm(1,"i"),O.k0s()),2&Me){const We=O.XpG();O.Y8G("ngClass",We.label?"":"icon__border--none"),O.R7$(),O.ZvI("fa-solid fa-",We.icon,""),O.BMQ("aria-label",We.iconLabel)}}function Xe(Me,Et){if(1&Me&&(O.j41(0,"div",5),O.EFF(1),O.k0s()),2&Me){const We=O.XpG();O.R7$(),O.JRh(We.prefix)}}function lt(Me,Et){if(1&Me&&(O.j41(0,"div",6),O.EFF(1),O.k0s()),2&Me){const We=O.XpG();O.R7$(),O.JRh(We.label)}}function Ee(Me,Et){if(1&Me&&(O.j41(0,"div",7),O.EFF(1),O.k0s()),2&Me){const We=O.XpG();O.R7$(),O.JRh(We.subtitle)}}let Te=(()=>{class Me{constructor(){this.severity="neutral",this.direction="column",this.size="md"}ngOnChanges(We){this.updateIconColor()}updateIconColor(){"string"==typeof this.severity&&(["primary","secondary","tertiary","neutral"].includes(this.severity)?this.labelColor.nativeElement.style.setProperty("--label__icon--color",`var(--${this.severity})`):this.labelColor.nativeElement.style.setProperty("--label__icon--color",this.color))}static#e=this.\u0275fac=function(It){return new(It||Me)};static#t=this.\u0275cmp=O.VBU({type:Me,selectors:[["app-label"]],viewQuery:function(It,Ut){if(1&It&&O.GBs(U,7),2&It){let hn;O.mGM(hn=O.lsd())&&(Ut.labelColor=hn.first)}},inputs:{icon:"icon",img:"img",iconLabel:"iconLabel",severity:"severity",color:"color",label:"label",subtitle:"subtitle",prefix:"prefix",direction:"direction",size:"size"},standalone:!0,features:[O.OA$,O.aNF],ngContentSelectors:nt,decls:13,vars:9,consts:[["labelColor",""],[1,"panel__header"],[1,"label",3,"ngClass"],[1,"label__icon",3,"ngClass"],[1,"label__content"],[1,"label__prefix"],[1,"label__title"],[1,"label__subtitle"],[1,"button__group"],[1,"label__menu"]],template:function(It,Ut){1&It&&(O.NAR(Oe),O.j41(0,"section",1)(1,"span",2,0),O.DNE(3,xt,2,5,"div",3),O.j41(4,"div",4),O.DNE(5,Xe,2,1,"div",5)(6,lt,2,1,"div",6)(7,Ee,2,1,"div",7),O.j41(8,"span",8),O.SdG(9),O.k0s()(),O.j41(10,"div",9),O.SdG(11,1),O.SdG(12,2),O.k0s()()()),2&It&&(O.R7$(),O.Y8G("ngClass",O.sMw(5,ye,Ut.size,Ut.direction,Ut.severity)),O.R7$(2),O.vxM(Ut.icon?3:-1),O.R7$(2),O.vxM(Ut.prefix?5:-1),O.R7$(),O.vxM(Ut.label?6:-1),O.R7$(),O.vxM(Ut.subtitle?7:-1))},dependencies:[D.MD,D.YU],styles:["app-label[_ngcontent-%COMP%]   .label__icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}app-label[_ngcontent-%COMP%]{width:100%}app-label[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:100%;height:-moz-fit-content;height:fit-content}app-label[_ngcontent-%COMP%]   .label.row[_ngcontent-%COMP%]{flex-direction:row;align-items:center;column-gap:.65rem}app-label[_ngcontent-%COMP%]   .label.row[_ngcontent-%COMP%] > .label__icon[_ngcontent-%COMP%]{--label__icon--align: center}app-label[_ngcontent-%COMP%]   .label.column[_ngcontent-%COMP%]{--button__text--align: center;flex-direction:column;align-items:center;justify-content:center;row-gap:var(--label__gap);text-align:center}app-label[_ngcontent-%COMP%]   .label.xxs[_ngcontent-%COMP%]{--label__prefix--size: 9px;--label__subtitle--size: 10px;--label__icon--size: 12px}app-label[_ngcontent-%COMP%]   .label.xs[_ngcontent-%COMP%]{--label__prefix--size: 11px;--label__subtitle--size: 11px;--label__icon--size: 14px}app-label[_ngcontent-%COMP%]   .label.sm[_ngcontent-%COMP%]{--label__prefix--size: 12px;--label__subtitle--size: 12px;--label__icon--size: 16px}app-label[_ngcontent-%COMP%]   .label.md[_ngcontent-%COMP%]{--label__prefix--size: 14px;--label__subtitle--size: 14px;--label__icon--size: 36px}app-label[_ngcontent-%COMP%]   .label.lg[_ngcontent-%COMP%]{--label__prefix--size: 16px;--label__subtitle--size: 16px;--label__icon--size: 56px}app-label[_ngcontent-%COMP%]   .label.xl[_ngcontent-%COMP%]{--label__prefix--size: 20px;--label__subtitle--size: 20px;--label__icon--size: 64px}app-label[_ngcontent-%COMP%]   .label__icon[_ngcontent-%COMP%]{padding:.5rem;border:solid 2px var(--label__icon--color);border-radius:50%;color:var(--label__icon--color);width:var(--label__icon--size);height:var(--label__icon--size);align-self:var(--label__icon--align)}app-label[_ngcontent-%COMP%]   .label__icon.icon__border--none[_ngcontent-%COMP%]{border:none}app-label[_ngcontent-%COMP%]   .label.column[_ngcontent-%COMP%]   .label__icon[_ngcontent-%COMP%]{--label__icon--align: center}app-label[_ngcontent-%COMP%]   .label__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;overflow:hidden;line-height:1.5;width:var(--label__width)}app-label[_ngcontent-%COMP%]   .label__prefix[_ngcontent-%COMP%]{font-size:var(--label__prefix--size);color:var(--label__prefix--color)}app-label[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{color:var(--label__title--color);font-weight:600;line-height:1.25;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;text-overflow:ellipsis;text-wrap:nowrap}app-label[_ngcontent-%COMP%]   .label__subtitle[_ngcontent-%COMP%]{font-size:var(--label__subtitle--size);color:var(--label__subtitle--color);width:-webkit-fill-available;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;text-overflow:ellipsis}.button__group[_ngcontent-%COMP%]{--panel__direction: row;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;column-gap:var(--wrapper__gap--col);width:100%}.label.xxs[_ngcontent-%COMP%]{font-size:12px}.label.xs[_ngcontent-%COMP%]{font-size:14px}.label.sm[_ngcontent-%COMP%]{font-size:16px}.label.md[_ngcontent-%COMP%]{font-size:20px}.label.lg[_ngcontent-%COMP%]{font-size:30px}.label.xl[_ngcontent-%COMP%]{font-size:40px}"]})}return Me})()},7587:(Cn,bt,ie)=>{ie.d(bt,{z:()=>Xe});var D=ie(3953),O=ie(1827),U=ie(1229);const Oe=[[["app-button","severity","danger"]],[["app-button","variant","outline"]],[["app-button","severity","success"]]],nt=["app-button[severity=danger]","app-button[variant=outline]","app-button[severity=success]"];function ye(lt,Ee){if(1&lt&&D.nrm(0,"img",7),2&lt){const Te=D.XpG();D.FS9("alt",Te.caption),D.Y8G("src",Te.img,D.B4B)}}function xt(lt,Ee){if(1&lt&&(D.j41(0,"p",8),D.EFF(1),D.k0s()),2&lt){const Te=D.XpG();D.R7$(),D.JRh(Te.caption)}}let Xe=(()=>{class lt{constructor(){this.closeable=!0,this.closeModal=new D.bkB,this.confirmAction=new D.bkB}close(){this.closeModal.emit()}confirm(){this.confirmAction.emit(),this.close()}static#e=this.\u0275fac=function(Me){return new(Me||lt)};static#t=this.\u0275cmp=D.VBU({type:lt,selectors:[["app-modal"]],inputs:{img:"img",caption:"caption",prefix:"prefix",title:"title",subtitle:"subtitle",icon:"icon",closeable:"closeable"},outputs:{closeModal:"closeModal",confirmAction:"confirmAction"},standalone:!0,features:[D.aNF],ngContentSelectors:nt,decls:15,vars:6,consts:[[1,"modal__backdrop",3,"click"],[1,"modal__wrapper",3,"click"],[1,"modal__header"],["direction","row",3,"prefix","icon","label","subtitle"],["icon","close","variant","icon","severity","primary",3,"click"],[1,"modal__body"],[1,"modal__img--wrapper"],[1,"modal__img",3,"src","alt"],[1,"modal__caption"],[1,"modal__footer"],[1,"modal__footer--left"],[1,"modal__footer--right"]],template:function(Me,Et){1&Me&&(D.NAR(Oe),D.j41(0,"span",0),D.bIt("click",function(){return Et.close()}),D.j41(1,"section",1),D.bIt("click",function(It){return It.stopPropagation()}),D.j41(2,"header",2)(3,"app-label",3)(4,"app-button",4),D.bIt("click",function(){return Et.close()}),D.k0s()()(),D.j41(5,"div",5)(6,"figure",6),D.DNE(7,ye,1,2,"img",7)(8,xt,2,1,"p",8),D.k0s()(),D.j41(9,"footer",9)(10,"span",10),D.SdG(11),D.SdG(12,1),D.k0s(),D.j41(13,"span",11),D.SdG(14,2),D.k0s()()()()),2&Me&&(D.R7$(3),D.Y8G("prefix",Et.prefix)("icon",Et.icon)("label",Et.title)("subtitle",Et.subtitle),D.R7$(4),D.vxM(Et.img?7:-1),D.R7$(),D.vxM(Et.caption?8:-1))},dependencies:[O.U,U.Q],styles:[".modal__backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:3}.modal__wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:var(--wrapper__gap);background-color:#fff;padding:1.5rem;border-radius:8px;max-width:80vw;max-height:75vh;width:500px;height:-moz-fit-content;height:fit-content;position:relative;box-shadow:var(--box-shadow)}.modal__wrapper[_ngcontent-%COMP%]   .modal__body[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:var(--wrapper__gap)}.modal__wrapper[_ngcontent-%COMP%]   .modal__body[_ngcontent-%COMP%]   .modal__img--wrapper[_ngcontent-%COMP%]   .modal__img[_ngcontent-%COMP%]{width:100%;max-height:280px;object-fit:contain}.modal__wrapper[_ngcontent-%COMP%]   .modal__body[_ngcontent-%COMP%]   .modal__img--wrapper[_ngcontent-%COMP%]   .modal__caption[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.875rem;color:var(--neutral)}.modal__wrapper[_ngcontent-%COMP%]   .modal__footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}@media screen and (max-width: 768px){.modal__content[_ngcontent-%COMP%]{max-width:90%;padding:1rem}}"]})}return lt})()},5699:(Cn,bt,ie)=>{ie.d(bt,{d:()=>U});var D=ie(4341),O=ie(3953);let U=(()=>{class Oe{constructor(ye){this.formGroupDirective=ye,this.isRequired=!1}ngOnInit(){if(this.control){const ye=this.getFormControl(this.control);ye&&(this.isRequired=this.hasRequiredValidator(ye))}}getFormControl(ye){return this.formGroupDirective.form.get(ye)}hasRequiredValidator(ye){return ye.hasValidator(D.k0.required)}static#e=this.\u0275fac=function(xt){return new(xt||Oe)(O.rXU(D.j4))};static#t=this.\u0275cmp=O.VBU({type:Oe,selectors:[["app-required"]],inputs:{label:"label",control:"control"},standalone:!0,features:[O.aNF],decls:4,vars:3,consts:[[3,"for"],[1,"required"]],template:function(xt,Xe){1&xt&&(O.j41(0,"label",0),O.EFF(1),O.k0s(),O.j41(2,"span",1),O.EFF(3),O.k0s()),2&xt&&(O.Y8G("for",Xe.control),O.R7$(),O.SpI(" ",Xe.label,"\n"),O.R7$(2),O.JRh(Xe.isRequired?"*":" "))}})}return Oe})()},9589:(Cn,bt,ie)=>{var D=ie(345),O=ie(5379),U=ie(3953),Oe=ie(8010),nt=ie(6354);const ye=()=>(0,U.WQX)(O.Ix),xt=()=>(0,U.WQX)(Oe.u).authState$;var Ee=ie(467),Te=ie(4341),Me=ie(4258),Et=ie(6335),We=ie(1827),It=ie(223),Ut=ie(1229),hn=ie(8359),Wt=ie(177);function Kn(i,e){if(1&i&&(U.j41(0,"label",4),U.EFF(1),U.k0s()),2&i){const n=U.XpG();U.STu("switcher__label switcher__label--right switcher--",n.size," ",n.on?"switcher--on":"switcher--off",""),U.R7$(),U.JRh(n.on?n.onLabel:n.offLabel)}}let An=(()=>{class i{constructor(){this.size="md",this.onLabel="On",this.offLabel="Off",this.colorOn="green",this.colorOff="gray",this.disabled=!1,this.labelPosition="right",this.toggle=new U.bkB}onToggle(){this.disabled||(this.on=!this.on,this.toggle.emit(this.on))}static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275cmp=U.VBU({type:i,selectors:[["app-switcher"]],inputs:{on:"on",size:"size",onLabel:"onLabel",offLabel:"offLabel",colorOn:"colorOn",colorOff:"colorOff",disabled:"disabled",labelPosition:"labelPosition"},outputs:{toggle:"toggle"},standalone:!0,features:[U.aNF],decls:4,vars:4,consts:[[1,"switcher"],["type","checkbox",3,"click","checked"],[1,"slider","round"],["for","",3,"class",4,"ngIf"],["for",""]],template:function(s,u){1&s&&(U.j41(0,"section",0)(1,"input",1),U.bIt("click",function(){return u.onToggle()}),U.k0s(),U.nrm(2,"span",2),U.DNE(3,Kn,2,5,"label",3),U.k0s()),2&s&&(U.AVh("switcher--disabled",u.disabled),U.R7$(),U.Y8G("checked",u.on),U.R7$(2),U.Y8G("ngIf","right"===u.labelPosition))},dependencies:[Wt.MD,Wt.bT],styles:['.switcher[_ngcontent-%COMP%]{--switcher--color-on: var(--color-on, --success);--switcher--color-off: var(--color-off, --neutralLight);--switcher__height: 36px;--switcher__width: 60px;position:relative;height:200px;display:flex;justify-content:space-between;column-gap:var(--panel__gap--col);align-items:center;width:100%;max-width:max-content;height:var(--switcher__height);margin:calc(var(--panel__gap--col) / 2) 0}.switcher[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{opacity:0;width:calc(var(--switcher__width) + 20px);height:var(--switcher__height);z-index:1}.switcher[_ngcontent-%COMP%] > input[_ngcontent-%COMP%] + .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px;width:var(--switcher__width);height:var(--switcher__height)}.switcher[_ngcontent-%COMP%] > input[_ngcontent-%COMP%] + .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}.switcher[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--primary)}.switcher[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked + .slider.round[_ngcontent-%COMP%]{border-radius:var(--switcher__height)}.switcher[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked + .slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.switcher[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.switcher[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px var(--primary)}.switcher--disabled[_ngcontent-%COMP%]{cursor:not-allowed;pointer-events:none;opacity:.5}.switcher__label[_ngcontent-%COMP%]{font-size:var(--input__label--size);line-height:var(--input__label--lineHeight)}']})}return i})();var Pt=ie(3586),Je=ie(7440),it=ie(2214),_t=ie(7852),ut=ie(1076),Mt=ie(1362);const He="firebasestorage.googleapis.com",Yt="storageBucket";class vt extends ut.g{constructor(e,n,s=0){super(Fr(e),`Firebase Storage: ${n} (${Fr(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fr(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var en=function(i){return i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment",i}(en||{});function Fr(i){return"storage/"+i}function ki(){return new vt(en.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function pe(){return new vt(en.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yt(){return new vt(en.CANCELED,"User canceled the upload/download.")}function Xn(){return new vt(en.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Lr(i){return new vt(en.INVALID_ARGUMENT,i)}function Fi(){return new vt(en.APP_DELETED,"The Firebase app was deleted.")}function Hr(i,e){return new vt(en.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Sn(i){throw new vt(en.INTERNAL_ERROR,"Internal error: "+i)}class _r{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=_r.makeFromUrl(e,n)}catch{return new _r(e,"")}if(""===s.path)return s;throw function Bn(i){return new vt(en.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}(e)}static makeFromUrl(e,n){let s=null;const u="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+u+"(/(.*))?$","i");function T(at){at.path_=decodeURIComponent(at.path)}const V=n.replace(/[.]/g,"\\."),Ye=[{regex:m,indices:{bucket:1,path:3},postModify:function l(at){"/"===at.path.charAt(at.path.length-1)&&(at.path_=at.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${V}/v[A-Za-z0-9_]+/b/${u}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:T},{regex:new RegExp(`^https?://${n===He?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${u}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:T}];for(let at=0;at<Ye.length;at++){const kt=Ye[at],zt=kt.regex.exec(e);if(zt){let mn=zt[kt.indices.path];mn||(mn=""),s=new _r(zt[kt.indices.bucket],mn),kt.postModify(s);break}}if(null==s)throw function Gt(i){return new vt(en.INVALID_URL,"Invalid URL '"+i+"'.")}(e);return s}}class ni{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function on(i){return"string"==typeof i||i instanceof String}function Ht(i){return Gr()&&i instanceof Blob}function Gr(){return typeof Blob<"u"}function xi(i,e,n,s){if(s<e)throw Lr(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw Lr(`Invalid value for '${i}'. Expected ${n} or less.`)}function Mr(i,e,n){let s=e;return null==n&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function ci(i){const e=encodeURIComponent;let n="?";for(const s in i)i.hasOwnProperty(s)&&(n=n+(e(s)+"=")+e(i[s])+"&");return n=n.slice(0,-1),n}var li=function(i){return i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT",i}(li||{});function $r(i,e){const n=i>=500&&i<600,u=-1!==[408,429].indexOf(i),l=-1!==e.indexOf(i);return n||u||l}class Li{constructor(e,n,s,u,l,g,m,y,T,P,V,$=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=u,this.successCodes_=l,this.additionalRetryCodes_=g,this.callback_=m,this.errorCallback_=y,this.timeout_=T,this.progressCallback_=P,this.connectionFactory_=V,this.retry=$,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((q,se)=>{this.resolve_=q,this.reject_=se,this.start_()})}start_(){const n=(s,u)=>{const l=this.resolve_,g=this.reject_,m=u.connection;if(u.wasSuccessCode)try{const y=this.callback_(m,m.getResponse());!function Io(i){return void 0!==i}(y)?l():l(y)}catch(y){g(y)}else if(null!==m){const y=ki();y.serverResponse=m.getErrorText(),g(this.errorCallback_?this.errorCallback_(m,y):y)}else g(u.canceled?this.appDelete_?Fi():yt():pe())};this.canceled_?n(0,new Un(!1,null,!0)):this.backoffId_=function ur(i,e,n){let s=1,u=null,l=null,g=!1,m=0;function y(){return 2===m}let T=!1;function P(...De){T||(T=!0,e.apply(null,De))}function V(De){u=setTimeout(()=>{u=null,i(q,y())},De)}function $(){l&&clearTimeout(l)}function q(De,...Ve){if(T)return void $();if(De)return $(),void P.call(null,De,...Ve);if(y()||g)return $(),void P.call(null,De,...Ve);let Ye;s<64&&(s*=2),1===m?(m=2,Ye=0):Ye=1e3*(s+Math.random()),V(Ye)}let se=!1;function ve(De){se||(se=!0,$(),!T&&(null!==u?(De||(m=2),clearTimeout(u),V(0)):De||(m=1)))}return V(0),l=setTimeout(()=>{g=!0,ve(!0)},n),ve}((s,u)=>{if(u)return void s(!1,new Un(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const g=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(g),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(g),this.pendingConnection_=null;const m=l.getErrorCode()===li.NO_ERROR,y=l.getStatus();if(!m||$r(y,this.additionalRetryCodes_)&&this.retry){const P=l.getErrorCode()===li.ABORT;return void s(!1,new Un(!1,null,P))}const T=-1!==this.successCodes_.indexOf(y);s(!0,new Un(T,l))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function rn(i){i(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Un{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function lr(...i){const e=function Si(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}if(Gr())return new Blob(i);throw new vt(en.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ae={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qe{constructor(e,n){this.data=e,this.contentType=n||null}}function ge(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);s<=127?e.push(s):s<=2047?e.push(192|s>>6,128|63&s):55296==(64512&s)?n<i.length-1&&56320==(64512&i.charCodeAt(n+1))?(s=65536|(1023&s)<<10|1023&i.charCodeAt(++n),e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):e.push(239,191,189):56320==(64512&s)?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(e)}function pt(i,e){switch(i){case Ae.BASE64:{const u=-1!==e.indexOf("-"),l=-1!==e.indexOf("_");if(u||l)throw Hr(i,"Invalid character '"+(u?"-":"_")+"' found: is it base64url encoded?");break}case Ae.BASE64URL:{const u=-1!==e.indexOf("+"),l=-1!==e.indexOf("/");if(u||l)throw Hr(i,"Invalid character '"+(u?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function tt(i){if(typeof atob>"u")throw function pr(i){return new vt(en.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(i)}(e)}catch(u){throw u.message.includes("polyfill")?u:Hr(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let u=0;u<n.length;u++)s[u]=n.charCodeAt(u);return s}class qe{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw Hr(Ae.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;null!=s&&(this.base64=function jn(i,e){return i.length>=e.length&&i.substring(i.length-e.length)===e}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}class Kr{constructor(e,n){let s=0,u="";Ht(e)?(this.data_=e,s=e.size,u=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=u}size(){return this.size_}type(){return this.type_}slice(e,n){if(Ht(this.data_)){const u=function fe(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}(this.data_,e,n);return null===u?null:new Kr(u)}{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Kr(s,!0)}}static getBlob(...e){if(Gr()){const n=e.map(s=>s instanceof Kr?s.data_:s);return new Kr(lr.apply(null,n))}{const n=e.map(g=>on(g)?function de(i,e){switch(i){case Ae.RAW:return new Qe(ge(e));case Ae.BASE64:case Ae.BASE64URL:return new Qe(pt(i,e));case Ae.DATA_URL:return new Qe(function qt(i){const e=new qe(i);return e.base64?pt(Ae.BASE64,e.rest):function Se(i){let e;try{e=decodeURIComponent(i)}catch{throw Hr(Ae.DATA_URL,"Malformed data URL.")}return ge(e)}(e.rest)}(e),function wn(i){return new qe(i).contentType}(e))}throw ki()}(Ae.RAW,g).data:g.data_);let s=0;n.forEach(g=>{s+=g.byteLength});const u=new Uint8Array(s);let l=0;return n.forEach(g=>{for(let m=0;m<g.length;m++)u[l++]=g[m]}),new Kr(u,!0)}}uploadData(){return this.data_}}function yr(i){let e;try{e=JSON.parse(i)}catch{return null}return function or(i){return"object"==typeof i&&!Array.isArray(i)}(e)?e:null}function Vi(i){const e=i.lastIndexOf("/",i.length-2);return-1===e?i:i.slice(e+1)}function Br(i,e){return e}class ii{constructor(e,n,s,u){this.server=e,this.local=n||e,this.writable=!!s,this.xform=u||Br}}let Ns=null;function so(){if(Ns)return Ns;const i=[];i.push(new ii("bucket")),i.push(new ii("generation")),i.push(new ii("metageneration")),i.push(new ii("name","fullPath",!0));const n=new ii("name");n.xform=function e(l,g){return function mo(i){return!on(i)||i.length<2?i:Vi(i)}(g)},i.push(n);const u=new ii("size");return u.xform=function s(l,g){return void 0!==g?Number(g):g},i.push(u),i.push(new ii("timeCreated")),i.push(new ii("updated")),i.push(new ii("md5Hash",null,!0)),i.push(new ii("cacheControl",null,!0)),i.push(new ii("contentDisposition",null,!0)),i.push(new ii("contentEncoding",null,!0)),i.push(new ii("contentLanguage",null,!0)),i.push(new ii("contentType",null,!0)),i.push(new ii("metadata","customMetadata",!0)),Ns=i,Ns}function Sa(i,e,n){const s=yr(e);return null===s?null:function pu(i,e,n){const s={type:"file"},u=n.length;for(let l=0;l<u;l++){const g=n[l];s[g.local]=g.xform(s,e[g.server])}return function ms(i,e){Object.defineProperty(i,"ref",{get:function n(){const l=new _r(i.bucket,i.fullPath);return e._makeStorageReference(l)}})}(s,i),s}(i,s,n)}function wt(i,e){const n={},s=e.length;for(let u=0;u<s;u++){const l=e[u];l.writable&&(n[l.server]=i[l.local])}return JSON.stringify(n)}class Dn{constructor(e,n,s,u){this.url=e,this.method=n,this.handler=s,this.timeout=u,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Nn(i){if(!i)throw ki()}function Cr(i,e){return function n(s,u){const l=Sa(i,u,e);return Nn(null!==l),l}}function No(i){return function e(n,s){let u;return u=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function Le(){return new vt(en.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function At(){return new vt(en.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function Ue(i){return new vt(en.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(i.bucket):403===n.getStatus()?function le(i){return new vt(en.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}(i.path):s,u.status=n.getStatus(),u.serverResponse=s.serverResponse,u}}function Xr(i){const e=No(i);return function n(s,u){let l=e(s,u);return 404===s.getStatus()&&(l=function Ne(i){return new vt(en.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}(i.path)),l.serverResponse=u.serverResponse,l}}function ua(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=function mu(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}(null,e)),s}class rr{constructor(e,n,s,u){this.current=e,this.total=n,this.finalized=!!s,this.metadata=u||null}}function Bi(i,e){let n=null;try{n=i.getResponseHeader("X-Goog-Upload-Status")}catch{Nn(!1)}return Nn(!!n&&-1!==(e||["active"]).indexOf(n)),n}function ea(i){switch(i){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class $i{constructor(e,n,s){if(function Nt(i){return"function"==typeof i}(e)||null!=n||null!=s)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function Di(i){return(...e)=>{Promise.resolve().then(()=>i(...e))}}let ks=null;class jl{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=li.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=li.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=li.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,u){if(this.sent_)throw Sn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==u)for(const l in u)u.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,u[l].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Ui extends jl{initXhr(){this.xhr_.responseType="text"}}function ko(){return ks?ks():new Ui}class Oa{constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=so(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=u=>{if(this._request=void 0,this._chunkMultiplier=1,u._codeEquals(en.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if($r(u.status,[])){if(!l)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();u=pe()}this._error=u,this._transition("error")}},this._metadataErrorHandler=u=>{this._request=void 0,u._codeEquals(en.CANCELED)?this.completeTransitions_():(this._error=u,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((u,l)=>{this._resolve=u,this._reject=l,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const s=function Ma(i,e,n,s,u){const l=e.bucketOnlyServerUrl(),g=ua(e,s,u),m={name:g.fullPath},y=Mr(l,i.host,i._protocol),P={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":g.contentType,"Content-Type":"application/json; charset=utf-8"},V=wt(g,n),se=new Dn(y,"POST",function q(ve){let De;Bi(ve);try{De=ve.getResponseHeader("X-Goog-Upload-URL")}catch{Nn(!1)}return Nn(on(De)),De},i.maxUploadRetryTime);return se.urlParams=m,se.headers=P,se.body=V,se.errorHandler=No(e),se}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(s,ko,e,n);this._request=u,u.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const u=function Ao(i,e,n,s){const y=new Dn(n,"POST",function l(T){const P=Bi(T,["active","final"]);let V=null;try{V=T.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Nn(!1)}V||Nn(!1);const $=Number(V);return Nn(!isNaN($)),new rr($,s.size(),"final"===P)},i.maxUploadRetryTime);return y.headers={"X-Goog-Upload-Command":"query"},y.errorHandler=No(e),y}(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(u,ko,n,s);this._request=l,l.getPromise().then(g=>{this._request=void 0,this._updateProgress(g.current),this._needToFetchStatus=!1,g.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new rr(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((u,l)=>{let g;try{g=function Js(i,e,n,s,u,l,g,m){const y=new rr(0,0);if(g?(y.current=g.current,y.total=g.total):(y.current=0,y.total=s.size()),s.size()!==y.total)throw function Rr(){return new vt(en.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const T=y.total-y.current;let P=T;u>0&&(P=Math.min(P,u));const V=y.current;let q="";q=0===P?"finalize":T===P?"upload, finalize":"upload";const se={"X-Goog-Upload-Command":q,"X-Goog-Upload-Offset":`${y.current}`},ve=s.slice(V,V+P);if(null===ve)throw Xn();const Ye=new Dn(n,"POST",function De(at,kt){const zt=Bi(at,["active","final"]),Kt=y.current+P,mn=s.size();let Jn;return Jn="final"===zt?Cr(e,l)(at,kt):null,new rr(Kt,mn,"final"===zt,Jn)},e.maxUploadRetryTime);return Ye.headers=se,Ye.body=ve.uploadData(),Ye.progressCallback=m||null,Ye.errorHandler=No(i),Ye}(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(y){return this._error=y,void this._transition("error")}const m=this._ref.storage._makeRequest(g,ko,u,l,!1);this._request=m,m.getPromise().then(y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(y.current),y.finalized?(this._metadata=y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=function gu(i,e,n){const u=Mr(e.fullServerUrl(),i.host,i._protocol),g=i.maxOperationRetryTime,m=new Dn(u,"GET",Cr(i,n),g);return m.errorHandler=Xr(e),m}(this._ref.storage,this._ref._location,this._mappings),u=this._ref.storage._makeRequest(s,ko,e,n);this._request=u,u.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=function oi(i,e,n,s,u){const l=e.bucketOnlyServerUrl(),g={"X-Goog-Upload-Protocol":"multipart"},y=function m(){let Ye="";for(let at=0;at<2;at++)Ye+=Math.random().toString().slice(2);return Ye}();g["Content-Type"]="multipart/related; boundary="+y;const T=ua(e,s,u),P=wt(T,n),q=Kr.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+P+"\r\n--"+y+"\r\nContent-Type: "+T.contentType+"\r\n\r\n",s,"\r\n--"+y+"--");if(null===q)throw Xn();const se={name:T.fullPath},ve=Mr(l,i.host,i._protocol),Ve=i.maxUploadRetryTime,Pe=new Dn(ve,"POST",Cr(i,n),Ve);return Pe.urlParams=se,Pe.headers=g,Pe.body=q.uploadData(),Pe.errorHandler=No(e),Pe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(s,ko,e,n);this._request=u,u.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=yt(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=ea(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,u){const l=new $i(n||void 0,s||void 0,u||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(ea(this._state)){case"success":Di(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":Di(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ea(this._state)){case"running":case"paused":e.next&&Di(e.next.bind(e,this.snapshot))();break;case"success":e.complete&&Di(e.complete.bind(e))();break;default:e.error&&Di(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Fo{constructor(e,n){this._service=e,this._location=n instanceof _r?n:_r.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Fo(e,n)}get root(){const e=new _r(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Vi(this._location.path)}get storage(){return this._service}get parent(){const e=function ri(i){if(0===i.length)return null;const e=i.lastIndexOf("/");return-1===e?"":i.slice(0,e)}(this._location.path);if(null===e)return null;const n=new _r(this._location.bucket,e);return new Fo(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function un(i){return new vt(en.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function $a(i){i._throwIfRoot("getDownloadURL");const e=function Ha(i,e,n){const u=Mr(e.fullServerUrl(),i.host,i._protocol),g=i.maxOperationRetryTime,m=new Dn(u,"GET",function Gi(i,e){return function n(s,u){const l=Sa(i,u,e);return Nn(null!==l),function Da(i,e,n,s){const u=yr(e);if(null===u||!on(u.downloadTokens))return null;const l=u.downloadTokens;if(0===l.length)return null;const g=encodeURIComponent;return l.split(",").map(T=>{const V=i.fullPath;return Mr("/b/"+g(i.bucket)+"/o/"+g(V),n,s)+ci({alt:"media",token:T})})[0]}(l,u,i.host,i._protocol)}}(i,n),g);return m.errorHandler=Xr(e),m}(i.storage,i._location,so());return i.storage.makeRequestWithTokens(e,ko).then(n=>{if(null===n)throw function no(){return new vt(en.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function _o(i,e){if(i instanceof vo){const n=i;if(null==n._bucket)throw function Jt(){return new vt(en.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Yt+"' property when initializing the app?")}();const s=new Fo(n,n._bucket);return null!=e?_o(s,e):s}return void 0!==e?function Ko(i,e){const n=function Wn(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return 0===i.length?n:i+"/"+n}(i._location.path,e),s=new _r(i._location.bucket,n);return new Fo(i.storage,s)}(i,e):i}function rs(i,e){const n=e?.[Yt];return null==n?null:_r.makeFromBucketSpec(n,i)}class vo{constructor(e,n,s,u,l){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=u,this._firebaseVersion=l,this._bucket=null,this._host=He,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=u?_r.makeFromBucketSpec(u,this._host):rs(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?_r.makeFromBucketSpec(this._url,e):rs(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xi("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xi("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ee.A)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const s=yield n.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ee.A)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fo(this,e)}_makeRequest(e,n,s,u,l=!0){if(this._deleted)return new ni(Fi());{const g=function Yr(i,e,n,s,u,l,g=!0){const m=ci(i.urlParams),y=i.url+m,T=Object.assign({},i.headers);return function gi(i,e){e&&(i["X-Firebase-GMPID"]=e)}(T,e),function Po(i,e){null!==e&&e.length>0&&(i.Authorization="Firebase "+e)}(T,n),function zn(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(T,l),function Wo(i,e){null!==e&&(i["X-Firebase-AppCheck"]=e)}(T,s),new Li(y,i.method,T,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,u,g)}(e,this._appId,s,u,n,this._firebaseVersion,l);return this._requests.add(g),g.getPromise().then(()=>this._requests.delete(g),()=>this._requests.delete(g)),g}}makeRequestWithTokens(e,n){var s=this;return(0,Ee.A)(function*(){const[u,l]=yield Promise.all([s._getAuthToken(),s._getAppCheckToken()]);return s._makeRequest(e,n,u,l).getPromise()})()}}const za="@firebase/storage",Xo="storage";function zi(i,e,n){return function Ga(i,e,n){return i._throwIfRoot("uploadBytesResumable"),new Oa(i,new Kr(e),n)}(i=(0,ut.Ku)(i),e,n)}function nn(i){return $a(i=(0,ut.Ku)(i))}function dr(i,e){return function Na(i,e){if(e&&function ns(i){return/^[A-Za-z]+:\/\//.test(i)}(e)){if(i instanceof vo)return function _u(i,e){return new Fo(i,e)}(i,e);throw Lr("To use ref(service, url), the first argument must be a Storage instance.")}return _o(i,e)}(i=(0,ut.Ku)(i),e)}function da(i=(0,_t.Sx)(),e){i=(0,ut.Ku)(i);const s=(0,_t.j6)(i,Xo).getImmediate({identifier:e}),u=(0,ut.yU)("storage");return u&&function ha(i,e,n,s={}){!function la(i,e,n,s={}){i.host=`${e}:${n}`,i._protocol="http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken="string"==typeof u?u:(0,ut.Fy)(u,i.app.options.projectId))}(i,e,n,s)}(s,...u),s}function fa(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),u=i.getProvider("app-check-internal");return new vo(n,s,u,e,_t.MF)}!function Cs(){(0,_t.om)(new Mt.uA(Xo,fa,"PUBLIC").setMultipleInstances(!0)),(0,_t.KO)(za,"0.12.5",""),(0,_t.KO)(za,"0.12.5","esm2017")}();class Ls{constructor(e){return e}}const gc="storage",Vs=new U.nKC("angularfire2.storage-instances");function Uu(i){return(e,n)=>{const s=e.runOutsideAngular(()=>i(n));return new Ls(s)}}const ju={provide:class yu{constructor(){return(0,Pt.CA)(gc)}},deps:[[new U.Xx1,Vs]]},zr={provide:Ls,useFactory:function Ar(i,e){const n=(0,Pt.lR)(gc,i,e);return n&&new Ls(n)},deps:[[new U.Xx1,Vs],Je.XU]},Yi=(0,Pt.S3)(nn,!0),Bo=(0,Pt.S3)(da,!0),To=(0,Pt.S3)(dr,!0),Y=(0,Pt.S3)(zi,!0);var H=ie(2418);var Ot=function(){var i=function(n,s){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&(u[g]=l[g])})(n,s)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),Gn=function(i){function e(n,s){var u=this.constructor,l=i.call(this,n,s)||this;return Object.defineProperty(l,"name",{value:u.name,enumerable:!1,configurable:!0}),function oe(i,e){var n=Object.setPrototypeOf;n?n(i,e):i.__proto__=e}(l,u.prototype),function be(i,e){void 0===e&&(e=i.constructor);var n=Error.captureStackTrace;n&&n(i,e)}(l),l}return Ot(e,i),e}(Error),bo=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Tn=function(i){function e(n){void 0===n&&(n=void 0);var s=i.call(this,n)||this;return s.message=n,s}return bo(e,i),e.prototype.getKind=function(){return this.constructor.kind},e.kind="Exception",e}(Gn);var _c=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Wr=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return _c(e,i),e.kind="ArgumentException",e}(Tn);var js=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const _n=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return js(e,i),e.kind="IllegalArgumentException",e}(Tn),vc=function(){function i(e){if(this.binarizer=e,null===e)throw new _n("Binarizer must be non-null.")}return i.prototype.getWidth=function(){return this.binarizer.getWidth()},i.prototype.getHeight=function(){return this.binarizer.getHeight()},i.prototype.getBlackRow=function(e,n){return this.binarizer.getBlackRow(e,n)},i.prototype.getBlackMatrix=function(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},i.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},i.prototype.crop=function(e,n,s,u){var l=this.binarizer.getLuminanceSource().crop(e,n,s,u);return new i(this.binarizer.createBinarizer(l))},i.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},i.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new i(this.binarizer.createBinarizer(e))},i.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new i(this.binarizer.createBinarizer(e))},i.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},i}();var Qn=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const mi=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Qn(e,i),e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Tn),zu=function(){function i(e){this.source=e}return i.prototype.getLuminanceSource=function(){return this.source},i.prototype.getWidth=function(){return this.source.getWidth()},i.prototype.getHeight=function(){return this.source.getHeight()},i}(),jr=function(){function i(){}return i.arraycopy=function(e,n,s,u,l){for(;l--;)s[u++]=e[n++]},i.currentTimeMillis=function(){return Date.now()},i}();var Wc=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const wu=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Wc(e,i),e.kind="IndexOutOfBoundsException",e}(Tn);var Ec=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Cc=function(i){function e(n,s){void 0===n&&(n=void 0),void 0===s&&(s=void 0);var u=i.call(this,s)||this;return u.index=n,u.message=s,u}return Ec(e,i),e.kind="ArrayIndexOutOfBoundsException",e}(wu),Qr=function(){function i(){}return i.fill=function(e,n){for(var s=0,u=e.length;s<u;s++)e[s]=n},i.fillWithin=function(e,n,s,u){i.rangeCheck(e.length,n,s);for(var l=n;l<s;l++)e[l]=u},i.rangeCheck=function(e,n,s){if(n>s)throw new _n("fromIndex("+n+") > toIndex("+s+")");if(n<0)throw new Cc(n);if(s>e)throw new Cc(s)},i.asList=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e},i.create=function(e,n,s){return Array.from({length:e}).map(function(l){return Array.from({length:n}).fill(s)})},i.createInt32Array=function(e,n,s){return Array.from({length:e}).map(function(l){return Int32Array.from({length:n}).fill(s)})},i.equals=function(e,n){if(!(e&&n&&e.length&&n.length&&e.length===n.length))return!1;for(var s=0,u=e.length;s<u;s++)if(e[s]!==n[s])return!1;return!0},i.hashCode=function(e){var n,s;if(null===e)return 0;var u=1;try{for(var l=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),g=l.next();!g.done;g=l.next())u=31*u+g.value}catch(y){n={error:y}}finally{try{g&&!g.done&&(s=l.return)&&s.call(l)}finally{if(n)throw n.error}}return u},i.fillUint8Array=function(e,n){for(var s=0;s!==e.length;s++)e[s]=n},i.copyOf=function(e,n){return e.slice(0,n)},i.copyOfUint8Array=function(e,n){if(e.length<=n){var s=new Uint8Array(n);return s.set(e),s}return e.slice(0,n)},i.copyOfRange=function(e,n,s){var u=s-n,l=new Int32Array(u);return jr.arraycopy(e,n,l,0,u),l},i.binarySearch=function(e,n,s){void 0===s&&(s=i.numberComparator);for(var u=0,l=e.length-1;u<=l;){var g=l+u>>1,m=s(n,e[g]);if(m>0)u=g+1;else{if(!(m<0))return g;l=g-1}}return-u-1},i.numberComparator=function(e,n){return e-n},i}(),sr=function(){function i(){}return i.numberOfTrailingZeros=function(e){var n;if(0===e)return 32;var s=31;return 0!=(n=e<<16)&&(s-=16,e=n),0!=(n=e<<8)&&(s-=8,e=n),0!=(n=e<<4)&&(s-=4,e=n),0!=(n=e<<2)&&(s-=2,e=n),s-(e<<1>>>31)},i.numberOfLeadingZeros=function(e){if(0===e)return 32;var n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-(e>>>31)},i.toHexString=function(e){return e.toString(16)},i.toBinaryString=function(e){return String(parseInt(String(e),2))},i.bitCount=function(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,63&(e+=e>>>8)+(e>>>16)},i.truncDivision=function(e,n){return Math.trunc(e/n)},i.parseInt=function(e,n){return void 0===n&&(n=void 0),parseInt(e,n)},i.MIN_VALUE_32_BITS=-2147483648,i.MAX_VALUE=Number.MAX_SAFE_INTEGER,i}(),_i=function(){function i(e,n){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=null==n?i.makeArray(e):n)}return i.prototype.getSize=function(){return this.size},i.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},i.prototype.ensureCapacity=function(e){if(e>32*this.bits.length){var n=i.makeArray(e);jr.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},i.prototype.get=function(e){return!!(this.bits[Math.floor(e/32)]&1<<(31&e))},i.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(31&e)},i.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(31&e)},i.prototype.getNextSet=function(e){var n=this.size;if(e>=n)return n;var s=this.bits,u=Math.floor(e/32),l=s[u];l&=~((1<<(31&e))-1);for(var g=s.length;0===l;){if(++u===g)return n;l=s[u]}var m=32*u+sr.numberOfTrailingZeros(l);return m>n?n:m},i.prototype.getNextUnset=function(e){var n=this.size;if(e>=n)return n;var s=this.bits,u=Math.floor(e/32),l=~s[u];l&=~((1<<(31&e))-1);for(var g=s.length;0===l;){if(++u===g)return n;l=~s[u]}var m=32*u+sr.numberOfTrailingZeros(l);return m>n?n:m},i.prototype.setBulk=function(e,n){this.bits[Math.floor(e/32)]=n},i.prototype.setRange=function(e,n){if(n<e||e<0||n>this.size)throw new _n;if(n!==e){n--;for(var s=Math.floor(e/32),u=Math.floor(n/32),l=this.bits,g=s;g<=u;g++)l[g]|=(2<<(g<u?31:31&n))-(1<<(g>s?0:31&e))}},i.prototype.clear=function(){for(var e=this.bits.length,n=this.bits,s=0;s<e;s++)n[s]=0},i.prototype.isRange=function(e,n,s){if(n<e||e<0||n>this.size)throw new _n;if(n===e)return!0;n--;for(var u=Math.floor(e/32),l=Math.floor(n/32),g=this.bits,m=u;m<=l;m++){var P=(2<<(m<l?31:31&n))-(1<<(m>u?0:31&e))&4294967295;if((g[m]&P)!==(s?P:0))return!1}return!0},i.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},i.prototype.appendBits=function(e,n){if(n<0||n>32)throw new _n("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var s=n;s>0;s--)this.appendBit(1==(e>>s-1&1))},i.prototype.appendBitArray=function(e){var n=e.size;this.ensureCapacity(this.size+n);for(var s=0;s<n;s++)this.appendBit(e.get(s))},i.prototype.xor=function(e){if(this.size!==e.size)throw new _n("Sizes don't match");for(var n=this.bits,s=0,u=n.length;s<u;s++)n[s]^=e.bits[s]},i.prototype.toBytes=function(e,n,s,u){for(var l=0;l<u;l++){for(var g=0,m=0;m<8;m++)this.get(e)&&(g|=1<<7-m),e++;n[s+l]=g}},i.prototype.getBitArray=function(){return this.bits},i.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),s=n+1,u=this.bits,l=0;l<s;l++){var g=u[l];e[n-l]=g=(g=(g=(g=(g=g>>1&1431655765|(1431655765&g)<<1)>>2&858993459|(858993459&g)<<2)>>4&252645135|(252645135&g)<<4)>>8&16711935|(16711935&g)<<8)>>16&65535|(65535&g)<<16}if(this.size!==32*s){var m=32*s-this.size,y=e[0]>>>m;for(l=1;l<s;l++){var T=e[l];e[l-1]=y|=T<<32-m,y=T>>>m}e[s-1]=y}this.bits=e},i.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},i.prototype.equals=function(e){return e instanceof i&&(this.size===e.size&&Qr.equals(this.bits,e.bits))},i.prototype.hashCode=function(){return 31*this.size+Qr.hashCode(this.bits)},i.prototype.toString=function(){for(var e="",n=0,s=this.size;n<s;n++)7&n||(e+=" "),e+=this.get(n)?"X":".";return e},i.prototype.clone=function(){return new i(this.size,this.bits.slice())},i.prototype.toArray=function(){for(var e=[],n=0,s=this.size;n<s;n++)e.push(this.get(n));return e},i}();var Za=function(i){return i[i.OTHER=0]="OTHER",i[i.PURE_BARCODE=1]="PURE_BARCODE",i[i.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",i[i.TRY_HARDER=3]="TRY_HARDER",i[i.CHARACTER_SET=4]="CHARACTER_SET",i[i.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",i[i.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",i[i.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",i[i.ASSUME_GS1=8]="ASSUME_GS1",i[i.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",i[i.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",i[i.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS",i}(Za||{});const Ln=Za;var qn=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Qt=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return qn(e,i),e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Tn);var vr=function(i){return i[i.Cp437=0]="Cp437",i[i.ISO8859_1=1]="ISO8859_1",i[i.ISO8859_2=2]="ISO8859_2",i[i.ISO8859_3=3]="ISO8859_3",i[i.ISO8859_4=4]="ISO8859_4",i[i.ISO8859_5=5]="ISO8859_5",i[i.ISO8859_6=6]="ISO8859_6",i[i.ISO8859_7=7]="ISO8859_7",i[i.ISO8859_8=8]="ISO8859_8",i[i.ISO8859_9=9]="ISO8859_9",i[i.ISO8859_10=10]="ISO8859_10",i[i.ISO8859_11=11]="ISO8859_11",i[i.ISO8859_13=12]="ISO8859_13",i[i.ISO8859_14=13]="ISO8859_14",i[i.ISO8859_15=14]="ISO8859_15",i[i.ISO8859_16=15]="ISO8859_16",i[i.SJIS=16]="SJIS",i[i.Cp1250=17]="Cp1250",i[i.Cp1251=18]="Cp1251",i[i.Cp1252=19]="Cp1252",i[i.Cp1256=20]="Cp1256",i[i.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",i[i.UTF8=22]="UTF8",i[i.ASCII=23]="ASCII",i[i.Big5=24]="Big5",i[i.GB18030=25]="GB18030",i[i.EUC_KR=26]="EUC_KR",i}(vr||{});const co=function(){function i(e,n,s){for(var u,l,g=[],m=3;m<arguments.length;m++)g[m-3]=arguments[m];this.valueIdentifier=e,this.name=s,this.values="number"==typeof n?Int32Array.from([n]):n,this.otherEncodingNames=g,i.VALUE_IDENTIFIER_TO_ECI.set(e,this),i.NAME_TO_ECI.set(s,this);for(var y=this.values,T=0,P=y.length;T!==P;T++)i.VALUES_TO_ECI.set(y[T],this);try{for(var $=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(g),q=$.next();!q.done;q=$.next())i.NAME_TO_ECI.set(q.value,this)}catch(ve){u={error:ve}}finally{try{q&&!q.done&&(l=$.return)&&l.call($)}finally{if(u)throw u.error}}}return i.prototype.getValueIdentifier=function(){return this.valueIdentifier},i.prototype.getName=function(){return this.name},i.prototype.getValue=function(){return this.values[0]},i.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Qt("incorect value");var n=i.VALUES_TO_ECI.get(e);if(void 0===n)throw new Qt("incorect value");return n},i.getCharacterSetECIByName=function(e){var n=i.NAME_TO_ECI.get(e);if(void 0===n)throw new Qt("incorect value");return n},i.prototype.equals=function(e){if(!(e instanceof i))return!1;var n=e;return this.getName()===n.getName()},i.VALUE_IDENTIFIER_TO_ECI=new Map,i.VALUES_TO_ECI=new Map,i.NAME_TO_ECI=new Map,i.Cp437=new i(vr.Cp437,Int32Array.from([0,2]),"Cp437"),i.ISO8859_1=new i(vr.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),i.ISO8859_2=new i(vr.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),i.ISO8859_3=new i(vr.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),i.ISO8859_4=new i(vr.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),i.ISO8859_5=new i(vr.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),i.ISO8859_6=new i(vr.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),i.ISO8859_7=new i(vr.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),i.ISO8859_8=new i(vr.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),i.ISO8859_9=new i(vr.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),i.ISO8859_10=new i(vr.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),i.ISO8859_11=new i(vr.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),i.ISO8859_13=new i(vr.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),i.ISO8859_14=new i(vr.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),i.ISO8859_15=new i(vr.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),i.ISO8859_16=new i(vr.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),i.SJIS=new i(vr.SJIS,20,"SJIS","Shift_JIS"),i.Cp1250=new i(vr.Cp1250,21,"Cp1250","windows-1250"),i.Cp1251=new i(vr.Cp1251,22,"Cp1251","windows-1251"),i.Cp1252=new i(vr.Cp1252,23,"Cp1252","windows-1252"),i.Cp1256=new i(vr.Cp1256,24,"Cp1256","windows-1256"),i.UnicodeBigUnmarked=new i(vr.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),i.UTF8=new i(vr.UTF8,26,"UTF8","UTF-8"),i.ASCII=new i(vr.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),i.Big5=new i(vr.Big5,28,"Big5"),i.GB18030=new i(vr.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),i.EUC_KR=new i(vr.EUC_KR,30,"EUC_KR","EUC-KR"),i}();var F=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const W=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return F(e,i),e.kind="UnsupportedOperationException",e}(Tn),we=function(){function i(){}return i.decode=function(e,n){var s=this.encodingName(n);return this.customDecoder?this.customDecoder(e,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(e,s):new TextDecoder(s).decode(e)},i.shouldDecodeOnFallback=function(e){return!i.isBrowser()&&"ISO-8859-1"===e},i.encode=function(e,n){var s=this.encodingName(n);return this.customEncoder?this.customEncoder(e,s):typeof TextEncoder>"u"?this.encodeFallback(e):(new TextEncoder).encode(e)},i.isBrowser=function(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)},i.encodingName=function(e){return"string"==typeof e?e:e.getName()},i.encodingCharacterSet=function(e){return e instanceof co?e:co.getCharacterSetECIByName(e)},i.decodeFallback=function(e,n){var s=this.encodingCharacterSet(n);if(i.isDecodeFallbackSupported(s)){for(var u="",l=0,g=e.length;l<g;l++){var m=e[l].toString(16);m.length<2&&(m="0"+m),u+="%"+m}return decodeURIComponent(u)}if(s.equals(co.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new W("Encoding "+this.encodingName(n)+" not supported by fallback.")},i.isDecodeFallbackSupported=function(e){return e.equals(co.UTF8)||e.equals(co.ISO8859_1)||e.equals(co.ASCII)},i.encodeFallback=function(e){for(var s=btoa(unescape(encodeURIComponent(e))).split(""),u=[],l=0;l<s.length;l++)u.push(s[l].charCodeAt(0));return new Uint8Array(u)},i}(),mt=function(){function i(){}return i.castAsNonUtf8Char=function(e,n){void 0===n&&(n=null);var s=n?n.getName():this.ISO88591;return we.decode(new Uint8Array([e]),s)},i.guessEncoding=function(e,n){if(null!=n&&void 0!==n.get(Ln.CHARACTER_SET))return n.get(Ln.CHARACTER_SET).toString();for(var s=e.length,u=!0,l=!0,g=!0,m=0,y=0,T=0,P=0,V=0,$=0,q=0,se=0,ve=0,De=0,Ve=0,Pe=e.length>3&&239===e[0]&&187===e[1]&&191===e[2],Ye=0;Ye<s&&(u||l||g);Ye++){var at=255&e[Ye];g&&(m>0?128&at?m--:g=!1:128&at&&(64&at?(m++,32&at?(m++,16&at?(m++,8&at?g=!1:P++):T++):y++):g=!1)),u&&(at>127&&at<160?u=!1:at>159&&(at<192||215===at||247===at)&&Ve++),l&&(V>0?at<64||127===at||at>252?l=!1:V--:128===at||160===at||at>239?l=!1:at>160&&at<224?($++,se=0,++q>ve&&(ve=q)):at>127?(V++,q=0,++se>De&&(De=se)):(q=0,se=0))}return g&&m>0&&(g=!1),l&&V>0&&(l=!1),g&&(Pe||y+T+P>0)?i.UTF8:l&&(i.ASSUME_SHIFT_JIS||ve>=3||De>=3)?i.SHIFT_JIS:u&&l?2===ve&&2===$||10*Ve>=s?i.SHIFT_JIS:i.ISO88591:u?i.ISO88591:l?i.SHIFT_JIS:g?i.UTF8:i.PLATFORM_DEFAULT_ENCODING},i.format=function(e){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];var u=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function l(m,y,T,P,V,$){if("%%"===m)return"%";if(void 0!==n[++u]){m=P?parseInt(P.substr(1)):void 0;var se,q=V?parseInt(V.substr(1)):void 0;switch($){case"s":se=n[u];break;case"c":se=n[u][0];break;case"f":se=parseFloat(n[u]).toFixed(m);break;case"p":se=parseFloat(n[u]).toPrecision(m);break;case"e":se=parseFloat(n[u]).toExponential(m);break;case"x":se=parseInt(n[u]).toString(q||16);break;case"d":se=parseFloat(parseInt(n[u],q||10).toPrecision(m)).toFixed(0)}se="object"==typeof se?JSON.stringify(se):(+se).toString(q);for(var ve=parseInt(T),De=T&&T[0]+""=="0"?"0":" ";se.length<ve;)se=void 0!==y?se+De:De+se;return se}})},i.getBytes=function(e,n){return we.encode(e,n)},i.getCharCode=function(e,n){return void 0===n&&(n=0),e.charCodeAt(n)},i.getCharAt=function(e){return String.fromCharCode(e)},i.SHIFT_JIS=co.SJIS.getName(),i.GB2312="GB2312",i.ISO88591=co.ISO8859_1.getName(),i.EUC_JP="EUC_JP",i.UTF8=co.UTF8.getName(),i.PLATFORM_DEFAULT_ENCODING=i.UTF8,i.ASSUME_SHIFT_JIS=!1,i}(),fn=function(){function i(e){void 0===e&&(e=""),this.value=e}return i.prototype.enableDecoding=function(e){return this.encoding=e,this},i.prototype.append=function(e){return this.value+="string"==typeof e?e.toString():this.encoding?mt.castAsNonUtf8Char(e,this.encoding):String.fromCharCode(e),this},i.prototype.appendChars=function(e,n,s){for(var u=n;n<n+s;u++)this.append(e[u]);return this},i.prototype.length=function(){return this.value.length},i.prototype.charAt=function(e){return this.value.charAt(e)},i.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},i.prototype.setCharAt=function(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)},i.prototype.substring=function(e,n){return this.value.substring(e,n)},i.prototype.setLengthToZero=function(){this.value=""},i.prototype.toString=function(){return this.value},i.prototype.insert=function(e,n){this.value=this.value.substring(0,e)+n+this.value.substring(e)},i}(),tr=function(){function i(e,n,s,u){if(this.width=e,this.height=n,this.rowSize=s,this.bits=u,null==n&&(n=e),this.height=n,e<1||n<1)throw new _n("Both dimensions must be greater than 0");null==s&&(s=Math.floor((e+31)/32)),this.rowSize=s,null==u&&(this.bits=new Int32Array(this.rowSize*this.height))}return i.parseFromBooleanArray=function(e){for(var n=e.length,s=e[0].length,u=new i(s,n),l=0;l<n;l++)for(var g=e[l],m=0;m<s;m++)g[m]&&u.set(m,l);return u},i.parseFromString=function(e,n,s){if(null===e)throw new _n("stringRepresentation cannot be null");for(var u=new Array(e.length),l=0,g=0,m=-1,y=0,T=0;T<e.length;)if("\n"===e.charAt(T)||"\r"===e.charAt(T)){if(l>g){if(-1===m)m=l-g;else if(l-g!==m)throw new _n("row lengths do not match");g=l,y++}T++}else if(e.substring(T,T+n.length)===n)T+=n.length,u[l]=!0,l++;else{if(e.substring(T,T+s.length)!==s)throw new _n("illegal character encountered: "+e.substring(T));T+=s.length,u[l]=!1,l++}if(l>g){if(-1===m)m=l-g;else if(l-g!==m)throw new _n("row lengths do not match");y++}for(var P=new i(m,y),V=0;V<l;V++)u[V]&&P.set(Math.floor(V%m),Math.floor(V/m));return P},i.prototype.get=function(e,n){var s=n*this.rowSize+Math.floor(e/32);return!!(this.bits[s]>>>(31&e)&1)},i.prototype.set=function(e,n){var s=n*this.rowSize+Math.floor(e/32);this.bits[s]|=1<<(31&e)&4294967295},i.prototype.unset=function(e,n){var s=n*this.rowSize+Math.floor(e/32);this.bits[s]&=~(1<<(31&e)&4294967295)},i.prototype.flip=function(e,n){var s=n*this.rowSize+Math.floor(e/32);this.bits[s]^=1<<(31&e)&4294967295},i.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new _n("input matrix dimensions do not match");for(var n=new _i(Math.floor(this.width/32)+1),s=this.rowSize,u=this.bits,l=0,g=this.height;l<g;l++)for(var m=l*s,y=e.getRow(l,n).getBitArray(),T=0;T<s;T++)u[m+T]^=y[T]},i.prototype.clear=function(){for(var e=this.bits,n=e.length,s=0;s<n;s++)e[s]=0},i.prototype.setRegion=function(e,n,s,u){if(n<0||e<0)throw new _n("Left and top must be nonnegative");if(u<1||s<1)throw new _n("Height and width must be at least 1");var l=e+s,g=n+u;if(g>this.height||l>this.width)throw new _n("The region must fit inside the matrix");for(var m=this.rowSize,y=this.bits,T=n;T<g;T++)for(var P=T*m,V=e;V<l;V++)y[P+Math.floor(V/32)]|=1<<(31&V)&4294967295},i.prototype.getRow=function(e,n){null==n||n.getSize()<this.width?n=new _i(this.width):n.clear();for(var s=this.rowSize,u=this.bits,l=e*s,g=0;g<s;g++)n.setBulk(32*g,u[l+g]);return n},i.prototype.setRow=function(e,n){jr.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},i.prototype.rotate180=function(){for(var e=this.getWidth(),n=this.getHeight(),s=new _i(e),u=new _i(e),l=0,g=Math.floor((n+1)/2);l<g;l++)s=this.getRow(l,s),u=this.getRow(n-1-l,u),s.reverse(),u.reverse(),this.setRow(l,u),this.setRow(n-1-l,s)},i.prototype.getEnclosingRectangle=function(){for(var n=this.height,s=this.rowSize,u=this.bits,l=this.width,g=n,m=-1,y=-1,T=0;T<n;T++)for(var P=0;P<s;P++){var V=u[T*s+P];if(0!==V){if(T<g&&(g=T),T>y&&(y=T),32*P<l){for(var $=0;!(V<<31-$&4294967295);)$++;32*P+$<l&&(l=32*P+$)}if(32*P+31>m){for($=31;!(V>>>$);)$--;32*P+$>m&&(m=32*P+$)}}}return m<l||y<g?null:Int32Array.from([l,g,m-l+1,y-g+1])},i.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,n=this.bits,s=0;s<n.length&&0===n[s];)s++;if(s===n.length)return null;for(var u=s/e,l=s%e*32,g=n[s],m=0;!(g<<31-m&4294967295);)m++;return Int32Array.from([l+=m,u])},i.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,n=this.bits,s=n.length-1;s>=0&&0===n[s];)s--;if(s<0)return null;for(var u=Math.floor(s/e),l=32*Math.floor(s%e),g=n[s],m=31;!(g>>>m);)m--;return Int32Array.from([l+=m,u])},i.prototype.getWidth=function(){return this.width},i.prototype.getHeight=function(){return this.height},i.prototype.getRowSize=function(){return this.rowSize},i.prototype.equals=function(e){return e instanceof i&&(this.width===e.width&&this.height===e.height&&this.rowSize===e.rowSize&&Qr.equals(this.bits,e.bits))},i.prototype.hashCode=function(){var e=this.width;return 31*(e=31*(e=31*(e=31*e+this.width)+this.height)+this.rowSize)+Qr.hashCode(this.bits)},i.prototype.toString=function(e,n,s){return void 0===e&&(e="X "),void 0===n&&(n="  "),void 0===s&&(s="\n"),this.buildToString(e,n,s)},i.prototype.buildToString=function(e,n,s){for(var u=new fn,l=0,g=this.height;l<g;l++){for(var m=0,y=this.width;m<y;m++)u.append(this.get(m,l)?e:n);u.append(s)}return u.toString()},i.prototype.clone=function(){return new i(this.width,this.height,this.rowSize,this.bits.slice())},i}();var hr=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Ke=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return hr(e,i),e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Tn);var Wi=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const os=function(i){function e(n){var s=i.call(this,n)||this;return s.luminances=e.EMPTY,s.buckets=new Int32Array(e.LUMINANCE_BUCKETS),s}return Wi(e,i),e.prototype.getBlackRow=function(n,s){var u=this.getLuminanceSource(),l=u.getWidth();null==s||s.getSize()<l?s=new _i(l):s.clear(),this.initArrays(l);for(var g=u.getRow(n,this.luminances),m=this.buckets,y=0;y<l;y++)m[(255&g[y])>>e.LUMINANCE_SHIFT]++;var T=e.estimateBlackPoint(m);if(l<3)for(y=0;y<l;y++)(255&g[y])<T&&s.set(y);else{var P=255&g[0],V=255&g[1];for(y=1;y<l-1;y++){var $=255&g[y+1];(4*V-P-$)/2<T&&s.set(y),P=V,V=$}}return s},e.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),s=n.getWidth(),u=n.getHeight(),l=new tr(s,u);this.initArrays(s);for(var g=this.buckets,m=1;m<5;m++)for(var y=Math.floor(u*m/5),T=n.getRow(y,this.luminances),P=Math.floor(4*s/5),V=Math.floor(s/5);V<P;V++)g[(255&T[V])>>e.LUMINANCE_SHIFT]++;var q=e.estimateBlackPoint(g),se=n.getMatrix();for(m=0;m<u;m++){var ve=m*s;for(V=0;V<s;V++)(255&se[ve+V])<q&&l.set(V,m)}return l},e.prototype.createBinarizer=function(n){return new e(n)},e.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var s=this.buckets,u=0;u<e.LUMINANCE_BUCKETS;u++)s[u]=0},e.estimateBlackPoint=function(n){for(var s=n.length,u=0,l=0,g=0,m=0;m<s;m++)n[m]>g&&(l=m,g=n[m]),n[m]>u&&(u=n[m]);var y=0,T=0;for(m=0;m<s;m++){var P=m-l;(V=n[m]*P*P)>T&&(y=m,T=V)}if(l>y){var $=l;l=y,y=$}if(y-l<=s/16)throw new Ke;var q=y-1,se=-1;for(m=y-1;m>l;m--){var V,ve=m-l;(V=ve*ve*(y-m)*(u-n[m]))>se&&(q=m,se=V)}return q<<e.LUMINANCE_SHIFT},e.LUMINANCE_SHIFT=8-(e.LUMINANCE_BITS=5),e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(zu);var Yo=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Mi=function(i){function e(n){var s=i.call(this,n)||this;return s.matrix=null,s}return Yo(e,i),e.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var n=this.getLuminanceSource(),s=n.getWidth(),u=n.getHeight();if(s>=e.MINIMUM_DIMENSION&&u>=e.MINIMUM_DIMENSION){var l=n.getMatrix(),g=s>>e.BLOCK_SIZE_POWER;s&e.BLOCK_SIZE_MASK&&g++;var m=u>>e.BLOCK_SIZE_POWER;u&e.BLOCK_SIZE_MASK&&m++;var y=e.calculateBlackPoints(l,g,m,s,u),T=new tr(s,u);e.calculateThresholdForBlock(l,g,m,s,u,y,T),this.matrix=T}else this.matrix=i.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(n){return new e(n)},e.calculateThresholdForBlock=function(n,s,u,l,g,m,y){for(var T=g-e.BLOCK_SIZE,P=l-e.BLOCK_SIZE,V=0;V<u;V++){var $=V<<e.BLOCK_SIZE_POWER;$>T&&($=T);for(var q=e.cap(V,2,u-3),se=0;se<s;se++){var ve=se<<e.BLOCK_SIZE_POWER;ve>P&&(ve=P);for(var De=e.cap(se,2,s-3),Ve=0,Pe=-2;Pe<=2;Pe++){var Ye=m[q+Pe];Ve+=Ye[De-2]+Ye[De-1]+Ye[De]+Ye[De+1]+Ye[De+2]}e.thresholdBlock(n,ve,$,Ve/25,l,y)}}},e.cap=function(n,s,u){return n<s?s:n>u?u:n},e.thresholdBlock=function(n,s,u,l,g,m){for(var y=0,T=u*g+s;y<e.BLOCK_SIZE;y++,T+=g)for(var P=0;P<e.BLOCK_SIZE;P++)(255&n[T+P])<=l&&m.set(s+P,u+y)},e.calculateBlackPoints=function(n,s,u,l,g){for(var m=g-e.BLOCK_SIZE,y=l-e.BLOCK_SIZE,T=new Array(u),P=0;P<u;P++){T[P]=new Int32Array(s);var V=P<<e.BLOCK_SIZE_POWER;V>m&&(V=m);for(var $=0;$<s;$++){var q=$<<e.BLOCK_SIZE_POWER;q>y&&(q=y);for(var se=0,ve=255,De=0,Ve=0,Pe=V*l+q;Ve<e.BLOCK_SIZE;Ve++,Pe+=l){for(var Ye=0;Ye<e.BLOCK_SIZE;Ye++){var at=255&n[Pe+Ye];se+=at,at<ve&&(ve=at),at>De&&(De=at)}if(De-ve>e.MIN_DYNAMIC_RANGE)for(Ve++,Pe+=l;Ve<e.BLOCK_SIZE;Ve++,Pe+=l)for(Ye=0;Ye<e.BLOCK_SIZE;Ye++)se+=255&n[Pe+Ye]}var kt=se>>2*e.BLOCK_SIZE_POWER;if(De-ve<=e.MIN_DYNAMIC_RANGE&&(kt=ve/2,P>0&&$>0)){var zt=(T[P-1][$]+2*T[P][$-1]+T[P-1][$-1])/4;ve<zt&&(kt=zt)}T[P][$]=kt}}return T},e.BLOCK_SIZE_MASK=(e.BLOCK_SIZE=1<<(e.BLOCK_SIZE_POWER=3))-1,e.MINIMUM_DIMENSION=5*e.BLOCK_SIZE,e.MIN_DYNAMIC_RANGE=24,e}(os),vn=function(){function i(e,n){this.width=e,this.height=n}return i.prototype.getWidth=function(){return this.width},i.prototype.getHeight=function(){return this.height},i.prototype.isCropSupported=function(){return!1},i.prototype.crop=function(e,n,s,u){throw new W("This luminance source does not support cropping.")},i.prototype.isRotateSupported=function(){return!1},i.prototype.rotateCounterClockwise=function(){throw new W("This luminance source does not support rotation by 90 degrees.")},i.prototype.rotateCounterClockwise45=function(){throw new W("This luminance source does not support rotation by 45 degrees.")},i.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),n=new fn,s=0;s<this.height;s++){for(var u=this.getRow(s,e),l=0;l<this.width;l++){var g=255&u[l];n.append(g<64?"#":g<128?"+":g<192?".":" ")}n.append("\n")}return n.toString()},i}();var Ts=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const xs=function(i){function e(n){var s=i.call(this,n.getWidth(),n.getHeight())||this;return s.delegate=n,s}return Ts(e,i),e.prototype.getRow=function(n,s){for(var u=this.delegate.getRow(n,s),l=this.getWidth(),g=0;g<l;g++)u[g]=255-(255&u[g]);return u},e.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(s),l=0;l<s;l++)u[l]=255-(255&n[l]);return u},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(n,s,u,l){return new e(this.delegate.crop(n,s,u,l))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(vn);var qu=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),Hl=function(i){function e(n){var s=i.call(this,n.width,n.height)||this;return s.canvas=n,s.tempCanvasElement=null,s.buffer=e.makeBufferFromCanvasImageData(n),s}return qu(e,i),e.makeBufferFromCanvasImageData=function(n){var s=n.getContext("2d").getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(s.data,n.width,n.height)},e.toGrayscaleBuffer=function(n,s,u){var l=new Uint8ClampedArray(s*u);if(e.FRAME_INDEX=!e.FRAME_INDEX)for(var g=0,m=0,y=n.length;g<y;g+=4,m++){l[m]=0===n[g+3]?255:306*n[g]+601*n[g+1]+117*n[g+2]+512>>10}else{g=0,m=0;for(var se=n.length;g<se;g+=4,m++)void 0,l[m]=255-(0===n[g+3]?255:306*n[g]+601*n[g+1]+117*n[g+2]+512>>10)}return l},e.prototype.getRow=function(n,s){if(n<0||n>=this.getHeight())throw new _n("Requested row is outside the image: "+n);var u=this.getWidth(),l=n*u;return null===s?s=this.buffer.slice(l,l+u):(s.length<u&&(s=new Uint8ClampedArray(u)),s.set(this.buffer.slice(l,l+u))),s},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,s,u,l){return i.prototype.crop.call(this,n,s,u,l),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var s=this.getTempCanvasElement(),u=s.getContext("2d"),l=n*e.DEGREE_TO_RADIANS,g=this.canvas.width,m=this.canvas.height,y=Math.ceil(Math.abs(Math.cos(l))*g+Math.abs(Math.sin(l))*m),T=Math.ceil(Math.abs(Math.sin(l))*g+Math.abs(Math.cos(l))*m);return s.width=y,s.height=T,u.translate(y/2,T/2),u.rotate(l),u.drawImage(this.canvas,g/-2,m/-2),this.buffer=e.makeBufferFromCanvasImageData(s),this},e.prototype.invert=function(){return new xs(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(vn),Md=function(){function i(e,n,s){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=s||void 0}return i.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},i}(),ss=function(i,e,n,s){return new(n||(n=Promise))(function(l,g){function m(P){try{T(s.next(P))}catch(V){g(V)}}function y(P){try{T(s.throw(P))}catch(V){g(V)}}function T(P){P.done?l(P.value):function u(l){return l instanceof n?l:new n(function(g){g(l)})}(P.value).then(m,y)}T((s=s.apply(i,e||[])).next())})},xo=function(i,e){var s,u,l,g,n={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return g={next:m(0),throw:m(1),return:m(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function m(T){return function(P){return function y(T){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,u&&(l=2&T[0]?u.return:T[0]?u.throw||((l=u.return)&&l.call(u),0):u.next)&&!(l=l.call(u,T[1])).done)return l;switch(u=0,l&&(T=[2&T[0],l.value]),T[0]){case 0:case 1:l=T;break;case 4:return n.label++,{value:T[1],done:!1};case 5:n.label++,u=T[1],T=[0];continue;case 7:T=n.ops.pop(),n.trys.pop();continue;default:if(!(l=(l=n.trys).length>0&&l[l.length-1])&&(6===T[0]||2===T[0])){n=0;continue}if(3===T[0]&&(!l||T[1]>l[0]&&T[1]<l[3])){n.label=T[1];break}if(6===T[0]&&n.label<l[1]){n.label=l[1],l=T;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(T);break}l[2]&&n.ops.pop(),n.trys.pop();continue}T=e.call(i,n)}catch(P){T=[6,P],u=0}finally{s=l=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,P])}}},ia=function(){function i(e,n,s){void 0===n&&(n=500),this.reader=e,this.timeBetweenScansMillis=n,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(i.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),i.prototype.listVideoInputDevices=function(){return ss(this,void 0,void 0,function(){var e,n,s,u,l,g,V,$;return xo(this,function(q){switch(q.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=q.sent(),n=[];try{for(s=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),u=s.next();!u.done;u=s.next())"videoinput"===(g="video"===(l=u.value).kind?"videoinput":l.kind)&&n.push({deviceId:l.deviceId||l.id,label:l.label||"Video device "+(n.length+1),kind:g,groupId:l.groupId})}catch(se){V={error:se}}finally{try{u&&!u.done&&($=s.return)&&$.call(s)}finally{if(V)throw V.error}}return[2,n]}})})},i.prototype.getVideoInputDevices=function(){return ss(this,void 0,void 0,function(){return xo(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,n.sent().map(function(s){return new Md(s.deviceId,s.label)})]}})})},i.prototype.findDeviceById=function(e){return ss(this,void 0,void 0,function(){var n;return xo(this,function(s){switch(s.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(n=s.sent())?[2,n.find(function(u){return u.deviceId===e})]:[2,null]}})})},i.prototype.decodeFromInputVideoDevice=function(e,n){return ss(this,void 0,void 0,function(){return xo(this,function(s){switch(s.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,n)];case 1:return[2,s.sent()]}})})},i.prototype.decodeOnceFromVideoDevice=function(e,n){return ss(this,void 0,void 0,function(){return xo(this,function(l){switch(l.label){case 0:return this.reset(),[4,this.decodeOnceFromConstraints({video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},n)];case 1:return[2,l.sent()]}})})},i.prototype.decodeOnceFromConstraints=function(e,n){return ss(this,void 0,void 0,function(){var s;return xo(this,function(u){switch(u.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return s=u.sent(),[4,this.decodeOnceFromStream(s,n)];case 2:return[2,u.sent()]}})})},i.prototype.decodeOnceFromStream=function(e,n){return ss(this,void 0,void 0,function(){var s;return xo(this,function(l){switch(l.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return s=l.sent(),[4,this.decodeOnce(s)];case 2:return[2,l.sent()]}})})},i.prototype.decodeFromInputVideoDeviceContinuously=function(e,n,s){return ss(this,void 0,void 0,function(){return xo(this,function(u){switch(u.label){case 0:return[4,this.decodeFromVideoDevice(e,n,s)];case 1:return[2,u.sent()]}})})},i.prototype.decodeFromVideoDevice=function(e,n,s){return ss(this,void 0,void 0,function(){return xo(this,function(g){switch(g.label){case 0:return[4,this.decodeFromConstraints({video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},n,s)];case 1:return[2,g.sent()]}})})},i.prototype.decodeFromConstraints=function(e,n,s){return ss(this,void 0,void 0,function(){var u;return xo(this,function(l){switch(l.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return u=l.sent(),[4,this.decodeFromStream(u,n,s)];case 2:return[2,l.sent()]}})})},i.prototype.decodeFromStream=function(e,n,s){return ss(this,void 0,void 0,function(){var u;return xo(this,function(l){switch(l.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return u=l.sent(),[4,this.decodeContinuously(u,s)];case 2:return[2,l.sent()]}})})},i.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},i.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},i.prototype.attachStreamToVideo=function(e,n){return ss(this,void 0,void 0,function(){var s;return xo(this,function(u){switch(u.label){case 0:return s=this.prepareVideoElement(n),this.addVideoSource(s,e),this.videoElement=s,this.stream=e,[4,this.playVideoOnLoadAsync(s)];case 1:return u.sent(),[2,s]}})})},i.prototype.playVideoOnLoadAsync=function(e){var n=this;return new Promise(function(s,u){return n.playVideoOnLoad(e,function(){return s()})})},i.prototype.playVideoOnLoad=function(e,n){var s=this;this.videoEndedListener=function(){return s.stopStreams()},this.videoCanPlayListener=function(){return s.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)},i.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},i.prototype.tryPlayVideo=function(e){return ss(this,void 0,void 0,function(){return xo(this,function(s){switch(s.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e.play()];case 2:return s.sent(),[3,4];case 3:return s.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},i.prototype.getMediaElement=function(e,n){var s=document.getElementById(e);if(!s)throw new Wr("element with id '"+e+"' not found");if(s.nodeName.toLowerCase()!==n.toLowerCase())throw new Wr("element with id '"+e+"' must be an "+n+" element");return s},i.prototype.decodeFromImage=function(e,n){if(!e&&!n)throw new Wr("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)},i.prototype.decodeFromVideo=function(e,n){if(!e&&!n)throw new Wr("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)},i.prototype.decodeFromVideoContinuously=function(e,n,s){if(void 0===e&&void 0===n)throw new Wr("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,s):this.decodeFromVideoElementContinuously(e,s)},i.prototype.decodeFromImageElement=function(e){if(!e)throw new Wr("An image element must be provided.");this.reset();var n=this.prepareImageElement(e);return this.imageElement=n,this.isImageLoaded(n)?this.decodeOnce(n,!1,!0):this._decodeOnLoadImage(n)},i.prototype.decodeFromVideoElement=function(e){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)},i.prototype.decodeFromVideoElementContinuously=function(e,n){var s=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(s,n)},i.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Wr("A video element must be provided.");this.reset();var n=this.prepareVideoElement(e);return this.videoElement=n,n},i.prototype.decodeFromImageUrl=function(e){if(!e)throw new Wr("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var s=this._decodeOnLoadImage(n);return n.src=e,s},i.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Wr("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),s=this.decodeFromVideoElement(n);return n.src=e,s},i.prototype.decodeFromVideoUrlContinuously=function(e,n){if(!e)throw new Wr("An URL must be provided.");this.reset();var s=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(s,n);return s.src=e,u},i.prototype._decodeOnLoadImage=function(e){var n=this;return new Promise(function(s,u){n.imageLoadedListener=function(){return n.decodeOnce(e,!1,!0).then(s,u)},e.addEventListener("load",n.imageLoadedListener)})},i.prototype._decodeOnLoadVideo=function(e){return ss(this,void 0,void 0,function(){return xo(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),[4,this.decodeOnce(e)];case 2:return[2,n.sent()]}})})},i.prototype._decodeOnLoadVideoContinuously=function(e,n){return ss(this,void 0,void 0,function(){return xo(this,function(s){switch(s.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return s.sent(),this.decodeContinuously(e,n),[2]}})})},i.prototype.isImageLoaded=function(e){return!(!e.complete||0===e.naturalWidth)},i.prototype.prepareImageElement=function(e){var n;return typeof e>"u"&&((n=document.createElement("img")).width=200,n.height=200),"string"==typeof e&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n},i.prototype.prepareVideoElement=function(e){var n;return!e&&typeof document<"u"&&((n=document.createElement("video")).width=200,n.height=200),"string"==typeof e&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},i.prototype.decodeOnce=function(e,n,s){var u=this;void 0===n&&(n=!0),void 0===s&&(s=!0),this._stopAsyncDecode=!1;var l=function(g,m){if(u._stopAsyncDecode)return m(new Ke("Video stream has ended before any code could be detected.")),void(u._stopAsyncDecode=void 0);try{g(u.decode(e))}catch($){if(n&&$ instanceof Ke||($ instanceof mi||$ instanceof Qt)&&s)return setTimeout(l,u._timeBetweenDecodingAttempts,g,m);m($)}};return new Promise(function(g,m){return l(g,m)})},i.prototype.decodeContinuously=function(e,n){var s=this;this._stopContinuousDecode=!1;var u=function(){if(s._stopContinuousDecode)s._stopContinuousDecode=void 0;else try{var l=s.decode(e);n(l,null),setTimeout(u,s.timeBetweenScansMillis)}catch(y){n(null,y),(y instanceof mi||y instanceof Qt||y instanceof Ke)&&setTimeout(u,s._timeBetweenDecodingAttempts)}};u()},i.prototype.decode=function(e){var n=this.createBinaryBitmap(e);return this.decodeBitmap(n)},i.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),e instanceof HTMLVideoElement?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var s=this.getCaptureCanvas(e),u=new Hl(s),l=new Mi(u);return new vc(l)},i.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(e),s=void 0;try{s=n.getContext("2d",{willReadFrequently:!0})}catch{s=n.getContext("2d")}this.captureCanvasContext=s}return this.captureCanvasContext},i.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas},i.prototype.drawFrameOnCanvas=function(e,n,s){void 0===n&&(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),void 0===s&&(s=this.captureCanvasContext),s.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},i.prototype.drawImageOnCanvas=function(e,n,s){void 0===n&&(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),void 0===s&&(s=this.captureCanvasContext),s.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},i.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},i.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var s,u,n=document.createElement("canvas");return typeof e<"u"&&(e instanceof HTMLVideoElement?(s=e.videoWidth,u=e.videoHeight):e instanceof HTMLImageElement&&(s=e.naturalWidth||e.width,u=e.naturalHeight||e.height)),n.style.width=s+"px",n.style.height=u+"px",n.width=s,n.height=u,n},i.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},i.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},i.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},i.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},i.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},i.prototype.addVideoSource=function(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}},i.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},i}();const qi=function(){function i(e,n,s,u,l,g){void 0===s&&(s=null==n?0:8*n.length),void 0===g&&(g=jr.currentTimeMillis()),this.text=e,this.rawBytes=n,this.numBits=s,this.resultPoints=u,this.format=l,this.timestamp=g,this.text=e,this.rawBytes=n,this.numBits=null==s?null==n?0:8*n.length:s,this.resultPoints=u,this.format=l,this.resultMetadata=null,this.timestamp=null==g?jr.currentTimeMillis():g}return i.prototype.getText=function(){return this.text},i.prototype.getRawBytes=function(){return this.rawBytes},i.prototype.getNumBits=function(){return this.numBits},i.prototype.getResultPoints=function(){return this.resultPoints},i.prototype.getBarcodeFormat=function(){return this.format},i.prototype.getResultMetadata=function(){return this.resultMetadata},i.prototype.putMetadata=function(e,n){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)},i.prototype.putAllMetadata=function(e){null!==e&&(this.resultMetadata=null===this.resultMetadata?e:new Map(e))},i.prototype.addResultPoints=function(e){var n=this.resultPoints;if(null===n)this.resultPoints=e;else if(null!==e&&e.length>0){var s=new Array(n.length+e.length);jr.arraycopy(n,0,s,0,n.length),jr.arraycopy(e,0,s,n.length,e.length),this.resultPoints=s}},i.prototype.getTimestamp=function(){return this.timestamp},i.prototype.toString=function(){return this.text},i}();var Kc=function(i){return i[i.AZTEC=0]="AZTEC",i[i.CODABAR=1]="CODABAR",i[i.CODE_39=2]="CODE_39",i[i.CODE_93=3]="CODE_93",i[i.CODE_128=4]="CODE_128",i[i.DATA_MATRIX=5]="DATA_MATRIX",i[i.EAN_8=6]="EAN_8",i[i.EAN_13=7]="EAN_13",i[i.ITF=8]="ITF",i[i.MAXICODE=9]="MAXICODE",i[i.PDF_417=10]="PDF_417",i[i.QR_CODE=11]="QR_CODE",i[i.RSS_14=12]="RSS_14",i[i.RSS_EXPANDED=13]="RSS_EXPANDED",i[i.UPC_A=14]="UPC_A",i[i.UPC_E=15]="UPC_E",i[i.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",i}(Kc||{});const cn=Kc;var ka=function(i){return i[i.OTHER=0]="OTHER",i[i.ORIENTATION=1]="ORIENTATION",i[i.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",i[i.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",i[i.ISSUE_NUMBER=4]="ISSUE_NUMBER",i[i.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",i[i.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",i[i.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",i[i.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",i[i.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",i[i.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",i}(ka||{});const Zi=ka,Ic=function(){function i(e,n,s,u,l,g){void 0===l&&(l=-1),void 0===g&&(g=-1),this.rawBytes=e,this.text=n,this.byteSegments=s,this.ecLevel=u,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=g,this.numBits=null==e?0:8*e.length}return i.prototype.getRawBytes=function(){return this.rawBytes},i.prototype.getNumBits=function(){return this.numBits},i.prototype.setNumBits=function(e){this.numBits=e},i.prototype.getText=function(){return this.text},i.prototype.getByteSegments=function(){return this.byteSegments},i.prototype.getECLevel=function(){return this.ecLevel},i.prototype.getErrorsCorrected=function(){return this.errorsCorrected},i.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},i.prototype.getErasures=function(){return this.erasures},i.prototype.setErasures=function(e){this.erasures=e},i.prototype.getOther=function(){return this.other},i.prototype.setOther=function(e){this.other=e},i.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},i.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},i.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},i}(),Ac=function(){function i(){}return i.prototype.exp=function(e){return this.expTable[e]},i.prototype.log=function(e){if(0===e)throw new _n;return this.logTable[e]},i.addOrSubtract=function(e,n){return e^n},i}(),Ja=function(){function i(e,n){if(0===n.length)throw new _n;this.field=e;var s=n.length;if(s>1&&0===n[0]){for(var u=1;u<s&&0===n[u];)u++;u===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-u),jr.arraycopy(n,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return i.prototype.getCoefficients=function(){return this.coefficients},i.prototype.getDegree=function(){return this.coefficients.length-1},i.prototype.isZero=function(){return 0===this.coefficients[0]},i.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},i.prototype.evaluateAt=function(e){if(0===e)return this.getCoefficient(0);var s,n=this.coefficients;if(1===e){s=0;for(var u=0,l=n.length;u!==l;u++)s=Ac.addOrSubtract(s,n[u]);return s}s=n[0];var m=n.length,y=this.field;for(u=1;u<m;u++)s=Ac.addOrSubtract(y.multiply(e,s),n[u]);return s},i.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new _n("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,s=e.coefficients;if(n.length>s.length){var u=n;n=s,s=u}var l=new Int32Array(s.length),g=s.length-n.length;jr.arraycopy(s,0,l,0,g);for(var m=g;m<s.length;m++)l[m]=Ac.addOrSubtract(n[m-g],s[m]);return new i(this.field,l)},i.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new _n("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,s=n.length,u=e.coefficients,l=u.length,g=new Int32Array(s+l-1),m=this.field,y=0;y<s;y++)for(var T=n[y],P=0;P<l;P++)g[y+P]=Ac.addOrSubtract(g[y+P],m.multiply(T,u[P]));return new i(m,g)},i.prototype.multiplyScalar=function(e){if(0===e)return this.field.getZero();if(1===e)return this;for(var n=this.coefficients.length,s=this.field,u=new Int32Array(n),l=this.coefficients,g=0;g<n;g++)u[g]=s.multiply(l[g],e);return new i(s,u)},i.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new _n;if(0===n)return this.field.getZero();for(var s=this.coefficients,u=s.length,l=new Int32Array(u+e),g=this.field,m=0;m<u;m++)l[m]=g.multiply(s[m],n);return new i(g,l)},i.prototype.divide=function(e){if(!this.field.equals(e.field))throw new _n("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new _n("Divide by 0");for(var n=this.field,s=n.getZero(),u=this,l=e.getCoefficient(e.getDegree()),g=n.inverse(l);u.getDegree()>=e.getDegree()&&!u.isZero();){var m=u.getDegree()-e.getDegree(),y=n.multiply(u.getCoefficient(u.getDegree()),g),T=e.multiplyByMonomial(m,y),P=n.buildMonomial(m,y);s=s.addOrSubtract(P),u=u.addOrSubtract(T)}return[s,u]},i.prototype.toString=function(){for(var e="",n=this.getDegree();n>=0;n--){var s=this.getCoefficient(n);if(0!==s){if(s<0?(e+=" - ",s=-s):e.length>0&&(e+=" + "),0===n||1!==s){var u=this.field.log(s);0===u?e+="1":1===u?e+="a":(e+="a^",e+=u)}0!==n&&(1===n?e+="x":(e+="x^",e+=n))}}return e},i}();var vi=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Ku=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return vi(e,i),e.kind="ArithmeticException",e}(Tn);var yo=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const fi=function(i){function e(n,s,u){var l=i.call(this)||this;l.primitive=n,l.size=s,l.generatorBase=u;for(var g=new Int32Array(s),m=1,y=0;y<s;y++)g[y]=m,(m*=2)>=s&&(m^=n,m&=s-1);l.expTable=g;var T=new Int32Array(s);for(y=0;y<s-1;y++)T[g[y]]=y;return l.logTable=T,l.zero=new Ja(l,Int32Array.from([0])),l.one=new Ja(l,Int32Array.from([1])),l}return yo(e,i),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,s){if(n<0)throw new _n;if(0===s)return this.zero;var u=new Int32Array(n+1);return u[0]=s,new Ja(this,u)},e.prototype.inverse=function(n){if(0===n)throw new Ku;return this.expTable[this.size-this.logTable[n]-1]},e.prototype.multiply=function(n,s){return 0===n||0===s?0:this.expTable[(this.logTable[n]+this.logTable[s])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+sr.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(n){return n===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Ac);var Pr=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Qc=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Pr(e,i),e.kind="ReedSolomonException",e}(Tn);var zl=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Zo=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return zl(e,i),e.kind="IllegalStateException",e}(Tn),Fa=function(){function i(e){this.field=e}return i.prototype.decode=function(e,n){for(var s=this.field,u=new Ja(s,e),l=new Int32Array(n),g=!0,m=0;m<n;m++){var y=u.evaluateAt(s.exp(m+s.getGeneratorBase()));l[l.length-1-m]=y,0!==y&&(g=!1)}if(!g){var T=new Ja(s,l),P=this.runEuclideanAlgorithm(s.buildMonomial(n,1),T,n),$=P[1],q=this.findErrorLocations(P[0]),se=this.findErrorMagnitudes($,q);for(m=0;m<q.length;m++){var ve=e.length-1-s.log(q[m]);if(ve<0)throw new Qc("Bad error location");e[ve]=fi.addOrSubtract(e[ve],se[m])}}},i.prototype.runEuclideanAlgorithm=function(e,n,s){if(e.getDegree()<n.getDegree()){var u=e;e=n,n=u}for(var l=this.field,g=e,m=n,y=l.getZero(),T=l.getOne();m.getDegree()>=(s/2|0);){var P=g,V=y;if(y=T,(g=m).isZero())throw new Qc("r_{i-1} was zero");m=P;for(var $=l.getZero(),q=g.getCoefficient(g.getDegree()),se=l.inverse(q);m.getDegree()>=g.getDegree()&&!m.isZero();){var ve=m.getDegree()-g.getDegree(),De=l.multiply(m.getCoefficient(m.getDegree()),se);$=$.addOrSubtract(l.buildMonomial(ve,De)),m=m.addOrSubtract(g.multiplyByMonomial(ve,De))}if(T=$.multiply(y).addOrSubtract(V),m.getDegree()>=g.getDegree())throw new Zo("Division algorithm failed to reduce polynomial?")}var Ve=T.getCoefficient(0);if(0===Ve)throw new Qc("sigmaTilde(0) was zero");var Pe=l.inverse(Ve);return[T.multiplyScalar(Pe),m.multiplyScalar(Pe)]},i.prototype.findErrorLocations=function(e){var n=e.getDegree();if(1===n)return Int32Array.from([e.getCoefficient(1)]);for(var s=new Int32Array(n),u=0,l=this.field,g=1;g<l.getSize()&&u<n;g++)0===e.evaluateAt(g)&&(s[u]=l.inverse(g),u++);if(u!==n)throw new Qc("Error locator degree does not match number of roots");return s},i.prototype.findErrorMagnitudes=function(e,n){for(var s=n.length,u=new Int32Array(s),l=this.field,g=0;g<s;g++){for(var m=l.inverse(n[g]),y=1,T=0;T<s;T++)if(g!==T){var P=l.multiply(n[T],m);y=l.multiply(y,1&P?-2&P:1|P)}u[g]=l.multiply(e.evaluateAt(m),l.inverse(y)),0!==l.getGeneratorBase()&&(u[g]=l.multiply(u[g],m))}return u},i}();var Ji=function(i){return i[i.UPPER=0]="UPPER",i[i.LOWER=1]="LOWER",i[i.MIXED=2]="MIXED",i[i.DIGIT=3]="DIGIT",i[i.PUNCT=4]="PUNCT",i[i.BINARY=5]="BINARY",i}(Ji||{});const Yc=function(){function i(){}return i.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),s=this.extractBits(n),u=this.correctBits(s),l=i.convertBoolArrayToByteArray(u),g=i.getEncodedData(u),m=new Ic(l,g,null,null);return m.setNumBits(u.length),m},i.highLevelDecode=function(e){return this.getEncodedData(e)},i.getEncodedData=function(e){for(var n=e.length,s=Ji.UPPER,u=Ji.UPPER,l="",g=0;g<n;)if(u===Ji.BINARY){if(n-g<5)break;var m=i.readCode(e,g,5);if(g+=5,0===m){if(n-g<11)break;m=i.readCode(e,g,11)+31,g+=11}for(var y=0;y<m;y++){if(n-g<8){g=n;break}var T=i.readCode(e,g,8);l+=mt.castAsNonUtf8Char(T),g+=8}u=s}else{var P=u===Ji.DIGIT?4:5;if(n-g<P)break;T=i.readCode(e,g,P),g+=P;var V=i.getCharacter(u,T);V.startsWith("CTRL_")?(s=u,u=i.getTable(V.charAt(5)),"L"===V.charAt(6)&&(s=u)):(l+=V,u=s)}return l},i.getTable=function(e){switch(e){case"L":return Ji.LOWER;case"P":return Ji.PUNCT;case"M":return Ji.MIXED;case"D":return Ji.DIGIT;case"B":return Ji.BINARY;default:return Ji.UPPER}},i.getCharacter=function(e,n){switch(e){case Ji.UPPER:return i.UPPER_TABLE[n];case Ji.LOWER:return i.LOWER_TABLE[n];case Ji.MIXED:return i.MIXED_TABLE[n];case Ji.PUNCT:return i.PUNCT_TABLE[n];case Ji.DIGIT:return i.DIGIT_TABLE[n];default:throw new Zo("Bad table")}},i.prototype.correctBits=function(e){var n,s;this.ddata.getNbLayers()<=2?(s=6,n=fi.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,n=fi.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,n=fi.AZTEC_DATA_10):(s=12,n=fi.AZTEC_DATA_12);var u=this.ddata.getNbDatablocks(),l=e.length/s;if(l<u)throw new Qt;for(var g=e.length%s,m=new Int32Array(l),y=0;y<l;y++,g+=s)m[y]=i.readCode(e,g,s);try{new Fa(n).decode(m,l-u)}catch(De){throw new Qt(De)}var P=(1<<s)-1,V=0;for(y=0;y<u;y++){if(0===($=m[y])||$===P)throw new Qt;(1===$||$===P-1)&&V++}var q=new Array(u*s-V),se=0;for(y=0;y<u;y++){var $;if(1===($=m[y])||$===P-1)q.fill($>1,se,se+s-1),se+=s-1;else for(var ve=s-1;ve>=0;--ve)q[se++]=!!($&1<<ve)}return q},i.prototype.extractBits=function(e){var n=this.ddata.isCompact(),s=this.ddata.getNbLayers(),u=(n?11:14)+4*s,l=new Int32Array(u),g=new Array(this.totalBitsInLayer(s,n));if(n)for(var m=0;m<l.length;m++)l[m]=m;else{var y=u+1+2*sr.truncDivision(sr.truncDivision(u,2)-1,15),T=u/2,P=sr.truncDivision(y,2);for(m=0;m<T;m++){var V=m+sr.truncDivision(m,15);l[T-m-1]=P-V-1,l[T+m]=P+V+1}}m=0;for(var $=0;m<s;m++){for(var q=4*(s-m)+(n?9:12),se=2*m,ve=u-1-se,De=0;De<q;De++)for(var Ve=2*De,Pe=0;Pe<2;Pe++)g[$+Ve+Pe]=e.get(l[se+Pe],l[se+De]),g[$+2*q+Ve+Pe]=e.get(l[se+De],l[ve-Pe]),g[$+4*q+Ve+Pe]=e.get(l[ve-Pe],l[ve-De]),g[$+6*q+Ve+Pe]=e.get(l[ve-De],l[se+Pe]);$+=8*q}return g},i.readCode=function(e,n,s){for(var u=0,l=n;l<n+s;l++)u<<=1,e[l]&&(u|=1);return u},i.readByte=function(e,n){var s=e.length-n;return s>=8?i.readCode(e,n,8):i.readCode(e,n,s)<<8-s},i.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),s=0;s<n.length;s++)n[s]=i.readByte(e,8*s);return n},i.prototype.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},i.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],i.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],i.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],i.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],i.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],i}(),wr=function(){function i(){}return i.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},i.distance=function(e,n,s,u){var l=e-s,g=n-u;return Math.sqrt(l*l+g*g)},i.sum=function(e){for(var n=0,s=0,u=e.length;s!==u;s++)n+=e[s];return n},i}(),ml=function(){function i(){}return i.floatToIntBits=function(e){return e},i.MAX_VALUE=Number.MAX_SAFE_INTEGER,i}(),gn=function(){function i(e,n){this.x=e,this.y=n}return i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.equals=function(e){return e instanceof i&&(this.x===e.x&&this.y===e.y)},i.prototype.hashCode=function(){return 31*ml.floatToIntBits(this.x)+ml.floatToIntBits(this.y)},i.prototype.toString=function(){return"("+this.x+","+this.y+")"},i.orderBestPatterns=function(e){var l,g,m,n=this.distance(e[0],e[1]),s=this.distance(e[1],e[2]),u=this.distance(e[0],e[2]);if(s>=n&&s>=u?(g=e[0],l=e[1],m=e[2]):u>=s&&u>=n?(g=e[1],l=e[0],m=e[2]):(g=e[2],l=e[0],m=e[1]),this.crossProductZ(l,g,m)<0){var y=l;l=m,m=y}e[0]=l,e[1]=g,e[2]=m},i.distance=function(e,n){return wr.distance(e.x,e.y,n.x,n.y)},i.crossProductZ=function(e,n,s){var u=n.x,l=n.y;return(s.x-u)*(e.y-l)-(s.y-l)*(e.x-u)},i}(),_l=function(){function i(e,n){this.bits=e,this.points=n}return i.prototype.getBits=function(){return this.bits},i.prototype.getPoints=function(){return this.points},i}();var La=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const _a=function(i){function e(n,s,u,l,g){var m=i.call(this,n,s)||this;return m.compact=u,m.nbDatablocks=l,m.nbLayers=g,m}return La(e,i),e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(_l),Nd=function(){function i(e,n,s,u){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),null==n&&(n=i.INIT_SIZE),null==s&&(s=e.getWidth()/2|0),null==u&&(u=e.getHeight()/2|0);var l=n/2|0;if(this.leftInit=s-l,this.rightInit=s+l,this.upInit=u-l,this.downInit=u+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ke}return i.prototype.detect=function(){for(var e=this.leftInit,n=this.rightInit,s=this.upInit,u=this.downInit,l=!1,g=!0,m=!1,y=!1,T=!1,P=!1,V=!1,$=this.width,q=this.height;g;){g=!1;for(var se=!0;(se||!y)&&n<$;)(se=this.containsBlackPoint(s,u,n,!1))?(n++,g=!0,y=!0):y||n++;if(n>=$){l=!0;break}for(var ve=!0;(ve||!T)&&u<q;)(ve=this.containsBlackPoint(e,n,u,!0))?(u++,g=!0,T=!0):T||u++;if(u>=q){l=!0;break}for(var De=!0;(De||!P)&&e>=0;)(De=this.containsBlackPoint(s,u,e,!1))?(e--,g=!0,P=!0):P||e--;if(e<0){l=!0;break}for(var Ve=!0;(Ve||!V)&&s>=0;)(Ve=this.containsBlackPoint(e,n,s,!0))?(s--,g=!0,V=!0):V||s--;if(s<0){l=!0;break}g&&(m=!0)}if(!l&&m){for(var Pe=n-e,Ye=null,at=1;null===Ye&&at<Pe;at++)Ye=this.getBlackPointOnSegment(e,u-at,e+at,u);if(null==Ye)throw new Ke;var kt=null;for(at=1;null===kt&&at<Pe;at++)kt=this.getBlackPointOnSegment(e,s+at,e+at,s);if(null==kt)throw new Ke;var zt=null;for(at=1;null===zt&&at<Pe;at++)zt=this.getBlackPointOnSegment(n,s+at,n-at,s);if(null==zt)throw new Ke;var Kt=null;for(at=1;null===Kt&&at<Pe;at++)Kt=this.getBlackPointOnSegment(n,u-at,n-at,u);if(null==Kt)throw new Ke;return this.centerEdges(Kt,Ye,zt,kt)}throw new Ke},i.prototype.getBlackPointOnSegment=function(e,n,s,u){for(var l=wr.round(wr.distance(e,n,s,u)),g=(s-e)/l,m=(u-n)/l,y=this.image,T=0;T<l;T++){var P=wr.round(e+T*g),V=wr.round(n+T*m);if(y.get(P,V))return new gn(P,V)}return null},i.prototype.centerEdges=function(e,n,s,u){var l=e.getX(),g=e.getY(),m=n.getX(),y=n.getY(),T=s.getX(),P=s.getY(),V=u.getX(),$=u.getY(),q=i.CORR;return l<this.width/2?[new gn(V-q,$+q),new gn(m+q,y+q),new gn(T-q,P-q),new gn(l+q,g-q)]:[new gn(V+q,$+q),new gn(m+q,y-q),new gn(T-q,P+q),new gn(l-q,g-q)]},i.prototype.containsBlackPoint=function(e,n,s,u){var l=this.image;if(u){for(var g=e;g<=n;g++)if(l.get(g,s))return!0}else for(var m=e;m<=n;m++)if(l.get(s,m))return!0;return!1},i.INIT_SIZE=10,i.CORR=1,i}(),vl=function(){function i(){}return i.checkAndNudgePoints=function(e,n){for(var s=e.getWidth(),u=e.getHeight(),l=!0,g=0;g<n.length&&l;g+=2){var m=Math.floor(n[g]),y=Math.floor(n[g+1]);if(m<-1||m>s||y<-1||y>u)throw new Ke;l=!1,-1===m?(n[g]=0,l=!0):m===s&&(n[g]=s-1,l=!0),-1===y?(n[g+1]=0,l=!0):y===u&&(n[g+1]=u-1,l=!0)}for(l=!0,g=n.length-2;g>=0&&l;g-=2){if(m=Math.floor(n[g]),y=Math.floor(n[g+1]),m<-1||m>s||y<-1||y>u)throw new Ke;l=!1,-1===m?(n[g]=0,l=!0):m===s&&(n[g]=s-1,l=!0),-1===y?(n[g+1]=0,l=!0):y===u&&(n[g+1]=u-1,l=!0)}},i}(),Xu=function(){function i(e,n,s,u,l,g,m,y,T){this.a11=e,this.a21=n,this.a31=s,this.a12=u,this.a22=l,this.a32=g,this.a13=m,this.a23=y,this.a33=T}return i.quadrilateralToQuadrilateral=function(e,n,s,u,l,g,m,y,T,P,V,$,q,se,ve,De){var Ve=i.quadrilateralToSquare(e,n,s,u,l,g,m,y);return i.squareToQuadrilateral(T,P,V,$,q,se,ve,De).times(Ve)},i.prototype.transformPoints=function(e){for(var n=e.length,s=this.a11,u=this.a12,l=this.a13,g=this.a21,m=this.a22,y=this.a23,T=this.a31,P=this.a32,V=this.a33,$=0;$<n;$+=2){var q=e[$],se=e[$+1],ve=l*q+y*se+V;e[$]=(s*q+g*se+T)/ve,e[$+1]=(u*q+m*se+P)/ve}},i.prototype.transformPointsWithValues=function(e,n){for(var s=this.a11,u=this.a12,l=this.a13,g=this.a21,m=this.a22,y=this.a23,T=this.a31,P=this.a32,V=this.a33,$=e.length,q=0;q<$;q++){var se=e[q],ve=n[q],De=l*se+y*ve+V;e[q]=(s*se+g*ve+T)/De,n[q]=(u*se+m*ve+P)/De}},i.squareToQuadrilateral=function(e,n,s,u,l,g,m,y){var T=e-s+l-m,P=n-u+g-y;if(0===T&&0===P)return new i(s-e,l-s,e,u-n,g-u,n,0,0,1);var V=s-l,$=m-l,q=u-g,se=y-g,ve=V*se-$*q,De=(T*se-$*P)/ve,Ve=(V*P-T*q)/ve;return new i(s-e+De*s,m-e+Ve*m,e,u-n+De*u,y-n+Ve*y,n,De,Ve,1)},i.quadrilateralToSquare=function(e,n,s,u,l,g,m,y){return i.squareToQuadrilateral(e,n,s,u,l,g,m,y).buildAdjoint()},i.prototype.buildAdjoint=function(){return new i(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},i.prototype.times=function(e){return new i(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},i}();var xc=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const B=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return xc(e,i),e.prototype.sampleGrid=function(n,s,u,l,g,m,y,T,P,V,$,q,se,ve,De,Ve,Pe,Ye,at){var kt=Xu.quadrilateralToQuadrilateral(l,g,m,y,T,P,V,$,q,se,ve,De,Ve,Pe,Ye,at);return this.sampleGridWithTransform(n,s,u,kt)},e.prototype.sampleGridWithTransform=function(n,s,u,l){if(s<=0||u<=0)throw new Ke;for(var g=new tr(s,u),m=new Float32Array(2*s),y=0;y<u;y++){for(var T=m.length,P=y+.5,V=0;V<T;V+=2)m[V]=V/2+.5,m[V+1]=P;l.transformPoints(m),vl.checkAndNudgePoints(n,m);try{for(V=0;V<T;V+=2)n.get(Math.floor(m[V]),Math.floor(m[V+1]))&&g.set(V/2,y)}catch{throw new Ke}}return g},e}(vl),j=function(){function i(){}return i.setGridSampler=function(e){i.gridSampler=e},i.getInstance=function(){return i.gridSampler},i.gridSampler=new B,i}();var X=function(){function i(e,n){this.x=e,this.y=n}return i.prototype.toResultPoint=function(){return new gn(this.getX(),this.getY())},i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i}();const Ie=function(){function i(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return i.prototype.detect=function(){return this.detectMirror(!1)},i.prototype.detectMirror=function(e){var n=this.getMatrixCenter(),s=this.getBullsEyeCorners(n);if(e){var u=s[0];s[0]=s[2],s[2]=u}this.extractParameters(s);var l=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),g=this.getMatrixCornerPoints(s);return new _a(l,g,this.compact,this.nbDataBlocks,this.nbLayers)},i.prototype.extractParameters=function(e){if(!(this.isValidPoint(e[0])&&this.isValidPoint(e[1])&&this.isValidPoint(e[2])&&this.isValidPoint(e[3])))throw new Ke;var n=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(s,n);for(var u=0,l=0;l<4;l++){var g=s[(this.shift+l)%4];this.compact?(u<<=7,u+=g>>1&127):(u<<=10,u+=(g>>2&992)+(g>>1&31))}var m=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=1+(m>>6),this.nbDataBlocks=1+(63&m)):(this.nbLayers=1+(m>>11),this.nbDataBlocks=1+(2047&m))},i.prototype.getRotation=function(e,n){var s=0;e.forEach(function(l,g,m){s=(l>>n-2<<1)+(1&l)+(s<<3)}),s=((1&s)<<11)+(s>>1);for(var u=0;u<4;u++)if(sr.bitCount(s^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new Ke},i.prototype.getCorrectedParameterData=function(e,n){var s,u;n?(s=7,u=2):(s=10,u=4);for(var l=s-u,g=new Int32Array(s),m=s-1;m>=0;--m)g[m]=15&e,e>>=4;try{new Fa(fi.AZTEC_PARAM).decode(g,l)}catch{throw new Ke}var T=0;for(m=0;m<u;m++)T=(T<<4)+g[m];return T},i.prototype.getBullsEyeCorners=function(e){var n=e,s=e,u=e,l=e,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var m=this.getFirstDifferent(n,g,1,-1),y=this.getFirstDifferent(s,g,1,1),T=this.getFirstDifferent(u,g,-1,1),P=this.getFirstDifferent(l,g,-1,-1);if(this.nbCenterLayers>2){var V=this.distancePoint(P,m)*this.nbCenterLayers/(this.distancePoint(l,n)*(this.nbCenterLayers+2));if(V<.75||V>1.25||!this.isWhiteOrBlackRectangle(m,y,T,P))break}n=m,s=y,u=T,l=P,g=!g}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new Ke;this.compact=5===this.nbCenterLayers;var $=new gn(n.getX()+.5,n.getY()-.5),q=new gn(s.getX()+.5,s.getY()+.5),se=new gn(u.getX()-.5,u.getY()+.5),ve=new gn(l.getX()-.5,l.getY()-.5);return this.expandSquare([$,q,se,ve],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},i.prototype.getMatrixCenter=function(){var e,n,s,u;try{e=(l=new Nd(this.image).detect())[0],n=l[1],s=l[2],u=l[3]}catch{var g=this.image.getWidth()/2,m=this.image.getHeight()/2;e=this.getFirstDifferent(new X(g+7,m-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new X(g+7,m+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new X(g-7,m+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new X(g-7,m-7),!1,-1,-1).toResultPoint()}var y=wr.round((e.getX()+u.getX()+n.getX()+s.getX())/4),T=wr.round((e.getY()+u.getY()+n.getY()+s.getY())/4);try{var l;e=(l=new Nd(this.image,15,y,T).detect())[0],n=l[1],s=l[2],u=l[3]}catch{e=this.getFirstDifferent(new X(y+7,T-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new X(y+7,T+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new X(y-7,T+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new X(y-7,T-7),!1,-1,-1).toResultPoint()}return y=wr.round((e.getX()+u.getX()+n.getX()+s.getX())/4),T=wr.round((e.getY()+u.getY()+n.getY()+s.getY())/4),new X(y,T)},i.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},i.prototype.sampleGrid=function(e,n,s,u,l){var g=j.getInstance(),m=this.getDimension(),y=m/2-this.nbCenterLayers,T=m/2+this.nbCenterLayers;return g.sampleGrid(e,m,m,y,y,T,y,T,T,y,T,n.getX(),n.getY(),s.getX(),s.getY(),u.getX(),u.getY(),l.getX(),l.getY())},i.prototype.sampleLine=function(e,n,s){for(var u=0,l=this.distanceResultPoint(e,n),g=l/s,m=e.getX(),y=e.getY(),T=g*(n.getX()-e.getX())/l,P=g*(n.getY()-e.getY())/l,V=0;V<s;V++)this.image.get(wr.round(m+V*T),wr.round(y+V*P))&&(u|=1<<s-V-1);return u},i.prototype.isWhiteOrBlackRectangle=function(e,n,s,u){e=new X(e.getX()-3,e.getY()+3),n=new X(n.getX()-3,n.getY()-3),s=new X(s.getX()+3,s.getY()-3),u=new X(u.getX()+3,u.getY()+3);var g=this.getColor(u,e);if(0===g)return!1;var m=this.getColor(e,n);return m===g&&(m=this.getColor(n,s))===g&&(m=this.getColor(s,u))===g},i.prototype.getColor=function(e,n){for(var s=this.distancePoint(e,n),u=(n.getX()-e.getX())/s,l=(n.getY()-e.getY())/s,g=0,m=e.getX(),y=e.getY(),T=this.image.get(e.getX(),e.getY()),P=Math.ceil(s),V=0;V<P;V++)y+=l,this.image.get(wr.round(m+=u),wr.round(y))!==T&&g++;var $=g/s;return $>.1&&$<.9?0:$<=.1===T?1:-1},i.prototype.getFirstDifferent=function(e,n,s,u){for(var l=e.getX()+s,g=e.getY()+u;this.isValid(l,g)&&this.image.get(l,g)===n;)l+=s,g+=u;for(l-=s,g-=u;this.isValid(l,g)&&this.image.get(l,g)===n;)l+=s;for(l-=s;this.isValid(l,g)&&this.image.get(l,g)===n;)g+=u;return new X(l,g-=u)},i.prototype.expandSquare=function(e,n,s){var u=s/(2*n),l=e[0].getX()-e[2].getX(),g=e[0].getY()-e[2].getY(),m=(e[0].getX()+e[2].getX())/2,y=(e[0].getY()+e[2].getY())/2,T=new gn(m+u*l,y+u*g),P=new gn(m-u*l,y-u*g);return l=e[1].getX()-e[3].getX(),g=e[1].getY()-e[3].getY(),m=(e[1].getX()+e[3].getX())/2,y=(e[1].getY()+e[3].getY())/2,[T,new gn(m+u*l,y+u*g),P,new gn(m-u*l,y-u*g)]},i.prototype.isValid=function(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()},i.prototype.isValidPoint=function(e){var n=wr.round(e.getX()),s=wr.round(e.getY());return this.isValid(n,s)},i.prototype.distancePoint=function(e,n){return wr.distance(e.getX(),e.getY(),n.getX(),n.getY())},i.prototype.distanceResultPoint=function(e,n){return wr.distance(e.getX(),e.getY(),n.getX(),n.getY())},i.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(sr.truncDivision(this.nbLayers-4,8)+1)+15},i}(),ke=function(){function i(){}return i.prototype.decode=function(e,n){void 0===n&&(n=null);var s=null,u=new Ie(e.getBlackMatrix()),l=null,g=null;try{l=(m=u.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(n,l),g=(new Yc).decode(m)}catch(V){s=V}if(null==g)try{var m;l=(m=u.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(n,l),g=(new Yc).decode(m)}catch(V){throw s??V}var y=new qi(g.getText(),g.getRawBytes(),g.getNumBits(),l,cn.AZTEC,jr.currentTimeMillis()),T=g.getByteSegments();null!=T&&y.putMetadata(Zi.BYTE_SEGMENTS,T);var P=g.getECLevel();return null!=P&&y.putMetadata(Zi.ERROR_CORRECTION_LEVEL,P),y},i.prototype.reportFoundResultPoints=function(e,n){if(null!=e){var s=e.get(Ln.NEED_RESULT_POINT_CALLBACK);null!=s&&n.forEach(function(u,l,g){s.foundPossibleResultPoint(u)})}},i.prototype.reset=function(){},i}();var i,Bt=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();Bt(function e(n){return void 0===n&&(n=500),i.call(this,new ke,n)||this},i=ia);const On=function(){function i(){}return i.prototype.decode=function(e,n){try{return this.doDecode(e,n)}catch{if(n&&!0===n.get(Ln.TRY_HARDER)&&e.isRotateSupported()){var u=e.rotateCounterClockwise(),l=this.doDecode(u,n),g=l.getResultMetadata(),m=270;null!==g&&!0===g.get(Zi.ORIENTATION)&&(m+=g.get(Zi.ORIENTATION)%360),l.putMetadata(Zi.ORIENTATION,m);var y=l.getResultPoints();if(null!==y)for(var T=u.getHeight(),P=0;P<y.length;P++)y[P]=new gn(T-y[P].getY()-1,y[P].getX());return l}throw new Ke}},i.prototype.reset=function(){},i.prototype.doDecode=function(e,n){var y,s=e.getWidth(),u=e.getHeight(),l=new _i(s),g=n&&!0===n.get(Ln.TRY_HARDER),m=Math.max(1,u>>(g?8:5));y=g?u:15;for(var T=Math.trunc(u/2),P=0;P<y;P++){var V=Math.trunc((P+1)/2),q=T+m*(1&P?-V:V);if(q<0||q>=u)break;try{l=e.getBlackRow(q,l)}catch{continue}for(var se=function(Pe){if(1===Pe&&(l.reverse(),n&&!0===n.get(Ln.NEED_RESULT_POINT_CALLBACK))){var Ye=new Map;n.forEach(function(zt,Kt){return Ye.set(Kt,zt)}),Ye.delete(Ln.NEED_RESULT_POINT_CALLBACK),n=Ye}try{var at=ve.decodeRow(q,l,n);if(1===Pe){at.putMetadata(Zi.ORIENTATION,180);var kt=at.getResultPoints();null!==kt&&(kt[0]=new gn(s-kt[0].getX()-1,kt[0].getY()),kt[1]=new gn(s-kt[1].getX()-1,kt[1].getY()))}return{value:at}}catch{}},ve=this,De=0;De<2;De++){var Ve=se(De);if("object"==typeof Ve)return Ve.value}}throw new Ke},i.recordPattern=function(e,n,s){for(var u=s.length,l=0;l<u;l++)s[l]=0;var g=e.getSize();if(n>=g)throw new Ke;for(var m=!e.get(n),y=0,T=n;T<g;){if(e.get(T)!==m)s[y]++;else{if(++y===u)break;s[y]=1,m=!m}T++}if(y!==u&&(y!==u-1||T!==g))throw new Ke},i.recordPatternInReverse=function(e,n,s){for(var u=s.length,l=e.get(n);n>0&&u>=0;)e.get(--n)!==l&&(u--,l=!l);if(u>=0)throw new Ke;i.recordPattern(e,n+1,s)},i.patternMatchVariance=function(e,n,s){for(var u=e.length,l=0,g=0,m=0;m<u;m++)l+=e[m],g+=n[m];if(l<g)return Number.POSITIVE_INFINITY;var y=l/g;s*=y;for(var T=0,P=0;P<u;P++){var V=e[P],$=n[P]*y,q=V>$?V-$:$-V;if(q>s)return Number.POSITIVE_INFINITY;T+=q}return T/l},i}();var va=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const ya=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return va(e,i),e.findStartPattern=function(n){for(var s=n.getSize(),u=n.getNextSet(0),l=0,g=Int32Array.from([0,0,0,0,0,0]),m=u,y=!1,P=u;P<s;P++)if(n.get(P)!==y)g[l]++;else{if(5===l){for(var V=e.MAX_AVG_VARIANCE,$=-1,q=e.CODE_START_A;q<=e.CODE_START_C;q++){var se=On.patternMatchVariance(g,e.CODE_PATTERNS[q],e.MAX_INDIVIDUAL_VARIANCE);se<V&&(V=se,$=q)}if($>=0&&n.isRange(Math.max(0,m-(P-m)/2),m,!1))return Int32Array.from([m,P,$]);m+=g[0]+g[1],(g=g.slice(2,g.length))[l-1]=0,g[l]=0,l--}else l++;g[l]=1,y=!y}throw new Ke},e.decodeCode=function(n,s,u){On.recordPattern(n,u,s);for(var l=e.MAX_AVG_VARIANCE,g=-1,m=0;m<e.CODE_PATTERNS.length;m++){var T=this.patternMatchVariance(s,e.CODE_PATTERNS[m],e.MAX_INDIVIDUAL_VARIANCE);T<l&&(l=T,g=m)}if(g>=0)return g;throw new Ke},e.prototype.decodeRow=function(n,s,u){var P,l=u&&!0===u.get(Ln.ASSUME_GS1),g=e.findStartPattern(s),m=g[2],y=0,T=new Uint8Array(20);switch(T[y++]=m,m){case e.CODE_START_A:P=e.CODE_CODE_A;break;case e.CODE_START_B:P=e.CODE_CODE_B;break;case e.CODE_START_C:P=e.CODE_CODE_C;break;default:throw new Qt}for(var V=!1,$=!1,q="",se=g[0],ve=g[1],De=Int32Array.from([0,0,0,0,0,0]),Ve=0,Pe=0,Ye=m,at=0,kt=!0,zt=!1,Kt=!1;!V;){var mn=$;switch($=!1,Ve=Pe,Pe=e.decodeCode(s,De,ve),T[y++]=Pe,Pe!==e.CODE_STOP&&(kt=!0),Pe!==e.CODE_STOP&&(Ye+=++at*Pe),se=ve,ve+=De.reduce(function(b_,Lg){return b_+Lg},0),Pe){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Qt}switch(P){case e.CODE_CODE_A:if(Pe<64)q+=String.fromCharCode(Kt===zt?32+Pe:32+Pe+128),Kt=!1;else if(Pe<96)q+=String.fromCharCode(Kt===zt?Pe-64:Pe+64),Kt=!1;else switch(Pe!==e.CODE_STOP&&(kt=!1),Pe){case e.CODE_FNC_1:l&&(q+=0===q.length?"]C1":"\x1d");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!zt&&Kt?(zt=!0,Kt=!1):zt&&Kt?(zt=!1,Kt=!1):Kt=!0;break;case e.CODE_SHIFT:$=!0,P=e.CODE_CODE_B;break;case e.CODE_CODE_B:P=e.CODE_CODE_B;break;case e.CODE_CODE_C:P=e.CODE_CODE_C;break;case e.CODE_STOP:V=!0}break;case e.CODE_CODE_B:if(Pe<96)q+=String.fromCharCode(Kt===zt?32+Pe:32+Pe+128),Kt=!1;else switch(Pe!==e.CODE_STOP&&(kt=!1),Pe){case e.CODE_FNC_1:l&&(q+=0===q.length?"]C1":"\x1d");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!zt&&Kt?(zt=!0,Kt=!1):zt&&Kt?(zt=!1,Kt=!1):Kt=!0;break;case e.CODE_SHIFT:$=!0,P=e.CODE_CODE_A;break;case e.CODE_CODE_A:P=e.CODE_CODE_A;break;case e.CODE_CODE_C:P=e.CODE_CODE_C;break;case e.CODE_STOP:V=!0}break;case e.CODE_CODE_C:if(Pe<100)Pe<10&&(q+="0"),q+=Pe;else switch(Pe!==e.CODE_STOP&&(kt=!1),Pe){case e.CODE_FNC_1:l&&(q+=0===q.length?"]C1":"\x1d");break;case e.CODE_CODE_A:P=e.CODE_CODE_A;break;case e.CODE_CODE_B:P=e.CODE_CODE_B;break;case e.CODE_STOP:V=!0}}mn&&(P=P===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var Jn=ve-se;if(ve=s.getNextUnset(ve),!s.isRange(ve,Math.min(s.getSize(),ve+(ve-se)/2),!1))throw new Ke;if((Ye-=at*Ve)%103!==Ve)throw new mi;var ir=q.length;if(0===ir)throw new Ke;ir>0&&kt&&(q=q.substring(0,P===e.CODE_CODE_C?ir-2:ir-1));for(var io=(g[1]+g[0])/2,ei=se+Jn/2,po=T.length,du=new Uint8Array(po),Uc=0;Uc<po;Uc++)du[Uc]=T[Uc];var T_=[new gn(io,n),new gn(ei,n)];return new qi(q,du,0,T_,cn.CODE_128,(new Date).getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(On);var Hs=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),Gs=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const Ea=function(i){function e(n,s){void 0===n&&(n=!1),void 0===s&&(s=!1);var u=i.call(this)||this;return u.usingCheckDigit=n,u.extendedMode=s,u.decodeRowResult="",u.counters=new Int32Array(9),u}return Hs(e,i),e.prototype.decodeRow=function(n,s,u){var l,g,m,y,T=this.counters;T.fill(0),this.decodeRowResult="";var q,se,P=e.findAsteriskPattern(s,T),V=s.getNextSet(P[1]),$=s.getSize();do{e.recordPattern(s,V,T);var ve=e.toNarrowWidePattern(T);if(ve<0)throw new Ke;q=e.patternToChar(ve),this.decodeRowResult+=q,se=V;try{for(var De=(l=void 0,Gs(T)),Ve=De.next();!Ve.done;Ve=De.next())V+=Ve.value}catch(po){l={error:po}}finally{try{Ve&&!Ve.done&&(g=De.return)&&g.call(De)}finally{if(l)throw l.error}}V=s.getNextSet(V)}while("*"!==q);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var ir,Ye=0;try{for(var at=Gs(T),kt=at.next();!kt.done;kt=at.next())Ye+=kt.value}catch(po){m={error:po}}finally{try{kt&&!kt.done&&(y=at.return)&&y.call(at)}finally{if(m)throw m.error}}if(V!==$&&2*(V-se-Ye)<Ye)throw new Ke;if(this.usingCheckDigit){for(var Kt=this.decodeRowResult.length-1,mn=0,Jn=0;Jn<Kt;Jn++)mn+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Jn));if(this.decodeRowResult.charAt(Kt)!==e.ALPHABET_STRING.charAt(mn%43))throw new mi;this.decodeRowResult=this.decodeRowResult.substring(0,Kt)}if(0===this.decodeRowResult.length)throw new Ke;ir=this.extendedMode?e.decodeExtended(this.decodeRowResult):this.decodeRowResult;var ei=se+Ye/2;return new qi(ir,null,0,[new gn((P[1]+P[0])/2,n),new gn(ei,n)],cn.CODE_39,(new Date).getTime())},e.findAsteriskPattern=function(n,s){for(var u=n.getSize(),l=n.getNextSet(0),g=0,m=l,y=!1,T=s.length,P=l;P<u;P++)if(n.get(P)!==y)s[g]++;else{if(g===T-1){if(this.toNarrowWidePattern(s)===e.ASTERISK_ENCODING&&n.isRange(Math.max(0,m-Math.floor((P-m)/2)),m,!1))return[m,P];m+=s[0]+s[1],s.copyWithin(0,2,2+g-1),s[g-1]=0,s[g]=0,g--}else g++;s[g]=1,y=!y}throw new Ke},e.toNarrowWidePattern=function(n){var s,u,m,l=n.length,g=0;do{var y=2147483647;try{for(var T=(s=void 0,Gs(n)),P=T.next();!P.done;P=T.next())(V=P.value)<y&&V>g&&(y=V)}catch(ve){s={error:ve}}finally{try{P&&!P.done&&(u=T.return)&&u.call(T)}finally{if(s)throw s.error}}g=y,m=0;for(var $=0,q=0,se=0;se<l;se++)(V=n[se])>g&&(q|=1<<l-1-se,m++,$+=V);if(3===m){for(se=0;se<l&&m>0;se++){var V;if((V=n[se])>g&&(m--,2*V>=$))return-1}return q}}while(m>3);return-1},e.patternToChar=function(n){for(var s=0;s<e.CHARACTER_ENCODINGS.length;s++)if(e.CHARACTER_ENCODINGS[s]===n)return e.ALPHABET_STRING.charAt(s);if(n===e.ASTERISK_ENCODING)return"*";throw new Ke},e.decodeExtended=function(n){for(var s=n.length,u="",l=0;l<s;l++){var g=n.charAt(l);if("+"===g||"$"===g||"%"===g||"/"===g){var m=n.charAt(l+1),y="\0";switch(g){case"+":if(!(m>="A"&&m<="Z"))throw new Qt;y=String.fromCharCode(m.charCodeAt(0)+32);break;case"$":if(!(m>="A"&&m<="Z"))throw new Qt;y=String.fromCharCode(m.charCodeAt(0)-64);break;case"%":if(m>="A"&&m<="E")y=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")y=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")y=String.fromCharCode(m.charCodeAt(0)+43);else if("U"===m)y="\0";else if("V"===m)y="@";else if("W"===m)y="`";else{if("X"!==m&&"Y"!==m&&"Z"!==m)throw new Qt;y="\x7f"}break;case"/":if(m>="A"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)-32);else{if("Z"!==m)throw new Qt;y=":"}}u+=y,l++}else u+=g}return u},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(On);var yl=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),kd=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const Ih=function(i){function e(){var n=i.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return yl(e,i),e.prototype.decodeRow=function(n,s,u){var l,g,m,y,q,se,T=this.findAsteriskPattern(s),P=s.getNextSet(T[1]),V=s.getSize(),$=this.counters;$.fill(0),this.decodeRowResult="";do{e.recordPattern(s,P,$);var ve=this.toPattern($);if(ve<0)throw new Ke;q=this.patternToChar(ve),this.decodeRowResult+=q,se=P;try{for(var De=(l=void 0,kd($)),Ve=De.next();!Ve.done;Ve=De.next())P+=Ve.value}catch(Jn){l={error:Jn}}finally{try{Ve&&!Ve.done&&(g=De.return)&&g.call(De)}finally{if(l)throw l.error}}P=s.getNextSet(P)}while("*"!==q);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var Ye=0;try{for(var at=kd($),kt=at.next();!kt.done;kt=at.next())Ye+=kt.value}catch(Jn){m={error:Jn}}finally{try{kt&&!kt.done&&(y=at.return)&&y.call(at)}finally{if(m)throw m.error}}if(P===V||!s.get(P))throw new Ke;if(this.decodeRowResult.length<2)throw new Ke;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var zt=this.decodeExtended(this.decodeRowResult),mn=se+Ye/2;return new qi(zt,null,0,[new gn((T[1]+T[0])/2,n),new gn(mn,n)],cn.CODE_93,(new Date).getTime())},e.prototype.findAsteriskPattern=function(n){var s=n.getSize(),u=n.getNextSet(0);this.counters.fill(0);for(var l=this.counters,g=u,m=!1,y=l.length,T=0,P=u;P<s;P++)if(n.get(P)!==m)l[T]++;else{if(T===y-1){if(this.toPattern(l)===e.ASTERISK_ENCODING)return new Int32Array([g,P]);g+=l[0]+l[1],l.copyWithin(0,2,2+T-1),l[T-1]=0,l[T]=0,T--}else T++;l[T]=1,m=!m}throw new Ke},e.prototype.toPattern=function(n){var s,u,l=0;try{for(var g=kd(n),m=g.next();!m.done;m=g.next())l+=m.value}catch(se){s={error:se}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}for(var T=0,P=n.length,V=0;V<P;V++){var $=Math.round(9*n[V]/l);if($<1||$>4)return-1;if(1&V)T<<=$;else for(var q=0;q<$;q++)T=T<<1|1}return T},e.prototype.patternToChar=function(n){for(var s=0;s<e.CHARACTER_ENCODINGS.length;s++)if(e.CHARACTER_ENCODINGS[s]===n)return e.ALPHABET_STRING.charAt(s);throw new Ke},e.prototype.decodeExtended=function(n){for(var s=n.length,u="",l=0;l<s;l++){var g=n.charAt(l);if(g>="a"&&g<="d"){if(l>=s-1)throw new Qt;var m=n.charAt(l+1),y="\0";switch(g){case"d":if(!(m>="A"&&m<="Z"))throw new Qt;y=String.fromCharCode(m.charCodeAt(0)+32);break;case"a":if(!(m>="A"&&m<="Z"))throw new Qt;y=String.fromCharCode(m.charCodeAt(0)-64);break;case"b":if(m>="A"&&m<="E")y=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")y=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")y=String.fromCharCode(m.charCodeAt(0)+43);else if("U"===m)y="\0";else if("V"===m)y="@";else if("W"===m)y="`";else{if(!(m>="X"&&m<="Z"))throw new Qt;y="\x7f"}break;case"c":if(m>="A"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)-32);else{if("Z"!==m)throw new Qt;y=":"}}u+=y,l++}else u+=g}return u},e.prototype.checkChecksums=function(n){var s=n.length;this.checkOneChecksum(n,s-2,20),this.checkOneChecksum(n,s-1,15)},e.prototype.checkOneChecksum=function(n,s,u){for(var l=1,g=0,m=s-1;m>=0;m--)g+=l*e.ALPHABET_STRING.indexOf(n.charAt(m)),++l>u&&(l=1);if(n.charAt(s)!==e.ALPHABET_STRING[g%47])throw new mi},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.ASTERISK_ENCODING=(e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350])[47],e}(On);var ql=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const el=function(i){function e(){var n=null!==i&&i.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return ql(e,i),e.prototype.decodeRow=function(n,s,u){var l,g,m=this.decodeStart(s),y=this.decodeEnd(s),T=new fn;e.decodeMiddle(s,m[1],y[0],T);var P=T.toString(),V=null;null!=u&&(V=u.get(Ln.ALLOWED_LENGTHS)),null==V&&(V=e.DEFAULT_ALLOWED_LENGTHS);var $=P.length,q=!1,se=0;try{for(var ve=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(V),De=ve.next();!De.done;De=ve.next()){var Ve=De.value;if($===Ve){q=!0;break}Ve>se&&(se=Ve)}}catch(at){l={error:at}}finally{try{De&&!De.done&&(g=ve.return)&&g.call(ve)}finally{if(l)throw l.error}}if(!q&&$>se&&(q=!0),!q)throw new Qt;var Pe=[new gn(m[1],n),new gn(y[0],n)];return new qi(P,null,0,Pe,cn.ITF,(new Date).getTime())},e.decodeMiddle=function(n,s,u,l){var g=new Int32Array(10),m=new Int32Array(5),y=new Int32Array(5);for(g.fill(0),m.fill(0),y.fill(0);s<u;){On.recordPattern(n,s,g);for(var T=0;T<5;T++){var P=2*T;m[T]=g[P],y[T]=g[P+1]}var V=e.decodeDigit(m);l.append(V.toString()),V=this.decodeDigit(y),l.append(V.toString()),g.forEach(function($){s+=$})}},e.prototype.decodeStart=function(n){var s=e.skipWhiteSpace(n),u=e.findGuardPattern(n,s,e.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(n,u[0]),u},e.prototype.validateQuietZone=function(n,s){var u=10*this.narrowLineWidth;u=u<s?u:s;for(var l=s-1;u>0&&l>=0&&!n.get(l);l--)u--;if(0!==u)throw new Ke},e.skipWhiteSpace=function(n){var s=n.getSize(),u=n.getNextSet(0);if(u===s)throw new Ke;return u},e.prototype.decodeEnd=function(n){n.reverse();try{var s=e.skipWhiteSpace(n),u=void 0;try{u=e.findGuardPattern(n,s,e.END_PATTERN_REVERSED[0])}catch(g){g instanceof Ke&&(u=e.findGuardPattern(n,s,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,u[0]);var l=u[0];return u[0]=n.getSize()-u[1],u[1]=n.getSize()-l,u}finally{n.reverse()}},e.findGuardPattern=function(n,s,u){var l=u.length,g=new Int32Array(l),m=n.getSize(),y=!1,T=0,P=s;g.fill(0);for(var V=s;V<m;V++)if(n.get(V)!==y)g[T]++;else{if(T===l-1){if(On.patternMatchVariance(g,u,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[P,V];P+=g[0]+g[1],jr.arraycopy(g,2,g,0,T-1),g[T-1]=0,g[T]=0,T--}else T++;g[T]=1,y=!y}throw new Ke},e.decodeDigit=function(n){for(var s=e.MAX_AVG_VARIANCE,u=-1,l=e.PATTERNS.length,g=0;g<l;g++){var y=On.patternMatchVariance(n,e.PATTERNS[g],e.MAX_INDIVIDUAL_VARIANCE);y<s?(s=y,u=g):y===s&&(u=-1)}if(u>=0)return u%10;throw new Ke},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(On);var Kl=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Qu=function(i){function e(){var n=null!==i&&i.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return Kl(e,i),e.findStartGuardPattern=function(n){for(var u,s=!1,l=0,g=Int32Array.from([0,0,0]);!s;){g=Int32Array.from([0,0,0]);var m=(u=e.findGuardPattern(n,l,!1,this.START_END_PATTERN,g))[0],y=m-((l=u[1])-m);y>=0&&(s=n.isRange(y,m,!1))}return u},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var s=n.length;if(0===s)return!1;var u=parseInt(n.charAt(s-1),10);return e.getStandardUPCEANChecksum(n.substring(0,s-1))===u},e.getStandardUPCEANChecksum=function(n){for(var s=n.length,u=0,l=s-1;l>=0;l-=2){if((g=n.charAt(l).charCodeAt(0)-48)<0||g>9)throw new Qt;u+=g}for(u*=3,l=s-2;l>=0;l-=2){var g;if((g=n.charAt(l).charCodeAt(0)-48)<0||g>9)throw new Qt;u+=g}return(1e3-u)%10},e.decodeEnd=function(n,s){return e.findGuardPattern(n,s,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(n,s,u,l){return this.findGuardPattern(n,s,u,l,new Int32Array(l.length))},e.findGuardPattern=function(n,s,u,l,g){for(var m=n.getSize(),y=0,T=s=u?n.getNextUnset(s):n.getNextSet(s),P=l.length,V=u,$=s;$<m;$++)if(n.get($)!==V)g[y]++;else{if(y===P-1){if(On.patternMatchVariance(g,l,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([T,$]);T+=g[0]+g[1];for(var q=g.slice(2,g.length),se=0;se<y-1;se++)g[se]=q[se];g[y-1]=0,g[y]=0,y--}else y++;g[y]=1,V=!V}throw new Ke},e.decodeDigit=function(n,s,u,l){this.recordPattern(n,u,s);for(var g=this.MAX_AVG_VARIANCE,m=-1,y=l.length,T=0;T<y;T++){var V=On.patternMatchVariance(s,l[T],e.MAX_INDIVIDUAL_VARIANCE);V<g&&(g=V,m=T)}if(m>=0)return m;throw new Ke},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(On);var Xl=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const El=function(){function i(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return i.prototype.decodeRow=function(e,n,s){var u=this.decodeRowStringBuffer,l=this.decodeMiddle(n,s,u),g=u.toString(),m=i.parseExtensionString(g),y=[new gn((s[0]+s[1])/2,e),new gn(l,e)],T=new qi(g,null,0,y,cn.UPC_EAN_EXTENSION,(new Date).getTime());return null!=m&&T.putAllMetadata(m),T},i.prototype.decodeMiddle=function(e,n,s){var u,l,g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;for(var m=e.getSize(),y=n[1],T=0,P=0;P<5&&y<m;P++){var V=Qu.decodeDigit(e,g,y,Qu.L_AND_G_PATTERNS);s+=String.fromCharCode(48+V%10);try{for(var $=(u=void 0,Xl(g)),q=$.next();!q.done;q=$.next())y+=q.value}catch(De){u={error:De}}finally{try{q&&!q.done&&(l=$.return)&&l.call($)}finally{if(u)throw u.error}}V>=10&&(T|=1<<4-P),4!==P&&(y=e.getNextSet(y),y=e.getNextUnset(y))}if(5!==s.length)throw new Ke;var ve=this.determineCheckDigit(T);if(i.extensionChecksum(s.toString())!==ve)throw new Ke;return y},i.extensionChecksum=function(e){for(var n=e.length,s=0,u=n-2;u>=0;u-=2)s+=e.charAt(u).charCodeAt(0)-48;for(s*=3,u=n-1;u>=0;u-=2)s+=e.charAt(u).charCodeAt(0)-48;return(s*=3)%10},i.prototype.determineCheckDigit=function(e){for(var n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new Ke},i.parseExtensionString=function(e){if(5!==e.length)return null;var n=i.parseExtension5String(e);return null==n?null:new Map([[Zi.SUGGESTED_PRICE,n]])},i.parseExtension5String=function(e){var n;switch(e.charAt(0)){case"0":n="\xa3";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n=""}var s=parseInt(e.substring(1)),l=s%100;return n+(s/100).toString()+"."+(l<10?"0"+l:l.toString())},i}();var If=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const jo=function(){function i(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return i.prototype.decodeRow=function(e,n,s){var u=this.decodeRowStringBuffer,l=this.decodeMiddle(n,s,u),g=u.toString(),m=i.parseExtensionString(g),y=[new gn((s[0]+s[1])/2,e),new gn(l,e)],T=new qi(g,null,0,y,cn.UPC_EAN_EXTENSION,(new Date).getTime());return null!=m&&T.putAllMetadata(m),T},i.prototype.decodeMiddle=function(e,n,s){var u,l,g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;for(var m=e.getSize(),y=n[1],T=0,P=0;P<2&&y<m;P++){var V=Qu.decodeDigit(e,g,y,Qu.L_AND_G_PATTERNS);s+=String.fromCharCode(48+V%10);try{for(var $=(u=void 0,If(g)),q=$.next();!q.done;q=$.next())y+=q.value}catch(ve){u={error:ve}}finally{try{q&&!q.done&&(l=$.return)&&l.call($)}finally{if(u)throw u.error}}V>=10&&(T|=1<<1-P),1!==P&&(y=e.getNextSet(y),y=e.getNextUnset(y))}if(2!==s.length)throw new Ke;if(parseInt(s.toString())%4!==T)throw new Ke;return y},i.parseExtensionString=function(e){return 2!==e.length?null:new Map([[Zi.ISSUE_NUMBER,parseInt(e)]])},i}(),Ba=function(){function i(){}return i.decodeRow=function(e,n,s){var u=Qu.findGuardPattern(n,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new El).decodeRow(e,n,u)}catch{return(new jo).decodeRow(e,n,u)}},i.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),i}();var Af=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Nr=function(i){function e(){var n=i.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(m){return Int32Array.from(m)});for(var s=10;s<20;s++){for(var u=e.L_PATTERNS[s-10],l=new Int32Array(u.length),g=0;g<u.length;g++)l[g]=u[u.length-g-1];e.L_AND_G_PATTERNS[s]=l}return n}return Af(e,i),e.prototype.decodeRow=function(n,s,u){var l=e.findStartGuardPattern(s),g=null==u?null:u.get(Ln.NEED_RESULT_POINT_CALLBACK);if(null!=g){var m=new gn((l[0]+l[1])/2,n);g.foundPossibleResultPoint(m)}var y=this.decodeMiddle(s,l,this.decodeRowStringBuffer),T=y.rowOffset,P=y.resultString;if(null!=g){var V=new gn(T,n);g.foundPossibleResultPoint(V)}var $=e.decodeEnd(s,T);if(null!=g){var q=new gn(($[0]+$[1])/2,n);g.foundPossibleResultPoint(q)}var se=$[1],ve=se+(se-$[0]);if(ve>=s.getSize()||!s.isRange(se,ve,!1))throw new Ke;var De=P.toString();if(De.length<8)throw new Qt;if(!e.checkChecksum(De))throw new mi;var Ve=(l[1]+l[0])/2,Pe=($[1]+$[0])/2,Ye=this.getBarcodeFormat(),at=[new gn(Ve,n),new gn(Pe,n)],kt=new qi(De,null,0,at,Ye,(new Date).getTime()),zt=0;try{var Kt=Ba.decodeRow(n,s,$[1]);kt.putMetadata(Zi.UPC_EAN_EXTENSION,Kt.getText()),kt.putAllMetadata(Kt.getResultMetadata()),kt.addResultPoints(Kt.getResultPoints()),zt=Kt.getText().length}catch{}var mn=null==u?null:u.get(Ln.ALLOWED_EAN_EXTENSIONS);if(null!=mn){var Jn=!1;for(var ir in mn)if(zt.toString()===ir){Jn=!0;break}if(!Jn)throw new Ke}return kt},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var s=n.length;if(0===s)return!1;var u=parseInt(n.charAt(s-1),10);return e.getStandardUPCEANChecksum(n.substring(0,s-1))===u},e.getStandardUPCEANChecksum=function(n){for(var s=n.length,u=0,l=s-1;l>=0;l-=2){if((g=n.charAt(l).charCodeAt(0)-48)<0||g>9)throw new Qt;u+=g}for(u*=3,l=s-2;l>=0;l-=2){var g;if((g=n.charAt(l).charCodeAt(0)-48)<0||g>9)throw new Qt;u+=g}return(1e3-u)%10},e.decodeEnd=function(n,s){return e.findGuardPattern(n,s,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Qu);var Yu=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),nl=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const Ld=function(i){function e(){var n=i.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return Yu(e,i),e.prototype.decodeMiddle=function(n,s,u){var l,g,m,y,T=this.decodeMiddleCounters;T[0]=0,T[1]=0,T[2]=0,T[3]=0;for(var P=n.getSize(),V=s[1],$=0,q=0;q<6&&V<P;q++){var se=Nr.decodeDigit(n,T,V,Nr.L_AND_G_PATTERNS);u+=String.fromCharCode(48+se%10);try{for(var ve=(l=void 0,nl(T)),De=ve.next();!De.done;De=ve.next())V+=De.value}catch(kt){l={error:kt}}finally{try{De&&!De.done&&(g=ve.return)&&g.call(ve)}finally{if(l)throw l.error}}se>=10&&($|=1<<5-q)}for(u=e.determineFirstDigit(u,$),V=Nr.findGuardPattern(n,V,!0,Nr.MIDDLE_PATTERN,new Int32Array(Nr.MIDDLE_PATTERN.length).fill(0))[1],q=0;q<6&&V<P;q++){se=Nr.decodeDigit(n,T,V,Nr.L_PATTERNS),u+=String.fromCharCode(48+se);try{for(var Ye=(m=void 0,nl(T)),at=Ye.next();!at.done;at=Ye.next())V+=at.value}catch(Kt){m={error:Kt}}finally{try{at&&!at.done&&(y=Ye.return)&&y.call(Ye)}finally{if(m)throw m.error}}}return{rowOffset:V,resultString:u}},e.prototype.getBarcodeFormat=function(){return cn.EAN_13},e.determineFirstDigit=function(n,s){for(var u=0;u<10;u++)if(s===this.FIRST_DIGIT_ENCODINGS[u])return String.fromCharCode(48+u)+n;throw new Ke},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Nr);var tu=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),bu=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const nu=function(i){function e(){var n=i.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return tu(e,i),e.prototype.decodeMiddle=function(n,s,u){var l,g,m,y,T=this.decodeMiddleCounters;T[0]=0,T[1]=0,T[2]=0,T[3]=0;for(var P=n.getSize(),V=s[1],$=0;$<4&&V<P;$++){var q=Nr.decodeDigit(n,T,V,Nr.L_PATTERNS);u+=String.fromCharCode(48+q);try{for(var se=(l=void 0,bu(T)),ve=se.next();!ve.done;ve=se.next())V+=ve.value}catch(at){l={error:at}}finally{try{ve&&!ve.done&&(g=se.return)&&g.call(se)}finally{if(l)throw l.error}}}for(V=Nr.findGuardPattern(n,V,!0,Nr.MIDDLE_PATTERN,new Int32Array(Nr.MIDDLE_PATTERN.length).fill(0))[1],$=0;$<4&&V<P;$++){q=Nr.decodeDigit(n,T,V,Nr.L_PATTERNS),u+=String.fromCharCode(48+q);try{for(var Pe=(m=void 0,bu(T)),Ye=Pe.next();!Ye.done;Ye=Pe.next())V+=Ye.value}catch(zt){m={error:zt}}finally{try{Ye&&!Ye.done&&(y=Pe.return)&&y.call(Pe)}finally{if(m)throw m.error}}}return{rowOffset:V,resultString:u}},e.prototype.getBarcodeFormat=function(){return cn.EAN_8},e}(Nr);var Dc=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const bh=function(i){function e(){var n=null!==i&&i.apply(this,arguments)||this;return n.ean13Reader=new Ld,n}return Dc(e,i),e.prototype.getBarcodeFormat=function(){return cn.UPC_A},e.prototype.decode=function(n,s){return this.maybeReturnResult(this.ean13Reader.decode(n))},e.prototype.decodeRow=function(n,s,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,s,u))},e.prototype.decodeMiddle=function(n,s,u){return this.ean13Reader.decodeMiddle(n,s,u)},e.prototype.maybeReturnResult=function(n){var s=n.getText();if("0"===s.charAt(0)){var u=new qi(s.substring(1),null,null,n.getResultPoints(),cn.UPC_A);return null!=n.getResultMetadata()&&u.putAllMetadata(n.getResultMetadata()),u}throw new Ke},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Nr);var yi=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),xf=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const Zu=function(i){function e(){var n=i.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return yi(e,i),e.prototype.decodeMiddle=function(n,s,u){var l,g,m=this.decodeMiddleCounters.map(function(De){return De});m[0]=0,m[1]=0,m[2]=0,m[3]=0;for(var y=n.getSize(),T=s[1],P=0,V=0;V<6&&T<y;V++){var $=e.decodeDigit(n,m,T,e.L_AND_G_PATTERNS);u+=String.fromCharCode(48+$%10);try{for(var q=(l=void 0,xf(m)),se=q.next();!se.done;se=q.next())T+=se.value}catch(De){l={error:De}}finally{try{se&&!se.done&&(g=q.return)&&g.call(q)}finally{if(l)throw l.error}}$>=10&&(P|=1<<5-V)}return e.determineNumSysAndCheckDigit(new fn(u),P),T},e.prototype.decodeEnd=function(n,s){return e.findGuardPatternWithoutCounters(n,s,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(n){return Nr.checkChecksum(e.convertUPCEtoUPCA(n))},e.determineNumSysAndCheckDigit=function(n,s){for(var u=0;u<=1;u++)for(var l=0;l<10;l++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][l])return n.insert(0,"0"+u),void n.append("0"+l);throw Ke.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return cn.UPC_E},e.convertUPCEtoUPCA=function(n){var s=n.slice(1,7).split("").map(function(g){return g.charCodeAt(0)}),u=new fn;u.append(n.charAt(0));var l=s[5];switch(l){case 0:case 1:case 2:u.appendChars(s,0,2),u.append(l),u.append("0000"),u.appendChars(s,2,3);break;case 3:u.appendChars(s,0,3),u.append("00000"),u.appendChars(s,3,2);break;case 4:u.appendChars(s,0,4),u.append("00000"),u.append(s[4]);break;default:u.appendChars(s,0,5),u.append("0000"),u.append(l)}return n.length>=8&&u.append(n.charAt(7)),u.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Nr);var wm=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),Zl=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const Rc=function(i){function e(n){var s=i.call(this)||this,u=null==n?null:n.get(Ln.POSSIBLE_FORMATS),l=[];return null!=u&&(u.indexOf(cn.EAN_13)>-1&&l.push(new Ld),u.indexOf(cn.UPC_A)>-1&&l.push(new bh),u.indexOf(cn.EAN_8)>-1&&l.push(new nu),u.indexOf(cn.UPC_E)>-1&&l.push(new Zu)),0===l.length&&(l.push(new Ld),l.push(new bh),l.push(new nu),l.push(new Zu)),s.readers=l,s}return wm(e,i),e.prototype.decodeRow=function(n,s,u){var l,g;try{for(var m=Zl(this.readers),y=m.next();!y.done;y=m.next()){var T=y.value;try{var P=T.decodeRow(n,s,u),V=P.getBarcodeFormat()===cn.EAN_13&&"0"===P.getText().charAt(0),$=null==u?null:u.get(Ln.POSSIBLE_FORMATS),q=null==$||$.includes(cn.UPC_A);if(V&&q){var se=P.getRawBytes(),ve=new qi(P.getText().substring(1),se,se?se.length:null,P.getResultPoints(),cn.UPC_A);return ve.putAllMetadata(P.getResultMetadata()),ve}return P}catch{}}}catch(De){l={error:De}}finally{try{y&&!y.done&&(g=m.return)&&g.call(m)}finally{if(l)throw l.error}}throw new Ke},e.prototype.reset=function(){var n,s;try{for(var u=Zl(this.readers),l=u.next();!l.done;l=u.next())l.value.reset()}catch(m){n={error:m}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(n)throw n.error}}},e}(On);var xh=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Vd=function(i){function e(){var n=null!==i&&i.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return xh(e,i),e.prototype.decodeRow=function(n,s,u){var l=this.getValidRowData(s);if(!l)throw new Ke;var g=this.codaBarDecodeRow(l.row);if(!g)throw new Ke;return new qi(g,null,0,[new gn(l.left,n),new gn(l.right,n)],cn.CODABAR,(new Date).getTime())},e.prototype.getValidRowData=function(n){var s=n.toArray(),u=s.indexOf(!0);if(-1===u)return null;var l=s.lastIndexOf(!0);if(l<=u)return null;for(var g=[],m=(s=s.slice(u,l+1))[0],y=1,T=1;T<s.length;T++)s[T]===m?y++:(m=s[T],g.push(y),y=1);return g.push(y),g.length<23&&(g.length+1)%8!=0?null:{row:g,left:u,right:l}},e.prototype.codaBarDecodeRow=function(n){for(var s=[],u=Math.ceil(n.reduce(function(y,T){return(y+T)/2},0));n.length>0;){var g=n.splice(0,8).splice(0,7).map(function(y){return y<u?"n":"w"}).join("");if(void 0===this.CODA_BAR_CHAR_SET[g])return null;s.push(this.CODA_BAR_CHAR_SET[g])}var m=s.join("");return this.validCodaBarString(m)?m:null},e.prototype.validCodaBarString=function(n){return/^[A-D].{1,}[A-D]$/.test(n)},e}(On);var Bd=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const bn=function(i){function e(){var n=i.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return Bd(e,i),e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(n,s){for(var u=0;u<s.length;u++)if(On.patternMatchVariance(n,s[u],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return u;throw new Ke},e.count=function(n){return wr.sum(new Int32Array(n))},e.increment=function(n,s){for(var u=0,l=s[0],g=1;g<n.length;g++)s[g]>l&&(l=s[g],u=g);n[u]++},e.decrement=function(n,s){for(var u=0,l=s[0],g=1;g<n.length;g++)s[g]<l&&(l=s[g],u=g);n[u]--},e.isFinderPattern=function(n){var s,u,l=n[0]+n[1],m=l/(l+n[2]+n[3]);if(m>=e.MIN_FINDER_PATTERN_RATIO&&m<=e.MAX_FINDER_PATTERN_RATIO){var y=Number.MAX_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER;try{for(var P=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),V=P.next();!V.done;V=P.next()){var $=V.value;$>T&&(T=$),$<y&&(y=$)}}catch(q){s={error:q}}finally{try{V&&!V.done&&(u=P.return)&&u.call(P)}finally{if(s)throw s.error}}return T<10*y}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(On),cs=function(){function i(e,n){this.value=e,this.checksumPortion=n}return i.prototype.getValue=function(){return this.value},i.prototype.getChecksumPortion=function(){return this.checksumPortion},i.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},i.prototype.equals=function(e){return e instanceof i&&(this.value===e.value&&this.checksumPortion===e.checksumPortion)},i.prototype.hashCode=function(){return this.value^this.checksumPortion},i}(),ds=function(){function i(e,n,s,u,l){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new gn(s,l)),this.resultPoints.push(new gn(u,l))}return i.prototype.getValue=function(){return this.value},i.prototype.getStartEnd=function(){return this.startEnd},i.prototype.getResultPoints=function(){return this.resultPoints},i.prototype.equals=function(e){return e instanceof i&&this.value===e.value},i.prototype.hashCode=function(){return this.value},i}(),Pi=function(){function i(){}return i.getRSSvalue=function(e,n,s){var u,l,g=0;try{for(var m=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),y=m.next();!y.done;y=m.next())g+=y.value}catch(Pe){u={error:Pe}}finally{try{y&&!y.done&&(l=m.return)&&l.call(m)}finally{if(u)throw u.error}}for(var P=0,V=0,$=e.length,q=0;q<$-1;q++){var se=void 0;for(se=1,V|=1<<q;se<e[q];se++,V&=~(1<<q)){var ve=i.combins(g-se-1,$-q-2);if(s&&0===V&&g-se-($-q-1)>=$-q-1&&(ve-=i.combins(g-se-($-q),$-q-2)),$-q-1>1){for(var De=0,Ve=g-se-($-q-2);Ve>n;Ve--)De+=i.combins(g-se-Ve-1,$-q-3);ve-=De*($-1-q)}else g-se>n&&ve--;P+=ve}g-=se}return P},i.combins=function(e,n){var s,u;e-n>n?(u=n,s=e-n):(u=e-n,s=n);for(var l=1,g=1,m=e;m>s;m--)l*=m,g<=u&&(l/=g,g++);for(;g<=u;)l/=g,g++;return l},i}(),Zn=function(){function i(){}return i.buildBitArray=function(e){var n=2*e.length-1;null==e[e.length-1].getRightChar()&&(n-=1);for(var u=new _i(12*n),l=0,m=e[0].getRightChar().getValue(),y=11;y>=0;--y)m&1<<y&&u.set(l),l++;for(y=1;y<e.length;++y){for(var T=e[y],P=T.getLeftChar().getValue(),V=11;V>=0;--V)P&1<<V&&u.set(l),l++;if(null!==T.getRightChar()){var $=T.getRightChar().getValue();for(V=11;V>=0;--V)$&1<<V&&u.set(l),l++}}return u},i}(),ru=function(){function i(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}return i.prototype.getDecodedInformation=function(){return this.decodedInformation},i.prototype.isFinished=function(){return this.finished},i}(),Ci=function(){function i(e){this.newPosition=e}return i.prototype.getNewPosition=function(){return this.newPosition},i}();var rl=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const lo=function(i){function e(n,s){var u=i.call(this,n)||this;return u.value=s,u}return rl(e,i),e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(Ci);var Il=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Ss=function(i){function e(n,s,u){var l=i.call(this,n)||this;return u?(l.remaining=!0,l.remainingValue=l.remainingValue):(l.remaining=!1,l.remainingValue=0),l.newString=s,l}return Il(e,i),e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(Ci);var Mc=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Pn=function(i){function e(n,s,u){var l=i.call(this,n)||this;if(s<0||s>10||u<0||u>10)throw new Qt;return l.firstDigit=s,l.secondDigit=u,l}return Mc(e,i),e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(Ci);var Oc=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const xu=function(){function i(){}return i.parseFieldsInGeneralPurpose=function(e){var n,s,u,l,g,m,y,T;if(!e)return null;if(e.length<2)throw new Ke;var P=e.substring(0,2);try{for(var V=Oc(i.TWO_DIGIT_DATA_LENGTH),$=V.next();!$.done;$=V.next())if((q=$.value)[0]===P)return q[1]===i.VARIABLE_LENGTH?i.processVariableAI(2,q[2],e):i.processFixedAI(2,q[1],e)}catch(zt){n={error:zt}}finally{try{$&&!$.done&&(s=V.return)&&s.call(V)}finally{if(n)throw n.error}}if(e.length<3)throw new Ke;var se=e.substring(0,3);try{for(var ve=Oc(i.THREE_DIGIT_DATA_LENGTH),De=ve.next();!De.done;De=ve.next())if((q=De.value)[0]===se)return q[1]===i.VARIABLE_LENGTH?i.processVariableAI(3,q[2],e):i.processFixedAI(3,q[1],e)}catch(zt){u={error:zt}}finally{try{De&&!De.done&&(l=ve.return)&&l.call(ve)}finally{if(u)throw u.error}}try{for(var Ve=Oc(i.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),Pe=Ve.next();!Pe.done;Pe=Ve.next())if((q=Pe.value)[0]===se)return q[1]===i.VARIABLE_LENGTH?i.processVariableAI(4,q[2],e):i.processFixedAI(4,q[1],e)}catch(zt){g={error:zt}}finally{try{Pe&&!Pe.done&&(m=Ve.return)&&m.call(Ve)}finally{if(g)throw g.error}}if(e.length<4)throw new Ke;var Ye=e.substring(0,4);try{for(var at=Oc(i.FOUR_DIGIT_DATA_LENGTH),kt=at.next();!kt.done;kt=at.next()){var q;if((q=kt.value)[0]===Ye)return q[1]===i.VARIABLE_LENGTH?i.processVariableAI(4,q[2],e):i.processFixedAI(4,q[1],e)}}catch(zt){y={error:zt}}finally{try{kt&&!kt.done&&(T=at.return)&&T.call(at)}finally{if(y)throw y.error}}throw new Ke},i.processFixedAI=function(e,n,s){if(s.length<e)throw new Ke;var u=s.substring(0,e);if(s.length<e+n)throw new Ke;var l=s.substring(e,e+n),g=s.substring(e+n),m="("+u+")"+l,y=i.parseFieldsInGeneralPurpose(g);return null==y?m:m+y},i.processVariableAI=function(e,n,s){var l,u=s.substring(0,e),g=s.substring(e,l=s.length<e+n?s.length:e+n),m=s.substring(l),y="("+u+")"+g,T=i.parseFieldsInGeneralPurpose(m);return null==T?y:y+T},i.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",i.VARIABLE_LENGTH=[],20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",i.VARIABLE_LENGTH,20],["22",i.VARIABLE_LENGTH,29],["30",i.VARIABLE_LENGTH,8],["37",i.VARIABLE_LENGTH,8],["90",i.VARIABLE_LENGTH,30],["91",i.VARIABLE_LENGTH,30],["92",i.VARIABLE_LENGTH,30],["93",i.VARIABLE_LENGTH,30],["94",i.VARIABLE_LENGTH,30],["95",i.VARIABLE_LENGTH,30],["96",i.VARIABLE_LENGTH,30],["97",i.VARIABLE_LENGTH,3],["98",i.VARIABLE_LENGTH,30],["99",i.VARIABLE_LENGTH,30]],i.THREE_DIGIT_DATA_LENGTH=[["240",i.VARIABLE_LENGTH,30],["241",i.VARIABLE_LENGTH,30],["242",i.VARIABLE_LENGTH,6],["250",i.VARIABLE_LENGTH,30],["251",i.VARIABLE_LENGTH,30],["253",i.VARIABLE_LENGTH,17],["254",i.VARIABLE_LENGTH,20],["400",i.VARIABLE_LENGTH,30],["401",i.VARIABLE_LENGTH,30],["402",17],["403",i.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",i.VARIABLE_LENGTH,20],["421",i.VARIABLE_LENGTH,15],["422",3],["423",i.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],i.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",i.VARIABLE_LENGTH,15],["391",i.VARIABLE_LENGTH,18],["392",i.VARIABLE_LENGTH,15],["393",i.VARIABLE_LENGTH,18],["703",i.VARIABLE_LENGTH,30]],i.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",i.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",i.VARIABLE_LENGTH,20],["8003",i.VARIABLE_LENGTH,30],["8004",i.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",i.VARIABLE_LENGTH,30],["8008",i.VARIABLE_LENGTH,12],["8018",18],["8020",i.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",i.VARIABLE_LENGTH,70],["8200",i.VARIABLE_LENGTH,70]],i}(),ec=function(){function i(e){this.buffer=new fn,this.information=e}return i.prototype.decodeAllCodes=function(e,n){for(var s=n,u=null;;){var l=this.decodeGeneralPurposeField(s,u),g=xu.parseFieldsInGeneralPurpose(l.getNewString());if(null!=g&&e.append(g),u=l.isRemaining()?""+l.getRemainingValue():null,s===l.getNewPosition())break;s=l.getNewPosition()}return e.toString()},i.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)},i.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(e,4);return new Pn(this.information.getSize(),0===n?Pn.FNC1:n-1,Pn.FNC1)}var s=this.extractNumericValueFromBitArray(e,7);return new Pn(e+7,(s-8)/11,(s-8)%11)},i.prototype.extractNumericValueFromBitArray=function(e,n){return i.extractNumericValueFromBitArray(this.information,e,n)},i.extractNumericValueFromBitArray=function(e,n,s){for(var u=0,l=0;l<s;++l)e.get(n+l)&&(u|=1<<s-l-1);return u},i.prototype.decodeGeneralPurposeField=function(e,n){this.buffer.setLengthToZero(),null!=n&&this.buffer.append(n),this.current.setPosition(e);var s=this.parseBlocks();return null!=s&&s.isRemaining()?new Ss(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new Ss(this.current.getPosition(),this.buffer.toString())},i.prototype.parseBlocks=function(){var e,n;do{var s=this.current.getPosition();if(e=this.current.isAlpha()?(n=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(n=this.parseIsoIec646Block()).isFinished():(n=this.parseNumericBlock()).isFinished(),s===this.current.getPosition()&&!e)break}while(!e);return n.getDecodedInformation()},i.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var n=void 0;return n=e.isSecondDigitFNC1()?new Ss(this.current.getPosition(),this.buffer.toString()):new Ss(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new ru(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1())return n=new Ss(this.current.getPosition(),this.buffer.toString()),new ru(!0,n);this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ru(!1)},i.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new Ss(this.current.getPosition(),this.buffer.toString());return new ru(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ru(!1)},i.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new Ss(this.current.getPosition(),this.buffer.toString());return new ru(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ru(!1)},i.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;var s=this.extractNumericValueFromBitArray(e,7);if(s>=64&&s<116)return!0;if(e+8>this.information.getSize())return!1;var u=this.extractNumericValueFromBitArray(e,8);return u>=232&&u<253},i.prototype.decodeIsoIec646=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(15===n)return new lo(e+5,lo.FNC1);if(n>=5&&n<15)return new lo(e+5,"0"+(n-5));var l,s=this.extractNumericValueFromBitArray(e,7);if(s>=64&&s<90)return new lo(e+7,""+(s+1));if(s>=90&&s<116)return new lo(e+7,""+(s+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new Qt}return new lo(e+8,l)},i.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;var s=this.extractNumericValueFromBitArray(e,6);return s>=16&&s<63},i.prototype.decodeAlphanumeric=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(15===n)return new lo(e+5,lo.FNC1);if(n>=5&&n<15)return new lo(e+5,"0"+(n-5));var u,s=this.extractNumericValueFromBitArray(e,6);if(s>=32&&s<58)return new lo(e+6,""+(s+33));switch(s){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new Zo("Decoding invalid alphanumeric value: "+s)}return new lo(e+6,u)},i.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<5&&n+e<this.information.getSize();++n)if(2===n){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0},i.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0},i.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0},i}(),Tl=function(){function i(e){this.information=e,this.generalDecoder=new ec(e)}return i.prototype.getInformation=function(){return this.information},i.prototype.getGeneralDecoder=function(){return this.generalDecoder},i}();var Do=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const zs=function(i){function e(n){return i.call(this,n)||this}return Do(e,i),e.prototype.encodeCompressedGtin=function(n,s){n.append("(01)");var u=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,s,u)},e.prototype.encodeCompressedGtinWithoutAI=function(n,s,u){for(var l=0;l<4;++l){var g=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*l,10);g/100==0&&n.append("0"),g/10==0&&n.append("0"),n.append(g)}e.appendCheckDigit(n,u)},e.appendCheckDigit=function(n,s){for(var u=0,l=0;l<13;l++){var g=n.charAt(l+s).charCodeAt(0)-48;u+=1&l?g:3*g}10==(u=10-u%10)&&(u=0),n.append(u)},e.GTIN_SIZE=40,e}(Tl);var tc=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Ca=function(i){function e(n){return i.call(this,n)||this}return tc(e,i),e.prototype.parseInformation=function(){var n=new fn;n.append("(01)");var s=n.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return n.append(u),this.encodeCompressedGtinWithoutAI(n,e.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(zs);var Su=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Ud=function(i){function e(n){return i.call(this,n)||this}return Su(e,i),e.prototype.parseInformation=function(){var n=new fn;return this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(Tl);var ol=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const jd=function(i){function e(n){return i.call(this,n)||this}return ol(e,i),e.prototype.encodeCompressedWeight=function(n,s,u){var l=this.getGeneralDecoder().extractNumericValueFromBitArray(s,u);this.addWeightCode(n,l);for(var g=this.checkWeight(l),m=1e5,y=0;y<5;++y)g/m==0&&n.append("0"),m/=10;n.append(g)},e}(zs);var xl=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Sl=function(i){function e(n){return i.call(this,n)||this}return xl(e,i),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+jd.GTIN_SIZE+e.WEIGHT_SIZE)throw new Ke;var n=new fn;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+jd.GTIN_SIZE,e.WEIGHT_SIZE),n.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(jd);var Lp=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Vp=function(i){function e(n){return i.call(this,n)||this}return Lp(e,i),e.prototype.addWeightCode=function(n,s){n.append("(3103)")},e.prototype.checkWeight=function(n){return n},e}(Sl);var Bp=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Mh=function(i){function e(n){return i.call(this,n)||this}return Bp(e,i),e.prototype.addWeightCode=function(n,s){n.append(s<1e4?"(3202)":"(3203)")},e.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},e}(Sl);var Hd=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Mf=function(i){function e(n){return i.call(this,n)||this}return Hd(e,i),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+zs.GTIN_SIZE)throw new Ke;var n=new fn;this.encodeCompressedGtin(n,e.HEADER_SIZE);var s=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+zs.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(392"),n.append(s),n.append(")");var u=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+zs.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return n.append(u.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(zs);var Of=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const M=function(i){function e(n){return i.call(this,n)||this}return Of(e,i),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+zs.GTIN_SIZE)throw new Ke;var n=new fn;this.encodeCompressedGtin(n,e.HEADER_SIZE);var s=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+zs.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(393"),n.append(s),n.append(")");var u=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+zs.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);u/100==0&&n.append("0"),u/10==0&&n.append("0"),n.append(u);var l=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+zs.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return n.append(l.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(zs);var E=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const k=function(i){function e(n,s,u){var l=i.call(this,n)||this;return l.dateCode=u,l.firstAIdigits=s,l}return E(e,i),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Ke;var n=new fn;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(n,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),n.toString()},e.prototype.encodeCompressedDate=function(n,s){var u=this.getGeneralDecoder().extractNumericValueFromBitArray(s,e.DATE_SIZE);if(38400!==u){n.append("("),n.append(this.dateCode),n.append(")");var l=u%32,g=(u/=32)%12+1,m=u/=12;m/10==0&&n.append("0"),n.append(m),g/10==0&&n.append("0"),n.append(g),l/10==0&&n.append("0"),n.append(l)}},e.prototype.addWeightCode=function(n,s){n.append("("),n.append(this.firstAIdigits),n.append(s/1e5),n.append(")")},e.prototype.checkWeight=function(n){return n%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(jd),Ge=function(){function i(e,n,s,u){this.leftchar=e,this.rightchar=n,this.finderpattern=s,this.maybeLast=u}return i.prototype.mayBeLast=function(){return this.maybeLast},i.prototype.getLeftChar=function(){return this.leftchar},i.prototype.getRightChar=function(){return this.rightchar},i.prototype.getFinderPattern=function(){return this.finderpattern},i.prototype.mustBeLast=function(){return null==this.rightchar},i.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},i.equals=function(e,n){return e instanceof i&&i.equalsOrNull(e.leftchar,n.leftchar)&&i.equalsOrNull(e.rightchar,n.rightchar)&&i.equalsOrNull(e.finderpattern,n.finderpattern)},i.equalsOrNull=function(e,n){return null===e?null===n:i.equals(e,n)},i.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},i}(),Vt=function(){function i(e,n,s){this.pairs=e,this.rowNumber=n,this.wasReversed=s}return i.prototype.getPairs=function(){return this.pairs},i.prototype.getRowNumber=function(){return this.rowNumber},i.prototype.isReversed=function(){return this.wasReversed},i.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},i.prototype.toString=function(){return"{ "+this.pairs+" }"},i.prototype.equals=function(e,n){return e instanceof i&&this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed},i.prototype.checkEqualitity=function(e,n){var s;if(e&&n)return e.forEach(function(u,l){n.forEach(function(g){u.getLeftChar().getValue()===g.getLeftChar().getValue()&&u.getRightChar().getValue()===g.getRightChar().getValue()&&u.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(s=!0)})}),s},i}();var En=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),In=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const hs=function(i){function e(){var n=null!==i&&i.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return En(e,i),e.prototype.decodeRow=function(n,s,u){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(n,s))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(n,s))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(n,s){for(var u=!1;!u;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,n))}catch(m){if(m instanceof Ke){if(!this.pairs.length)throw new Ke;u=!0}}if(this.checkChecksum())return this.pairs;var l;if(l=!!this.rows.length,this.storeRow(n,!1),l){var g=this.checkRowsBoolean(!1);if(null!=g||null!=(g=this.checkRowsBoolean(!0)))return g}throw new Ke},e.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var s=null;try{s=this.checkRows(new Array,0)}catch(u){console.log(u)}return n&&(this.rows=this.rows.reverse()),s},e.prototype.checkRows=function(n,s){for(var u,l,g=s;g<this.rows.length;g++){var m=this.rows[g];this.pairs.length=0;try{for(var y=(u=void 0,In(n)),T=y.next();!T.done;T=y.next())this.pairs.push(T.value.getPairs())}catch($){u={error:$}}finally{try{T&&!T.done&&(l=y.return)&&l.call(y)}finally{if(u)throw u.error}}if(this.pairs.push(m.getPairs()),e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var V=new Array(n);V.push(m);try{return this.checkRows(V,g+1)}catch($){console.log($)}}}throw new Ke},e.isValidSequence=function(n){var s,u;try{for(var l=In(e.FINDER_PATTERN_SEQUENCES),g=l.next();!g.done;g=l.next()){var m=g.value;if(!(n.length>m.length)){for(var y=!0,T=0;T<n.length;T++)if(n[T].getFinderPattern().getValue()!==m[T]){y=!1;break}if(y)return!0}}}catch(P){s={error:P}}finally{try{g&&!g.done&&(u=l.return)&&u.call(l)}finally{if(s)throw s.error}}return!1},e.prototype.storeRow=function(n,s){for(var u=0,l=!1,g=!1;u<this.rows.length;){var m=this.rows[u];if(m.getRowNumber()>n){g=m.isEquivalent(this.pairs);break}l=m.isEquivalent(this.pairs),u++}g||l||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new Vt(this.pairs,n,s)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(n,s){var u,l,g,m,y,T;try{for(var P=In(s),V=P.next();!V.done;V=P.next()){var $=V.value;if($.getPairs().length!==n.length)try{for(var se=(g=void 0,In($.getPairs())),ve=se.next();!ve.done;ve=se.next()){var De=ve.value;try{for(var Pe=(y=void 0,In(n)),Ye=Pe.next();!Ye.done;Ye=Pe.next())if(Ge.equals(De,Ye.value)){!0;break}}catch(kt){y={error:kt}}finally{try{Ye&&!Ye.done&&(T=Pe.return)&&T.call(Pe)}finally{if(y)throw y.error}}}}catch(kt){g={error:kt}}finally{try{ve&&!ve.done&&(m=se.return)&&m.call(se)}finally{if(g)throw g.error}}}}catch(kt){u={error:kt}}finally{try{V&&!V.done&&(l=P.return)&&l.call(P)}finally{if(u)throw u.error}}},e.isPartialRow=function(n,s){var u,l,g,m,y,T;try{for(var P=In(s),V=P.next();!V.done;V=P.next()){var $=V.value,q=!0;try{for(var se=(g=void 0,In(n)),ve=se.next();!ve.done;ve=se.next()){var De=ve.value,Ve=!1;try{for(var Pe=(y=void 0,In($.getPairs())),Ye=Pe.next();!Ye.done;Ye=Pe.next())if(De.equals(Ye.value)){Ve=!0;break}}catch(kt){y={error:kt}}finally{try{Ye&&!Ye.done&&(T=Pe.return)&&T.call(Pe)}finally{if(y)throw y.error}}if(!Ve){q=!1;break}}}catch(kt){g={error:kt}}finally{try{ve&&!ve.done&&(m=se.return)&&m.call(se)}finally{if(g)throw g.error}}if(q)return!0}}catch(kt){u={error:kt}}finally{try{V&&!V.done&&(l=P.return)&&l.call(P)}finally{if(u)throw u.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(n){var u=function te(i){try{if(i.get(1))return new Ca(i);if(!i.get(2))return new Ud(i);switch(ec.extractNumericValueFromBitArray(i,1,4)){case 4:return new Vp(i);case 5:return new Mh(i)}switch(ec.extractNumericValueFromBitArray(i,1,5)){case 12:return new Mf(i);case 13:return new M(i)}switch(ec.extractNumericValueFromBitArray(i,1,7)){case 56:return new k(i,"310","11");case 57:return new k(i,"320","11");case 58:return new k(i,"310","13");case 59:return new k(i,"320","13");case 60:return new k(i,"310","15");case 61:return new k(i,"320","15");case 62:return new k(i,"310","17");case 63:return new k(i,"320","17")}}catch(u){throw console.log(u),new Zo("unknown decoder: "+i)}}(Zn.buildBitArray(n)),l=u.parseInformation(),g=n[0].getFinderPattern().getResultPoints(),m=n[n.length-1].getFinderPattern().getResultPoints();return new qi(l,null,null,[g[0],g[1],m[0],m[1]],cn.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var n=this.pairs.get(0),s=n.getLeftChar(),u=n.getRightChar();if(null===u)return!1;for(var l=u.getChecksumPortion(),g=2,m=1;m<this.pairs.size();++m){var y=this.pairs.get(m);l+=y.getLeftChar().getChecksumPortion(),g++;var T=y.getRightChar();null!=T&&(l+=T.getChecksumPortion(),g++)}return 211*(g-4)+(l%=211)===s.getValue()},e.getNextSecondBar=function(n,s){var u;return n.get(s)?(u=n.getNextUnset(s),u=n.getNextSet(u)):(u=n.getNextSet(s),u=n.getNextUnset(u)),u},e.prototype.retrieveNextPair=function(n,s,u){var l=s.length%2==0;this.startFromEven&&(l=!l);var g,m=!0,y=-1;do{this.findNextPair(n,s,y),null===(g=this.parseFoundFinderPattern(n,u,l))?y=e.getNextSecondBar(n,this.startEnd[0]):m=!1}while(m);var P,T=this.decodeDataCharacter(n,g,l,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new Ke;try{P=this.decodeDataCharacter(n,g,l,!1)}catch(V){P=null,console.log(V)}return new Ge(T,P,g,!0)},e.prototype.isEmptyPair=function(n){return 0===n.length},e.prototype.findNextPair=function(n,s,u){var l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;var m,g=n.getSize();m=u>=0?u:this.isEmptyPair(s)?0:s[s.length-1].getFinderPattern().getStartEnd()[1];var T=s.length%2!=0;this.startFromEven&&(T=!T);for(var P=!1;m<g&&(P=!n.get(m));)m++;for(var V=0,$=m,q=m;q<g;q++)if(n.get(q)!==P)l[V]++;else{if(3===V){if(T&&e.reverseCounters(l),e.isFinderPattern(l))return this.startEnd[0]=$,void(this.startEnd[1]=q);T&&e.reverseCounters(l),$+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,V--}else V++;l[V]=1,P=!P}throw new Ke},e.reverseCounters=function(n){for(var s=n.length,u=0;u<s/2;++u){var l=n[u];n[u]=n[s-u-1],n[s-u-1]=l}},e.prototype.parseFoundFinderPattern=function(n,s,u){var l,g,m;if(u){for(var y=this.startEnd[0]-1;y>=0&&!n.get(y);)y--;y++,l=this.startEnd[0]-y,g=y,m=this.startEnd[1]}else g=this.startEnd[0],l=(m=n.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var P,T=this.getDecodeFinderCounters();jr.arraycopy(T,0,T,1,T.length-1),T[0]=l;try{P=this.parseFinderValue(T,e.FINDER_PATTERNS)}catch{return null}return new ds(P,[g,m],g,m,s)},e.prototype.decodeDataCharacter=function(n,s,u,l){for(var g=this.getDataCharacterCounters(),m=0;m<g.length;m++)g[m]=0;if(l)e.recordPatternInReverse(n,s.getStartEnd()[0],g);else{e.recordPattern(n,s.getStartEnd()[1],g);for(var y=0,T=g.length-1;y<T;y++,T--){var P=g[y];g[y]=g[T],g[T]=P}}var $=wr.sum(new Int32Array(g))/17,q=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs($-q)/q>.3)throw new Ke;var se=this.getOddCounts(),ve=this.getEvenCounts(),De=this.getOddRoundingErrors(),Ve=this.getEvenRoundingErrors();for(y=0;y<g.length;y++){var Pe=1*g[y]/$,Ye=Pe+.5;if(Ye<1){if(Pe<.3)throw new Ke;Ye=1}else if(Ye>8){if(Pe>8.7)throw new Ke;Ye=8}var at=y/2;1&y?(ve[at]=Ye,Ve[at]=Pe-Ye):(se[at]=Ye,De[at]=Pe-Ye)}this.adjustOddEvenCounts(17);var kt=4*s.getValue()+(u?0:2)+(l?0:1)-1,zt=0,Kt=0;for(y=se.length-1;y>=0;y--)e.isNotA1left(s,u,l)&&(Kt+=se[y]*e.WEIGHTS[kt][2*y]),zt+=se[y];var Jn=0;for(y=ve.length-1;y>=0;y--)e.isNotA1left(s,u,l)&&(Jn+=ve[y]*e.WEIGHTS[kt][2*y+1]);var ir=Kt+Jn;if(1&zt||zt>13||zt<4)throw new Ke;var io=(13-zt)/2,ei=e.SYMBOL_WIDEST[io],po=9-ei,du=Pi.getRSSvalue(se,ei,!0),Uc=Pi.getRSSvalue(ve,po,!1);return new cs(du*e.EVEN_TOTAL_SUBSET[io]+Uc+e.GSUM[io],ir)},e.isNotA1left=function(n,s,u){return!(0===n.getValue()&&s&&u)},e.prototype.adjustOddEvenCounts=function(n){var s=wr.sum(new Int32Array(this.getOddCounts())),u=wr.sum(new Int32Array(this.getEvenCounts())),l=!1,g=!1;s>13?g=!0:s<4&&(l=!0);var m=!1,y=!1;u>13?y=!0:u<4&&(m=!0);var T=s+u-n,P=!(1&~s),V=!(1&u);if(1===T)if(P){if(V)throw new Ke;g=!0}else{if(!V)throw new Ke;y=!0}else if(-1===T)if(P){if(V)throw new Ke;l=!0}else{if(!V)throw new Ke;m=!0}else{if(0!==T)throw new Ke;if(P){if(!V)throw new Ke;s<u?(l=!0,y=!0):(g=!0,m=!0)}else if(V)throw new Ke}if(l){if(g)throw new Ke;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(y)throw new Ke;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A=0,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B=1,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C=2,e.FINDER_PAT_B,e.FINDER_PAT_D=3],[e.FINDER_PAT_A,e.FINDER_PAT_E=4,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F=5],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(bn);var nc=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Pf=function(i){function e(n,s,u){var l=i.call(this,n,s)||this;return l.count=0,l.finderPattern=u,l}return nc(e,i),e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(cs);var Ua=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),td=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const xr=function(i){function e(){var n=null!==i&&i.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return Ua(e,i),e.prototype.decodeRow=function(n,s,u){var l,g,m,y,T=this.decodePair(s,!1,n,u);e.addOrTally(this.possibleLeftPairs,T),s.reverse();var P=this.decodePair(s,!0,n,u);e.addOrTally(this.possibleRightPairs,P),s.reverse();try{for(var V=td(this.possibleLeftPairs),$=V.next();!$.done;$=V.next()){var q=$.value;if(q.getCount()>1)try{for(var se=(m=void 0,td(this.possibleRightPairs)),ve=se.next();!ve.done;ve=se.next()){var De=ve.value;if(De.getCount()>1&&e.checkChecksum(q,De))return e.constructResult(q,De)}}catch(Ve){m={error:Ve}}finally{try{ve&&!ve.done&&(y=se.return)&&y.call(se)}finally{if(m)throw m.error}}}}catch(Ve){l={error:Ve}}finally{try{$&&!$.done&&(g=V.return)&&g.call(V)}finally{if(l)throw l.error}}throw new Ke},e.addOrTally=function(n,s){var u,l;if(null!=s){var g=!1;try{for(var m=td(n),y=m.next();!y.done;y=m.next()){var T=y.value;if(T.getValue()===s.getValue()){T.incrementCount(),g=!0;break}}}catch(P){u={error:P}}finally{try{y&&!y.done&&(l=m.return)&&l.call(m)}finally{if(u)throw u.error}}g||n.push(s)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(n,s){for(var u=4537077*n.getValue()+s.getValue(),l=new String(u).toString(),g=new fn,m=13-l.length;m>0;m--)g.append("0");g.append(l);var y=0;for(m=0;m<13;m++){var T=g.charAt(m).charCodeAt(0)-48;y+=1&m?T:3*T}10==(y=10-y%10)&&(y=0),g.append(y.toString());var P=n.getFinderPattern().getResultPoints(),V=s.getFinderPattern().getResultPoints();return new qi(g.toString(),null,0,[P[0],P[1],V[0],V[1]],cn.RSS_14,(new Date).getTime())},e.checkChecksum=function(n,s){var u=(n.getChecksumPortion()+16*s.getChecksumPortion())%79,l=9*n.getFinderPattern().getValue()+s.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,u===l},e.prototype.decodePair=function(n,s,u,l){try{var g=this.findFinderPattern(n,s),m=this.parseFoundFinderPattern(n,u,s,g),y=null==l?null:l.get(Ln.NEED_RESULT_POINT_CALLBACK);if(null!=y){var T=(g[0]+g[1])/2;s&&(T=n.getSize()-1-T),y.foundPossibleResultPoint(new gn(T,u))}var P=this.decodeDataCharacter(n,m,!0),V=this.decodeDataCharacter(n,m,!1);return new Pf(1597*P.getValue()+V.getValue(),P.getChecksumPortion()+4*V.getChecksumPortion(),m)}catch{return null}},e.prototype.decodeDataCharacter=function(n,s,u){for(var l=this.getDataCharacterCounters(),g=0;g<l.length;g++)l[g]=0;if(u)On.recordPatternInReverse(n,s.getStartEnd()[0],l);else{On.recordPattern(n,s.getStartEnd()[1]+1,l);for(var m=0,y=l.length-1;m<y;m++,y--){var T=l[m];l[m]=l[y],l[y]=T}}var P=u?16:15,V=wr.sum(new Int32Array(l))/P,$=this.getOddCounts(),q=this.getEvenCounts(),se=this.getOddRoundingErrors(),ve=this.getEvenRoundingErrors();for(m=0;m<l.length;m++){var De=l[m]/V,Ve=Math.floor(De+.5);Ve<1?Ve=1:Ve>8&&(Ve=8);var Pe=Math.floor(m/2);1&m?(q[Pe]=Ve,ve[Pe]=De-Ve):($[Pe]=Ve,se[Pe]=De-Ve)}this.adjustOddEvenCounts(u,P);var Ye=0,at=0;for(m=$.length-1;m>=0;m--)at*=9,at+=$[m],Ye+=$[m];var kt=0,zt=0;for(m=q.length-1;m>=0;m--)kt*=9,kt+=q[m],zt+=q[m];var mn,Jn,Kt=at+3*kt;if(u){if(1&Ye||Ye>12||Ye<4)throw new Ke;var ir=9-(Jn=e.OUTSIDE_ODD_WIDEST[mn=(12-Ye)/2]),io=Pi.getRSSvalue($,Jn,!1),ei=Pi.getRSSvalue(q,ir,!0);return new cs(io*e.OUTSIDE_EVEN_TOTAL_SUBSET[mn]+ei+e.OUTSIDE_GSUM[mn],Kt)}if(1&zt||zt>10||zt<4)throw new Ke;return ir=9-(Jn=e.INSIDE_ODD_WIDEST[mn=(10-zt)/2]),io=Pi.getRSSvalue($,Jn,!0),ei=Pi.getRSSvalue(q,ir,!1),new cs(ei*e.INSIDE_ODD_TOTAL_SUBSET[mn]+io+e.INSIDE_GSUM[mn],Kt)},e.prototype.findFinderPattern=function(n,s){var u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var l=n.getSize(),g=!1,m=0;m<l&&s!==(g=!n.get(m));)m++;for(var y=0,T=m,P=m;P<l;P++)if(n.get(P)!==g)u[y]++;else{if(3===y){if(bn.isFinderPattern(u))return[T,P];T+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,y--}else y++;u[y]=1,g=!g}throw new Ke},e.prototype.parseFoundFinderPattern=function(n,s,u,l){for(var g=n.get(l[0]),m=l[0]-1;m>=0&&g!==n.get(m);)m--;m++;var y=l[0]-m,T=this.getDecodeFinderCounters(),P=new Int32Array(T.length);jr.arraycopy(T,0,P,1,T.length-1),P[0]=y;var V=this.parseFinderValue(P,e.FINDER_PATTERNS),$=m,q=l[1];return u&&($=n.getSize()-1-$,q=n.getSize()-1-q),new ds(V,[m,l[1]],$,q,s)},e.prototype.adjustOddEvenCounts=function(n,s){var u=wr.sum(new Int32Array(this.getOddCounts())),l=wr.sum(new Int32Array(this.getEvenCounts())),g=!1,m=!1,y=!1,T=!1;n?(u>12?m=!0:u<4&&(g=!0),l>12?T=!0:l<4&&(y=!0)):(u>11?m=!0:u<5&&(g=!0),l>10?T=!0:l<4&&(y=!0));var P=u+l-s,V=(1&u)==(n?1:0),$=!(1&~l);if(1===P)if(V){if($)throw new Ke;m=!0}else{if(!$)throw new Ke;T=!0}else if(-1===P)if(V){if($)throw new Ke;g=!0}else{if(!$)throw new Ke;y=!0}else{if(0!==P)throw new Ke;if(V){if(!$)throw new Ke;u<l?(g=!0,T=!0):(m=!0,y=!0)}else if($)throw new Ke}if(g){if(m)throw new Ke;bn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&bn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(T)throw new Ke;bn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&bn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(bn);var Rl=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const eo=function(i){function e(n){var s=i.call(this)||this;s.readers=[];var u=n?n.get(Ln.POSSIBLE_FORMATS):null,l=n&&void 0!==n.get(Ln.ASSUME_CODE_39_CHECK_DIGIT),g=n&&void 0!==n.get(Ln.ENABLE_CODE_39_EXTENDED_MODE);return u&&((u.includes(cn.EAN_13)||u.includes(cn.UPC_A)||u.includes(cn.EAN_8)||u.includes(cn.UPC_E))&&s.readers.push(new Rc(n)),u.includes(cn.CODE_39)&&s.readers.push(new Ea(l,g)),u.includes(cn.CODE_93)&&s.readers.push(new Ih),u.includes(cn.CODE_128)&&s.readers.push(new ya),u.includes(cn.ITF)&&s.readers.push(new el),u.includes(cn.CODABAR)&&s.readers.push(new Vd),u.includes(cn.RSS_14)&&s.readers.push(new xr),u.includes(cn.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),s.readers.push(new hs))),0===s.readers.length&&(s.readers.push(new Rc(n)),s.readers.push(new Ea),s.readers.push(new Ih),s.readers.push(new Rc(n)),s.readers.push(new ya),s.readers.push(new el),s.readers.push(new xr)),s}return Rl(e,i),e.prototype.decodeRow=function(n,s,u){for(var l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(n,s,u)}catch{}throw new Ke},e.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},e}(On);var nd=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),su=(function(i){nd(function e(n,s){return void 0===n&&(n=500),i.call(this,new eo(s),n,s)||this},i)}(ia),function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}),fr=function(){function i(e,n,s){this.ecCodewords=e,this.ecBlocks=[n],s&&this.ecBlocks.push(s)}return i.prototype.getECCodewords=function(){return this.ecCodewords},i.prototype.getECBlocks=function(){return this.ecBlocks},i}(),ti=function(){function i(e,n){this.count=e,this.dataCodewords=n}return i.prototype.getCount=function(){return this.count},i.prototype.getDataCodewords=function(){return this.dataCodewords},i}();const Ml=function(){function i(e,n,s,u,l,g){var m,y;this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=s,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=l,this.ecBlocks=g;var T=0,P=g.getECCodewords(),V=g.getECBlocks();try{for(var $=su(V),q=$.next();!q.done;q=$.next()){var se=q.value;T+=se.getCount()*(se.getDataCodewords()+P)}}catch(ve){m={error:ve}}finally{try{q&&!q.done&&(y=$.return)&&y.call($)}finally{if(m)throw m.error}}this.totalCodewords=T}return i.prototype.getVersionNumber=function(){return this.versionNumber},i.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},i.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},i.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},i.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},i.prototype.getTotalCodewords=function(){return this.totalCodewords},i.prototype.getECBlocks=function(){return this.ecBlocks},i.getVersionForDimensions=function(e,n){var s,u;if(1&e||1&n)throw new Qt;try{for(var l=su(i.VERSIONS),g=l.next();!g.done;g=l.next()){var m=g.value;if(m.symbolSizeRows===e&&m.symbolSizeColumns===n)return m}}catch(y){s={error:y}}finally{try{g&&!g.done&&(u=l.return)&&u.call(l)}finally{if(s)throw s.error}}throw new Qt},i.prototype.toString=function(){return""+this.versionNumber},i.buildVersions=function(){return[new i(1,10,10,8,8,new fr(5,new ti(1,3))),new i(2,12,12,10,10,new fr(7,new ti(1,5))),new i(3,14,14,12,12,new fr(10,new ti(1,8))),new i(4,16,16,14,14,new fr(12,new ti(1,12))),new i(5,18,18,16,16,new fr(14,new ti(1,18))),new i(6,20,20,18,18,new fr(18,new ti(1,22))),new i(7,22,22,20,20,new fr(20,new ti(1,30))),new i(8,24,24,22,22,new fr(24,new ti(1,36))),new i(9,26,26,24,24,new fr(28,new ti(1,44))),new i(10,32,32,14,14,new fr(36,new ti(1,62))),new i(11,36,36,16,16,new fr(42,new ti(1,86))),new i(12,40,40,18,18,new fr(48,new ti(1,114))),new i(13,44,44,20,20,new fr(56,new ti(1,144))),new i(14,48,48,22,22,new fr(68,new ti(1,174))),new i(15,52,52,24,24,new fr(42,new ti(2,102))),new i(16,64,64,14,14,new fr(56,new ti(2,140))),new i(17,72,72,16,16,new fr(36,new ti(4,92))),new i(18,80,80,18,18,new fr(48,new ti(4,114))),new i(19,88,88,20,20,new fr(56,new ti(4,144))),new i(20,96,96,22,22,new fr(68,new ti(4,174))),new i(21,104,104,24,24,new fr(56,new ti(6,136))),new i(22,120,120,18,18,new fr(68,new ti(6,175))),new i(23,132,132,20,20,new fr(62,new ti(8,163))),new i(24,144,144,22,22,new fr(62,new ti(8,156),new ti(2,155))),new i(25,8,18,6,16,new fr(7,new ti(1,5))),new i(26,8,32,6,14,new fr(11,new ti(1,10))),new i(27,12,26,10,24,new fr(14,new ti(1,16))),new i(28,12,36,10,16,new fr(18,new ti(1,22))),new i(29,16,36,14,16,new fr(24,new ti(1,32))),new i(30,16,48,14,22,new fr(28,new ti(1,49)))]},i.VERSIONS=i.buildVersions(),i}(),Im=function(){function i(e){var n=e.getHeight();if(n<8||n>144||1&n)throw new Qt;this.version=i.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new tr(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return i.prototype.getVersion=function(){return this.version},i.readVersion=function(e){var n=e.getHeight(),s=e.getWidth();return Ml.getVersionForDimensions(n,s)},i.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),n=0,s=4,u=0,l=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth(),m=!1,y=!1,T=!1,P=!1;do{if(s!==l||0!==u||m)if(s===l-2&&0===u&&3&g&&!y)e[n++]=255&this.readCorner2(l,g),s-=2,u+=2,y=!0;else if(s!==l+4||2!==u||7&g||T)if(s!==l-2||0!==u||4!=(7&g)||P){do{s<l&&u>=0&&!this.readMappingMatrix.get(u,s)&&(e[n++]=255&this.readUtah(s,u,l,g)),s-=2,u+=2}while(s>=0&&u<g);s+=1,u+=3;do{s>=0&&u<g&&!this.readMappingMatrix.get(u,s)&&(e[n++]=255&this.readUtah(s,u,l,g)),s+=2,u-=2}while(s<l&&u>=0);s+=3,u+=1}else e[n++]=255&this.readCorner4(l,g),s-=2,u+=2,P=!0;else e[n++]=255&this.readCorner3(l,g),s-=2,u+=2,T=!0;else e[n++]=255&this.readCorner1(l,g),s-=2,u+=2,m=!0}while(s<l||u<g);if(n!==this.version.getTotalCodewords())throw new Qt;return e},i.prototype.readModule=function(e,n,s,u){return e<0&&(e+=s,n+=4-(s+4&7)),n<0&&(n+=u,e+=4-(u+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)},i.prototype.readUtah=function(e,n,s,u){var l=0;return this.readModule(e-2,n-2,s,u)&&(l|=1),l<<=1,this.readModule(e-2,n-1,s,u)&&(l|=1),l<<=1,this.readModule(e-1,n-2,s,u)&&(l|=1),l<<=1,this.readModule(e-1,n-1,s,u)&&(l|=1),l<<=1,this.readModule(e-1,n,s,u)&&(l|=1),l<<=1,this.readModule(e,n-2,s,u)&&(l|=1),l<<=1,this.readModule(e,n-1,s,u)&&(l|=1),l<<=1,this.readModule(e,n,s,u)&&(l|=1),l},i.prototype.readCorner1=function(e,n){var s=0;return this.readModule(e-1,0,e,n)&&(s|=1),s<<=1,this.readModule(e-1,1,e,n)&&(s|=1),s<<=1,this.readModule(e-1,2,e,n)&&(s|=1),s<<=1,this.readModule(0,n-2,e,n)&&(s|=1),s<<=1,this.readModule(0,n-1,e,n)&&(s|=1),s<<=1,this.readModule(1,n-1,e,n)&&(s|=1),s<<=1,this.readModule(2,n-1,e,n)&&(s|=1),s<<=1,this.readModule(3,n-1,e,n)&&(s|=1),s},i.prototype.readCorner2=function(e,n){var s=0;return this.readModule(e-3,0,e,n)&&(s|=1),s<<=1,this.readModule(e-2,0,e,n)&&(s|=1),s<<=1,this.readModule(e-1,0,e,n)&&(s|=1),s<<=1,this.readModule(0,n-4,e,n)&&(s|=1),s<<=1,this.readModule(0,n-3,e,n)&&(s|=1),s<<=1,this.readModule(0,n-2,e,n)&&(s|=1),s<<=1,this.readModule(0,n-1,e,n)&&(s|=1),s<<=1,this.readModule(1,n-1,e,n)&&(s|=1),s},i.prototype.readCorner3=function(e,n){var s=0;return this.readModule(e-1,0,e,n)&&(s|=1),s<<=1,this.readModule(e-1,n-1,e,n)&&(s|=1),s<<=1,this.readModule(0,n-3,e,n)&&(s|=1),s<<=1,this.readModule(0,n-2,e,n)&&(s|=1),s<<=1,this.readModule(0,n-1,e,n)&&(s|=1),s<<=1,this.readModule(1,n-3,e,n)&&(s|=1),s<<=1,this.readModule(1,n-2,e,n)&&(s|=1),s<<=1,this.readModule(1,n-1,e,n)&&(s|=1),s},i.prototype.readCorner4=function(e,n){var s=0;return this.readModule(e-3,0,e,n)&&(s|=1),s<<=1,this.readModule(e-2,0,e,n)&&(s|=1),s<<=1,this.readModule(e-1,0,e,n)&&(s|=1),s<<=1,this.readModule(0,n-2,e,n)&&(s|=1),s<<=1,this.readModule(0,n-1,e,n)&&(s|=1),s<<=1,this.readModule(1,n-1,e,n)&&(s|=1),s<<=1,this.readModule(2,n-1,e,n)&&(s|=1),s<<=1,this.readModule(3,n-1,e,n)&&(s|=1),s},i.prototype.extractDataRegion=function(e){var n=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new _n("Dimension of bitMatrix must match the version size");for(var u=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),g=n/u|0,m=s/l|0,P=new tr(m*l,g*u),V=0;V<g;++V)for(var $=V*u,q=0;q<m;++q)for(var se=q*l,ve=0;ve<u;++ve)for(var De=V*(u+2)+1+ve,Ve=$+ve,Pe=0;Pe<l;++Pe)e.get(q*(l+2)+1+Pe,De)&&P.set(se+Pe,Ve);return P},i}();var Nf=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const rd=function(){function i(e,n){this.numDataCodewords=e,this.codewords=n}return i.getDataBlocks=function(e,n){var s,u,l,g,m=n.getECBlocks(),y=0,T=m.getECBlocks();try{for(var P=Nf(T),V=P.next();!V.done;V=P.next())y+=($=V.value).getCount()}catch(du){s={error:du}}finally{try{V&&!V.done&&(u=P.return)&&u.call(P)}finally{if(s)throw s.error}}var q=new Array(y),se=0;try{for(var ve=Nf(T),De=ve.next();!De.done;De=ve.next())for(var $=De.value,Ve=0;Ve<$.getCount();Ve++){var Pe=$.getDataCodewords(),Ye=m.getECCodewords()+Pe;q[se++]=new i(Pe,new Uint8Array(Ye))}}catch(du){l={error:du}}finally{try{De&&!De.done&&(g=ve.return)&&g.call(ve)}finally{if(l)throw l.error}}var kt=q[0].codewords.length-m.getECCodewords(),zt=kt-1,Kt=0;for(Ve=0;Ve<zt;Ve++)for(var mn=0;mn<se;mn++)q[mn].codewords[Ve]=e[Kt++];var Jn=24===n.getVersionNumber(),ir=Jn?8:se;for(mn=0;mn<ir;mn++)q[mn].codewords[kt-1]=e[Kt++];var io=q[0].codewords.length;for(Ve=kt;Ve<io;Ve++)for(mn=0;mn<se;mn++){var ei=Jn?(mn+8)%se:mn;q[ei].codewords[Jn&&ei>7?Ve-1:Ve]=e[Kt++]}if(Kt!==e.length)throw new _n;return q},i.prototype.getNumDataCodewords=function(){return this.numDataCodewords},i.prototype.getCodewords=function(){return this.codewords},i}(),id=function(){function i(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return i.prototype.getBitOffset=function(){return this.bitOffset},i.prototype.getByteOffset=function(){return this.byteOffset},i.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new _n(""+e);var n=0,s=this.bitOffset,u=this.byteOffset,l=this.bytes;if(s>0){var g=8-s,m=e<g?e:g;n=(l[u]&255>>8-m<<(y=g-m))>>y,e-=m,8===(s+=m)&&(s=0,u++)}if(e>0){for(;e>=8;)n=n<<8|255&l[u],u++,e-=8;var y;e>0&&(n=n<<e|(l[u]&255>>(y=8-e)<<y)>>y,s+=e)}return this.bitOffset=s,this.byteOffset=u,n},i.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},i}();var Ho=function(i){return i[i.PAD_ENCODE=0]="PAD_ENCODE",i[i.ASCII_ENCODE=1]="ASCII_ENCODE",i[i.C40_ENCODE=2]="C40_ENCODE",i[i.TEXT_ENCODE=3]="TEXT_ENCODE",i[i.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",i[i.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",i[i.BASE256_ENCODE=6]="BASE256_ENCODE",i}(Ho||{});const Pc=function(){function i(){}return i.decode=function(e){var n=new id(e),s=new fn,u=new fn,l=new Array,g=Ho.ASCII_ENCODE;do{if(g===Ho.ASCII_ENCODE)g=this.decodeAsciiSegment(n,s,u);else{switch(g){case Ho.C40_ENCODE:this.decodeC40Segment(n,s);break;case Ho.TEXT_ENCODE:this.decodeTextSegment(n,s);break;case Ho.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,s);break;case Ho.EDIFACT_ENCODE:this.decodeEdifactSegment(n,s);break;case Ho.BASE256_ENCODE:this.decodeBase256Segment(n,s,l);break;default:throw new Qt}g=Ho.ASCII_ENCODE}}while(g!==Ho.PAD_ENCODE&&n.available()>0);return u.length()>0&&s.append(u.toString()),new Ic(e,s.toString(),0===l.length?null:l,null)},i.decodeAsciiSegment=function(e,n,s){var u=!1;do{var l=e.readBits(8);if(0===l)throw new Qt;if(l<=128)return u&&(l+=128),n.append(String.fromCharCode(l-1)),Ho.ASCII_ENCODE;if(129===l)return Ho.PAD_ENCODE;if(l<=229){var g=l-130;g<10&&n.append("0"),n.append(""+g)}else switch(l){case 230:return Ho.C40_ENCODE;case 231:return Ho.BASE256_ENCODE;case 232:n.append("\x1d");break;case 233:case 234:case 241:break;case 235:u=!0;break;case 236:n.append("[)>\x1e05\x1d"),s.insert(0,"\x1e\x04");break;case 237:n.append("[)>\x1e06\x1d"),s.insert(0,"\x1e\x04");break;case 238:return Ho.ANSIX12_ENCODE;case 239:return Ho.TEXT_ENCODE;case 240:return Ho.EDIFACT_ENCODE;default:if(254!==l||0!==e.available())throw new Qt}}while(e.available()>0);return Ho.ASCII_ENCODE},i.decodeC40Segment=function(e,n){var s=!1,u=[],l=0;do{if(8===e.available())return;var g=e.readBits(8);if(254===g)return;this.parseTwoBytes(g,e.readBits(8),u);for(var m=0;m<3;m++){var y=u[m];switch(l){case 0:if(y<3)l=y+1;else{if(!(y<this.C40_BASIC_SET_CHARS.length))throw new Qt;var T=this.C40_BASIC_SET_CHARS[y];s?(n.append(String.fromCharCode(T.charCodeAt(0)+128)),s=!1):n.append(T)}break;case 1:s?(n.append(String.fromCharCode(y+128)),s=!1):n.append(String.fromCharCode(y)),l=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length)T=this.C40_SHIFT2_SET_CHARS[y],s?(n.append(String.fromCharCode(T.charCodeAt(0)+128)),s=!1):n.append(T);else switch(y){case 27:n.append("\x1d");break;case 30:s=!0;break;default:throw new Qt}l=0;break;case 3:s?(n.append(String.fromCharCode(y+224)),s=!1):n.append(String.fromCharCode(y+96)),l=0;break;default:throw new Qt}}}while(e.available()>0)},i.decodeTextSegment=function(e,n){var s=!1,u=[],l=0;do{if(8===e.available())return;var g=e.readBits(8);if(254===g)return;this.parseTwoBytes(g,e.readBits(8),u);for(var m=0;m<3;m++){var y=u[m];switch(l){case 0:if(y<3)l=y+1;else{if(!(y<this.TEXT_BASIC_SET_CHARS.length))throw new Qt;var T=this.TEXT_BASIC_SET_CHARS[y];s?(n.append(String.fromCharCode(T.charCodeAt(0)+128)),s=!1):n.append(T)}break;case 1:s?(n.append(String.fromCharCode(y+128)),s=!1):n.append(String.fromCharCode(y)),l=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length)T=this.TEXT_SHIFT2_SET_CHARS[y],s?(n.append(String.fromCharCode(T.charCodeAt(0)+128)),s=!1):n.append(T);else switch(y){case 27:n.append("\x1d");break;case 30:s=!0;break;default:throw new Qt}l=0;break;case 3:if(!(y<this.TEXT_SHIFT3_SET_CHARS.length))throw new Qt;T=this.TEXT_SHIFT3_SET_CHARS[y],s?(n.append(String.fromCharCode(T.charCodeAt(0)+128)),s=!1):n.append(T),l=0;break;default:throw new Qt}}}while(e.available()>0)},i.decodeAnsiX12Segment=function(e,n){var s=[];do{if(8===e.available())return;var u=e.readBits(8);if(254===u)return;this.parseTwoBytes(u,e.readBits(8),s);for(var l=0;l<3;l++){var g=s[l];switch(g){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(g<14)n.append(String.fromCharCode(g+44));else{if(!(g<40))throw new Qt;n.append(String.fromCharCode(g+51))}}}}while(e.available()>0)},i.parseTwoBytes=function(e,n,s){var u=(e<<8)+n-1,l=Math.floor(u/1600);s[0]=l,u-=1600*l,l=Math.floor(u/40),s[1]=l,s[2]=u-40*l},i.decodeEdifactSegment=function(e,n){do{if(e.available()<=16)return;for(var s=0;s<4;s++){var u=e.readBits(6);if(31===u){var l=8-e.getBitOffset();return void(8!==l&&e.readBits(l))}32&u||(u|=64),n.append(String.fromCharCode(u))}}while(e.available()>0)},i.decodeBase256Segment=function(e,n,s){var g,u=1+e.getByteOffset(),l=this.unrandomize255State(e.readBits(8),u++);if((g=0===l?e.available()/8|0:l<250?l:250*(l-249)+this.unrandomize255State(e.readBits(8),u++))<0)throw new Qt;for(var m=new Uint8Array(g),y=0;y<g;y++){if(e.available()<8)throw new Qt;m[y]=this.unrandomize255State(e.readBits(8),u++)}s.push(m);try{n.append(we.decode(m,mt.ISO88591))}catch(T){throw new Zo("Platform does not support required encoding: "+T.message)}},i.unrandomize255State=function(e,n){var u=e-(149*n%255+1);return u>=0?u:u+256},i.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],i.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],i.TEXT_SHIFT2_SET_CHARS=i.C40_SHIFT2_SET_CHARS,i.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~","\x7f"],i}(),Ol=function(){function i(){this.rsDecoder=new Fa(fi.DATA_MATRIX_FIELD_256)}return i.prototype.decode=function(e){var n,s,u=new Im(e),l=u.getVersion(),g=u.readCodewords(),m=rd.getDataBlocks(g,l),y=0;try{for(var T=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(m),P=T.next();!P.done;P=T.next())y+=P.value.getNumDataCodewords()}catch(Ye){n={error:Ye}}finally{try{P&&!P.done&&(s=T.return)&&s.call(T)}finally{if(n)throw n.error}}for(var $=new Uint8Array(y),q=m.length,se=0;se<q;se++){var ve=m[se],De=ve.getCodewords(),Ve=ve.getNumDataCodewords();this.correctErrors(De,Ve);for(var Pe=0;Pe<Ve;Pe++)$[Pe*q+se]=De[Pe]}return Pc.decode($)},i.prototype.correctErrors=function(e,n){var s=new Int32Array(e);try{this.rsDecoder.decode(s,e.length-n)}catch{throw new mi}for(var u=0;u<n;u++)e[u]=s[u]},i}(),t1=function(){function i(e){this.image=e,this.rectangleDetector=new Nd(this.image)}return i.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if((n=this.detectSolid2(n))[3]=this.correctTopRight(n),!n[3])throw new Ke;var s=(n=this.shiftToModuleCenter(n))[0],u=n[1],l=n[2],g=n[3],m=this.transitionsBetween(s,g)+1,y=this.transitionsBetween(l,g)+1;!(1&~m)&&(m+=1),!(1&~y)&&(y+=1),4*m<7*y&&4*y<7*m&&(m=y=Math.max(m,y));var T=i.sampleGrid(this.image,s,u,l,g,m,y);return new _l(T,[s,u,l,g])},i.shiftPoint=function(e,n,s){var u=(n.getX()-e.getX())/(s+1),l=(n.getY()-e.getY())/(s+1);return new gn(e.getX()+u,e.getY()+l)},i.moveAway=function(e,n,s){var u=e.getX(),l=e.getY();return u<n?u-=1:u+=1,l<s?l-=1:l+=1,new gn(u,l)},i.prototype.detectSolid1=function(e){var n=e[0],s=e[1],u=e[3],l=e[2],g=this.transitionsBetween(n,s),m=this.transitionsBetween(s,u),y=this.transitionsBetween(u,l),T=this.transitionsBetween(l,n),P=g,V=[l,n,s,u];return P>m&&(P=m,V[0]=n,V[1]=s,V[2]=u,V[3]=l),P>y&&(P=y,V[0]=s,V[1]=u,V[2]=l,V[3]=n),P>T&&(V[0]=u,V[1]=l,V[2]=n,V[3]=s),V},i.prototype.detectSolid2=function(e){var n=e[0],s=e[1],u=e[2],l=e[3],g=this.transitionsBetween(n,l),m=i.shiftPoint(s,u,4*(g+1)),y=i.shiftPoint(u,s,4*(g+1));return this.transitionsBetween(m,n)<this.transitionsBetween(y,l)?(e[0]=n,e[1]=s,e[2]=u,e[3]=l):(e[0]=s,e[1]=u,e[2]=l,e[3]=n),e},i.prototype.correctTopRight=function(e){var n=e[0],s=e[1],u=e[2],l=e[3],g=this.transitionsBetween(n,l),m=this.transitionsBetween(s,l),y=i.shiftPoint(n,s,4*(m+1)),T=i.shiftPoint(u,s,4*(g+1));g=this.transitionsBetween(y,l),m=this.transitionsBetween(T,l);var P=new gn(l.getX()+(u.getX()-s.getX())/(g+1),l.getY()+(u.getY()-s.getY())/(g+1)),V=new gn(l.getX()+(n.getX()-s.getX())/(m+1),l.getY()+(n.getY()-s.getY())/(m+1));return this.isValid(P)?this.isValid(V)?this.transitionsBetween(y,P)+this.transitionsBetween(T,P)>this.transitionsBetween(y,V)+this.transitionsBetween(T,V)?P:V:P:this.isValid(V)?V:null},i.prototype.shiftToModuleCenter=function(e){var n=e[0],s=e[1],u=e[2],l=e[3],g=this.transitionsBetween(n,l)+1,m=this.transitionsBetween(u,l)+1,y=i.shiftPoint(n,s,4*m),T=i.shiftPoint(u,s,4*g);!(1&~(g=this.transitionsBetween(y,l)+1))&&(g+=1),!(1&~(m=this.transitionsBetween(T,l)+1))&&(m+=1);var $,q,P=(n.getX()+s.getX()+u.getX()+l.getX())/4,V=(n.getY()+s.getY()+u.getY()+l.getY())/4;return n=i.moveAway(n,P,V),s=i.moveAway(s,P,V),u=i.moveAway(u,P,V),l=i.moveAway(l,P,V),y=i.shiftPoint(n,s,4*m),y=i.shiftPoint(y,l,4*g),$=i.shiftPoint(s,n,4*m),$=i.shiftPoint($,u,4*g),T=i.shiftPoint(u,l,4*m),T=i.shiftPoint(T,s,4*g),q=i.shiftPoint(l,u,4*m),[y,$,T,q=i.shiftPoint(q,n,4*g)]},i.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},i.sampleGrid=function(e,n,s,u,l,g,m){return j.getInstance().sampleGrid(e,g,m,.5,.5,g-.5,.5,g-.5,m-.5,.5,m-.5,n.getX(),n.getY(),l.getX(),l.getY(),u.getX(),u.getY(),s.getX(),s.getY())},i.prototype.transitionsBetween=function(e,n){var s=Math.trunc(e.getX()),u=Math.trunc(e.getY()),l=Math.trunc(n.getX()),g=Math.trunc(n.getY()),m=Math.abs(g-u)>Math.abs(l-s);if(m){var y=s;s=u,u=y,y=l,l=g,g=y}for(var T=Math.abs(l-s),P=Math.abs(g-u),V=-T/2,$=u<g?1:-1,q=s<l?1:-1,se=0,ve=this.image.get(m?u:s,m?s:u),De=s,Ve=u;De!==l;De+=q){var Pe=this.image.get(m?Ve:De,m?De:Ve);if(Pe!==ve&&(se++,ve=Pe),(V+=P)>0){if(Ve===g)break;Ve+=$,V-=T}}return se},i}(),Fh=function(){function i(){this.decoder=new Ol}return i.prototype.decode=function(e,n){var s,u;if(void 0===n&&(n=null),null!=n&&n.has(Ln.PURE_BARCODE)){var l=i.extractPureBits(e.getBlackMatrix());s=this.decoder.decode(l),u=i.NO_POINTS}else{var g=new t1(e.getBlackMatrix()).detect();s=this.decoder.decode(g.getBits()),u=g.getPoints()}var m=s.getRawBytes(),y=new qi(s.getText(),m,8*m.length,u,cn.DATA_MATRIX,jr.currentTimeMillis()),T=s.getByteSegments();null!=T&&y.putMetadata(Zi.BYTE_SEGMENTS,T);var P=s.getECLevel();return null!=P&&y.putMetadata(Zi.ERROR_CORRECTION_LEVEL,P),y},i.prototype.reset=function(){},i.extractPureBits=function(e){var n=e.getTopLeftOnBit(),s=e.getBottomRightOnBit();if(null==n||null==s)throw new Ke;var u=this.moduleSize(n,e),l=n[1],m=n[0],T=(s[0]-m+1)/u,P=(s[1]-l+1)/u;if(T<=0||P<=0)throw new Ke;var V=u/2;l+=V,m+=V;for(var $=new tr(T,P),q=0;q<P;q++)for(var se=l+q*u,ve=0;ve<T;ve++)e.get(m+ve*u,se)&&$.set(ve,q);return $},i.moduleSize=function(e,n){for(var s=n.getWidth(),u=e[0],l=e[1];u<s&&n.get(u,l);)u++;if(u===s)throw new Ke;var g=u-e[0];if(0===g)throw new Ke;return g},i.NO_POINTS=[],i}();var Tm=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),uu=(function(i){Tm(function e(n){return void 0===n&&(n=500),i.call(this,new Fh,n)||this},i)}(ia),function(i){return i[i.L=0]="L",i[i.M=1]="M",i[i.Q=2]="Q",i[i.H=3]="H",i}(uu||{}));const ic=function(){function i(e,n,s){this.value=e,this.stringValue=n,this.bits=s,i.FOR_BITS.set(s,this),i.FOR_VALUE.set(e,this)}return i.prototype.getValue=function(){return this.value},i.prototype.getBits=function(){return this.bits},i.fromString=function(e){switch(e){case"L":return i.L;case"M":return i.M;case"Q":return i.Q;case"H":return i.H;default:throw new Wr(e+"not available")}},i.prototype.toString=function(){return this.stringValue},i.prototype.equals=function(e){return e instanceof i&&this.value===e.value},i.forBits=function(e){if(e<0||e>=i.FOR_BITS.size)throw new _n;return i.FOR_BITS.get(e)},i.FOR_BITS=new Map,i.FOR_VALUE=new Map,i.L=new i(uu.L,"L",1),i.M=new i(uu.M,"M",0),i.Q=new i(uu.Q,"Q",3),i.H=new i(uu.H,"H",2),i}(),bm=function(){function i(e){this.errorCorrectionLevel=ic.forBits(e>>3&3),this.dataMask=7&e}return i.numBitsDiffering=function(e,n){return sr.bitCount(e^n)},i.decodeFormatInformation=function(e,n){var s=i.doDecodeFormatInformation(e,n);return null!==s?s:i.doDecodeFormatInformation(e^i.FORMAT_INFO_MASK_QR,n^i.FORMAT_INFO_MASK_QR)},i.doDecodeFormatInformation=function(e,n){var s,u,l=Number.MAX_SAFE_INTEGER,g=0;try{for(var m=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i.FORMAT_INFO_DECODE_LOOKUP),y=m.next();!y.done;y=m.next()){var T=y.value,P=T[0];if(P===e||P===n)return new i(T[1]);var V=i.numBitsDiffering(e,P);V<l&&(g=T[1],l=V),e!==n&&(V=i.numBitsDiffering(n,P))<l&&(g=T[1],l=V)}}catch($){s={error:$}}finally{try{y&&!y.done&&(u=m.return)&&u.call(m)}finally{if(s)throw s.error}}return l<=3?new i(g):null},i.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},i.prototype.getDataMask=function(){return this.dataMask},i.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},i.prototype.equals=function(e){return e instanceof i&&(this.errorCorrectionLevel===e.errorCorrectionLevel&&this.dataMask===e.dataMask)},i.FORMAT_INFO_MASK_QR=21522,i.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],i}(),ft=function(){function i(e){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];this.ecCodewordsPerBlock=e,this.ecBlocks=n}return i.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},i.prototype.getNumBlocks=function(){var e,n,s=0,u=this.ecBlocks;try{for(var l=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(u),g=l.next();!g.done;g=l.next())s+=g.value.getCount()}catch(y){e={error:y}}finally{try{g&&!g.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return s},i.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},i.prototype.getECBlocks=function(){return this.ecBlocks},i}(),_e=function(){function i(e,n){this.count=e,this.dataCodewords=n}return i.prototype.getCount=function(){return this.count},i.prototype.getDataCodewords=function(){return this.dataCodewords},i}(),Rs=function(){function i(e,n){for(var s,u,l=[],g=2;g<arguments.length;g++)l[g-2]=arguments[g];this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=l;var m=0,y=l[0].getECCodewordsPerBlock(),T=l[0].getECBlocks();try{for(var P=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(T),V=P.next();!V.done;V=P.next()){var $=V.value;m+=$.getCount()*($.getDataCodewords()+y)}}catch(q){s={error:q}}finally{try{V&&!V.done&&(u=P.return)&&u.call(P)}finally{if(s)throw s.error}}this.totalCodewords=m}return i.prototype.getVersionNumber=function(){return this.versionNumber},i.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},i.prototype.getTotalCodewords=function(){return this.totalCodewords},i.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},i.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},i.getProvisionalVersionForDimension=function(e){if(e%4!=1)throw new Qt;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Qt}},i.getVersionForNumber=function(e){if(e<1||e>40)throw new _n;return i.VERSIONS[e-1]},i.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,s=0,u=0;u<i.VERSION_DECODE_INFO.length;u++){var l=i.VERSION_DECODE_INFO[u];if(l===e)return i.getVersionForNumber(u+7);var g=bm.numBitsDiffering(e,l);g<n&&(s=u+7,n=g)}return n<=3?i.getVersionForNumber(s):null},i.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),n=new tr(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);for(var s=this.alignmentPatternCenters.length,u=0;u<s;u++)for(var l=this.alignmentPatternCenters[u]-2,g=0;g<s;g++)0===u&&(0===g||g===s-1)||u===s-1&&0===g||n.setRegion(this.alignmentPatternCenters[g]-2,l,5,5);return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n},i.prototype.toString=function(){return""+this.versionNumber},i.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),i.VERSIONS=[new i(1,new Int32Array(0),new ft(7,new _e(1,19)),new ft(10,new _e(1,16)),new ft(13,new _e(1,13)),new ft(17,new _e(1,9))),new i(2,Int32Array.from([6,18]),new ft(10,new _e(1,34)),new ft(16,new _e(1,28)),new ft(22,new _e(1,22)),new ft(28,new _e(1,16))),new i(3,Int32Array.from([6,22]),new ft(15,new _e(1,55)),new ft(26,new _e(1,44)),new ft(18,new _e(2,17)),new ft(22,new _e(2,13))),new i(4,Int32Array.from([6,26]),new ft(20,new _e(1,80)),new ft(18,new _e(2,32)),new ft(26,new _e(2,24)),new ft(16,new _e(4,9))),new i(5,Int32Array.from([6,30]),new ft(26,new _e(1,108)),new ft(24,new _e(2,43)),new ft(18,new _e(2,15),new _e(2,16)),new ft(22,new _e(2,11),new _e(2,12))),new i(6,Int32Array.from([6,34]),new ft(18,new _e(2,68)),new ft(16,new _e(4,27)),new ft(24,new _e(4,19)),new ft(28,new _e(4,15))),new i(7,Int32Array.from([6,22,38]),new ft(20,new _e(2,78)),new ft(18,new _e(4,31)),new ft(18,new _e(2,14),new _e(4,15)),new ft(26,new _e(4,13),new _e(1,14))),new i(8,Int32Array.from([6,24,42]),new ft(24,new _e(2,97)),new ft(22,new _e(2,38),new _e(2,39)),new ft(22,new _e(4,18),new _e(2,19)),new ft(26,new _e(4,14),new _e(2,15))),new i(9,Int32Array.from([6,26,46]),new ft(30,new _e(2,116)),new ft(22,new _e(3,36),new _e(2,37)),new ft(20,new _e(4,16),new _e(4,17)),new ft(24,new _e(4,12),new _e(4,13))),new i(10,Int32Array.from([6,28,50]),new ft(18,new _e(2,68),new _e(2,69)),new ft(26,new _e(4,43),new _e(1,44)),new ft(24,new _e(6,19),new _e(2,20)),new ft(28,new _e(6,15),new _e(2,16))),new i(11,Int32Array.from([6,30,54]),new ft(20,new _e(4,81)),new ft(30,new _e(1,50),new _e(4,51)),new ft(28,new _e(4,22),new _e(4,23)),new ft(24,new _e(3,12),new _e(8,13))),new i(12,Int32Array.from([6,32,58]),new ft(24,new _e(2,92),new _e(2,93)),new ft(22,new _e(6,36),new _e(2,37)),new ft(26,new _e(4,20),new _e(6,21)),new ft(28,new _e(7,14),new _e(4,15))),new i(13,Int32Array.from([6,34,62]),new ft(26,new _e(4,107)),new ft(22,new _e(8,37),new _e(1,38)),new ft(24,new _e(8,20),new _e(4,21)),new ft(22,new _e(12,11),new _e(4,12))),new i(14,Int32Array.from([6,26,46,66]),new ft(30,new _e(3,115),new _e(1,116)),new ft(24,new _e(4,40),new _e(5,41)),new ft(20,new _e(11,16),new _e(5,17)),new ft(24,new _e(11,12),new _e(5,13))),new i(15,Int32Array.from([6,26,48,70]),new ft(22,new _e(5,87),new _e(1,88)),new ft(24,new _e(5,41),new _e(5,42)),new ft(30,new _e(5,24),new _e(7,25)),new ft(24,new _e(11,12),new _e(7,13))),new i(16,Int32Array.from([6,26,50,74]),new ft(24,new _e(5,98),new _e(1,99)),new ft(28,new _e(7,45),new _e(3,46)),new ft(24,new _e(15,19),new _e(2,20)),new ft(30,new _e(3,15),new _e(13,16))),new i(17,Int32Array.from([6,30,54,78]),new ft(28,new _e(1,107),new _e(5,108)),new ft(28,new _e(10,46),new _e(1,47)),new ft(28,new _e(1,22),new _e(15,23)),new ft(28,new _e(2,14),new _e(17,15))),new i(18,Int32Array.from([6,30,56,82]),new ft(30,new _e(5,120),new _e(1,121)),new ft(26,new _e(9,43),new _e(4,44)),new ft(28,new _e(17,22),new _e(1,23)),new ft(28,new _e(2,14),new _e(19,15))),new i(19,Int32Array.from([6,30,58,86]),new ft(28,new _e(3,113),new _e(4,114)),new ft(26,new _e(3,44),new _e(11,45)),new ft(26,new _e(17,21),new _e(4,22)),new ft(26,new _e(9,13),new _e(16,14))),new i(20,Int32Array.from([6,34,62,90]),new ft(28,new _e(3,107),new _e(5,108)),new ft(26,new _e(3,41),new _e(13,42)),new ft(30,new _e(15,24),new _e(5,25)),new ft(28,new _e(15,15),new _e(10,16))),new i(21,Int32Array.from([6,28,50,72,94]),new ft(28,new _e(4,116),new _e(4,117)),new ft(26,new _e(17,42)),new ft(28,new _e(17,22),new _e(6,23)),new ft(30,new _e(19,16),new _e(6,17))),new i(22,Int32Array.from([6,26,50,74,98]),new ft(28,new _e(2,111),new _e(7,112)),new ft(28,new _e(17,46)),new ft(30,new _e(7,24),new _e(16,25)),new ft(24,new _e(34,13))),new i(23,Int32Array.from([6,30,54,78,102]),new ft(30,new _e(4,121),new _e(5,122)),new ft(28,new _e(4,47),new _e(14,48)),new ft(30,new _e(11,24),new _e(14,25)),new ft(30,new _e(16,15),new _e(14,16))),new i(24,Int32Array.from([6,28,54,80,106]),new ft(30,new _e(6,117),new _e(4,118)),new ft(28,new _e(6,45),new _e(14,46)),new ft(30,new _e(11,24),new _e(16,25)),new ft(30,new _e(30,16),new _e(2,17))),new i(25,Int32Array.from([6,32,58,84,110]),new ft(26,new _e(8,106),new _e(4,107)),new ft(28,new _e(8,47),new _e(13,48)),new ft(30,new _e(7,24),new _e(22,25)),new ft(30,new _e(22,15),new _e(13,16))),new i(26,Int32Array.from([6,30,58,86,114]),new ft(28,new _e(10,114),new _e(2,115)),new ft(28,new _e(19,46),new _e(4,47)),new ft(28,new _e(28,22),new _e(6,23)),new ft(30,new _e(33,16),new _e(4,17))),new i(27,Int32Array.from([6,34,62,90,118]),new ft(30,new _e(8,122),new _e(4,123)),new ft(28,new _e(22,45),new _e(3,46)),new ft(30,new _e(8,23),new _e(26,24)),new ft(30,new _e(12,15),new _e(28,16))),new i(28,Int32Array.from([6,26,50,74,98,122]),new ft(30,new _e(3,117),new _e(10,118)),new ft(28,new _e(3,45),new _e(23,46)),new ft(30,new _e(4,24),new _e(31,25)),new ft(30,new _e(11,15),new _e(31,16))),new i(29,Int32Array.from([6,30,54,78,102,126]),new ft(30,new _e(7,116),new _e(7,117)),new ft(28,new _e(21,45),new _e(7,46)),new ft(30,new _e(1,23),new _e(37,24)),new ft(30,new _e(19,15),new _e(26,16))),new i(30,Int32Array.from([6,26,52,78,104,130]),new ft(30,new _e(5,115),new _e(10,116)),new ft(28,new _e(19,47),new _e(10,48)),new ft(30,new _e(15,24),new _e(25,25)),new ft(30,new _e(23,15),new _e(25,16))),new i(31,Int32Array.from([6,30,56,82,108,134]),new ft(30,new _e(13,115),new _e(3,116)),new ft(28,new _e(2,46),new _e(29,47)),new ft(30,new _e(42,24),new _e(1,25)),new ft(30,new _e(23,15),new _e(28,16))),new i(32,Int32Array.from([6,34,60,86,112,138]),new ft(30,new _e(17,115)),new ft(28,new _e(10,46),new _e(23,47)),new ft(30,new _e(10,24),new _e(35,25)),new ft(30,new _e(19,15),new _e(35,16))),new i(33,Int32Array.from([6,30,58,86,114,142]),new ft(30,new _e(17,115),new _e(1,116)),new ft(28,new _e(14,46),new _e(21,47)),new ft(30,new _e(29,24),new _e(19,25)),new ft(30,new _e(11,15),new _e(46,16))),new i(34,Int32Array.from([6,34,62,90,118,146]),new ft(30,new _e(13,115),new _e(6,116)),new ft(28,new _e(14,46),new _e(23,47)),new ft(30,new _e(44,24),new _e(7,25)),new ft(30,new _e(59,16),new _e(1,17))),new i(35,Int32Array.from([6,30,54,78,102,126,150]),new ft(30,new _e(12,121),new _e(7,122)),new ft(28,new _e(12,47),new _e(26,48)),new ft(30,new _e(39,24),new _e(14,25)),new ft(30,new _e(22,15),new _e(41,16))),new i(36,Int32Array.from([6,24,50,76,102,128,154]),new ft(30,new _e(6,121),new _e(14,122)),new ft(28,new _e(6,47),new _e(34,48)),new ft(30,new _e(46,24),new _e(10,25)),new ft(30,new _e(2,15),new _e(64,16))),new i(37,Int32Array.from([6,28,54,80,106,132,158]),new ft(30,new _e(17,122),new _e(4,123)),new ft(28,new _e(29,46),new _e(14,47)),new ft(30,new _e(49,24),new _e(10,25)),new ft(30,new _e(24,15),new _e(46,16))),new i(38,Int32Array.from([6,32,58,84,110,136,162]),new ft(30,new _e(4,122),new _e(18,123)),new ft(28,new _e(13,46),new _e(32,47)),new ft(30,new _e(48,24),new _e(14,25)),new ft(30,new _e(42,15),new _e(32,16))),new i(39,Int32Array.from([6,26,54,82,110,138,166]),new ft(30,new _e(20,117),new _e(4,118)),new ft(28,new _e(40,47),new _e(7,48)),new ft(30,new _e(43,24),new _e(22,25)),new ft(30,new _e(10,15),new _e(67,16))),new i(40,Int32Array.from([6,30,58,86,114,142,170]),new ft(30,new _e(19,118),new _e(6,119)),new ft(28,new _e(18,47),new _e(31,48)),new ft(30,new _e(34,24),new _e(34,25)),new ft(30,new _e(20,15),new _e(61,16)))],i}();var fo=function(i){return i[i.DATA_MASK_000=0]="DATA_MASK_000",i[i.DATA_MASK_001=1]="DATA_MASK_001",i[i.DATA_MASK_010=2]="DATA_MASK_010",i[i.DATA_MASK_011=3]="DATA_MASK_011",i[i.DATA_MASK_100=4]="DATA_MASK_100",i[i.DATA_MASK_101=5]="DATA_MASK_101",i[i.DATA_MASK_110=6]="DATA_MASK_110",i[i.DATA_MASK_111=7]="DATA_MASK_111",i}(fo||{});const Hp=function(){function i(e,n){this.value=e,this.isMasked=n}return i.prototype.unmaskBitMatrix=function(e,n){for(var s=0;s<n;s++)for(var u=0;u<n;u++)this.isMasked(s,u)&&e.flip(u,s)},i.values=new Map([[fo.DATA_MASK_000,new i(fo.DATA_MASK_000,function(e,n){return!(e+n&1)})],[fo.DATA_MASK_001,new i(fo.DATA_MASK_001,function(e,n){return!(1&e)})],[fo.DATA_MASK_010,new i(fo.DATA_MASK_010,function(e,n){return n%3==0})],[fo.DATA_MASK_011,new i(fo.DATA_MASK_011,function(e,n){return(e+n)%3==0})],[fo.DATA_MASK_100,new i(fo.DATA_MASK_100,function(e,n){return!(Math.floor(e/2)+Math.floor(n/3)&1)})],[fo.DATA_MASK_101,new i(fo.DATA_MASK_101,function(e,n){return e*n%6==0})],[fo.DATA_MASK_110,new i(fo.DATA_MASK_110,function(e,n){return e*n%6<3})],[fo.DATA_MASK_111,new i(fo.DATA_MASK_111,function(e,n){return!(e+n+e*n%3&1)})]]),i}(),n1=function(){function i(e){var n=e.getHeight();if(n<21||1!=(3&n))throw new Qt;this.bitMatrix=e}return i.prototype.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,n=0;n<6;n++)e=this.copyBit(n,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var s=5;s>=0;s--)e=this.copyBit(8,s,e);var u=this.bitMatrix.getHeight(),l=0,g=u-7;for(s=u-1;s>=g;s--)l=this.copyBit(8,s,l);for(n=u-8;n<u;n++)l=this.copyBit(n,8,l);if(this.parsedFormatInfo=bm.decodeFormatInformation(e,l),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new Qt},i.prototype.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Rs.getVersionForNumber(n);for(var s=0,u=e-11,l=5;l>=0;l--)for(var g=e-9;g>=u;g--)s=this.copyBit(g,l,s);var m=Rs.decodeVersionInformation(s);if(null!==m&&m.getDimensionForVersion()===e)return this.parsedVersion=m,m;for(s=0,g=5;g>=0;g--)for(l=e-9;l>=u;l--)s=this.copyBit(g,l,s);if(null!==(m=Rs.decodeVersionInformation(s))&&m.getDimensionForVersion()===e)return this.parsedVersion=m,m;throw new Qt},i.prototype.copyBit=function(e,n,s){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?s<<1|1:s<<1},i.prototype.readCodewords=function(){var e=this.readFormatInformation(),n=this.readVersion(),s=Hp.values.get(e.getDataMask()),u=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,u);for(var l=n.buildFunctionPattern(),g=!0,m=new Uint8Array(n.getTotalCodewords()),y=0,T=0,P=0,V=u-1;V>0;V-=2){6===V&&V--;for(var $=0;$<u;$++)for(var q=g?u-1-$:$,se=0;se<2;se++)l.get(V-se,q)||(P++,T<<=1,this.bitMatrix.get(V-se,q)&&(T|=1),8===P&&(m[y++]=T,P=0,T=0));g=!g}if(y!==n.getTotalCodewords())throw new Qt;return m},i.prototype.remask=function(){if(null!==this.parsedFormatInfo){var e=Hp.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}},i.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},i.prototype.mirror=function(){for(var e=this.bitMatrix,n=0,s=e.getWidth();n<s;n++)for(var u=n+1,l=e.getHeight();u<l;u++)e.get(n,u)!==e.get(u,n)&&(e.flip(u,n),e.flip(n,u))},i}();var Gp=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const Vf=function(){function i(e,n){this.numDataCodewords=e,this.codewords=n}return i.getDataBlocks=function(e,n,s){var u,l,g,m;if(e.length!==n.getTotalCodewords())throw new _n;var y=n.getECBlocksForLevel(s),T=0,P=y.getECBlocks();try{for(var V=Gp(P),$=V.next();!$.done;$=V.next())T+=(q=$.value).getCount()}catch(po){u={error:po}}finally{try{$&&!$.done&&(l=V.return)&&l.call(V)}finally{if(u)throw u.error}}var se=new Array(T),ve=0;try{for(var De=Gp(P),Ve=De.next();!Ve.done;Ve=De.next())for(var q=Ve.value,Pe=0;Pe<q.getCount();Pe++){var Ye=q.getDataCodewords(),at=y.getECCodewordsPerBlock()+Ye;se[ve++]=new i(Ye,new Uint8Array(at))}}catch(po){g={error:po}}finally{try{Ve&&!Ve.done&&(m=De.return)&&m.call(De)}finally{if(g)throw g.error}}for(var kt=se[0].codewords.length,zt=se.length-1;zt>=0&&se[zt].codewords.length!==kt;)zt--;zt++;var mn=kt-y.getECCodewordsPerBlock(),Jn=0;for(Pe=0;Pe<mn;Pe++)for(var ir=0;ir<ve;ir++)se[ir].codewords[Pe]=e[Jn++];for(ir=zt;ir<ve;ir++)se[ir].codewords[mn]=e[Jn++];var io=se[0].codewords.length;for(Pe=mn;Pe<io;Pe++)for(ir=0;ir<ve;ir++)se[ir].codewords[ir<zt?Pe:Pe+1]=e[Jn++];return se},i.prototype.getNumDataCodewords=function(){return this.numDataCodewords},i.prototype.getCodewords=function(){return this.codewords},i}();var Ki=function(i){return i[i.TERMINATOR=0]="TERMINATOR",i[i.NUMERIC=1]="NUMERIC",i[i.ALPHANUMERIC=2]="ALPHANUMERIC",i[i.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",i[i.BYTE=4]="BYTE",i[i.ECI=5]="ECI",i[i.KANJI=6]="KANJI",i[i.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",i[i.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",i[i.HANZI=9]="HANZI",i}(Ki||{});const to=function(){function i(e,n,s,u){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=s,this.bits=u,i.FOR_BITS.set(u,this),i.FOR_VALUE.set(e,this)}return i.forBits=function(e){var n=i.FOR_BITS.get(e);if(void 0===n)throw new _n;return n},i.prototype.getCharacterCountBits=function(e){var n=e.getVersionNumber();return this.characterCountBitsForVersions[n<=9?0:n<=26?1:2]},i.prototype.getValue=function(){return this.value},i.prototype.getBits=function(){return this.bits},i.prototype.equals=function(e){return e instanceof i&&this.value===e.value},i.prototype.toString=function(){return this.stringValue},i.FOR_BITS=new Map,i.FOR_VALUE=new Map,i.TERMINATOR=new i(Ki.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),i.NUMERIC=new i(Ki.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),i.ALPHANUMERIC=new i(Ki.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),i.STRUCTURED_APPEND=new i(Ki.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),i.BYTE=new i(Ki.BYTE,"BYTE",Int32Array.from([8,16,16]),4),i.ECI=new i(Ki.ECI,"ECI",Int32Array.from([0,0,0]),7),i.KANJI=new i(Ki.KANJI,"KANJI",Int32Array.from([8,10,12]),8),i.FNC1_FIRST_POSITION=new i(Ki.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),i.FNC1_SECOND_POSITION=new i(Ki.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),i.HANZI=new i(Ki.HANZI,"HANZI",Int32Array.from([8,10,12]),13),i}(),ac=function(){function i(){}return i.decode=function(e,n,s,u){var l=new id(e),g=new fn,m=new Array,y=-1,T=-1;try{var P=null,V=!1,$=void 0;do{if(l.available()<4)$=to.TERMINATOR;else{var q=l.readBits(4);$=to.forBits(q)}switch($){case to.TERMINATOR:break;case to.FNC1_FIRST_POSITION:case to.FNC1_SECOND_POSITION:V=!0;break;case to.STRUCTURED_APPEND:if(l.available()<16)throw new Qt;y=l.readBits(8),T=l.readBits(8);break;case to.ECI:var se=i.parseECIValue(l);if(null===(P=co.getCharacterSetECIByValue(se)))throw new Qt;break;case to.HANZI:var ve=l.readBits(4),De=l.readBits($.getCharacterCountBits(n));ve===i.GB2312_SUBSET&&i.decodeHanziSegment(l,g,De);break;default:var Ve=l.readBits($.getCharacterCountBits(n));switch($){case to.NUMERIC:i.decodeNumericSegment(l,g,Ve);break;case to.ALPHANUMERIC:i.decodeAlphanumericSegment(l,g,Ve,V);break;case to.BYTE:i.decodeByteSegment(l,g,Ve,P,m,u);break;case to.KANJI:i.decodeKanjiSegment(l,g,Ve);break;default:throw new Qt}}}while($!==to.TERMINATOR)}catch{throw new Qt}return new Ic(e,g.toString(),0===m.length?null:m,null===s?null:s.toString(),y,T)},i.decodeHanziSegment=function(e,n,s){if(13*s>e.available())throw new Qt;for(var u=new Uint8Array(2*s),l=0;s>0;){var g=e.readBits(13),m=g/96<<8&4294967295|g%96;u[l]=(m+=m<959?41377:42657)>>8&255,u[l+1]=255&m,l+=2,s--}try{n.append(we.decode(u,mt.GB2312))}catch(y){throw new Qt(y)}},i.decodeKanjiSegment=function(e,n,s){if(13*s>e.available())throw new Qt;for(var u=new Uint8Array(2*s),l=0;s>0;){var g=e.readBits(13),m=g/192<<8&4294967295|g%192;u[l]=(m+=m<7936?33088:49472)>>8,u[l+1]=m,l+=2,s--}try{n.append(we.decode(u,mt.SHIFT_JIS))}catch(y){throw new Qt(y)}},i.decodeByteSegment=function(e,n,s,u,l,g){if(8*s>e.available())throw new Qt;for(var m=new Uint8Array(s),y=0;y<s;y++)m[y]=e.readBits(8);var T;T=null===u?mt.guessEncoding(m,g):u.getName();try{n.append(we.decode(m,T))}catch(P){throw new Qt(P)}l.push(m)},i.toAlphaNumericChar=function(e){if(e>=i.ALPHANUMERIC_CHARS.length)throw new Qt;return i.ALPHANUMERIC_CHARS[e]},i.decodeAlphanumericSegment=function(e,n,s,u){for(var l=n.length();s>1;){if(e.available()<11)throw new Qt;var g=e.readBits(11);n.append(i.toAlphaNumericChar(Math.floor(g/45))),n.append(i.toAlphaNumericChar(g%45)),s-=2}if(1===s){if(e.available()<6)throw new Qt;n.append(i.toAlphaNumericChar(e.readBits(6)))}if(u)for(var m=l;m<n.length();m++)"%"===n.charAt(m)&&(m<n.length()-1&&"%"===n.charAt(m+1)?n.deleteCharAt(m+1):n.setCharAt(m,"\x1d"))},i.decodeNumericSegment=function(e,n,s){for(;s>=3;){if(e.available()<10)throw new Qt;var u=e.readBits(10);if(u>=1e3)throw new Qt;n.append(i.toAlphaNumericChar(Math.floor(u/100))),n.append(i.toAlphaNumericChar(Math.floor(u/10)%10)),n.append(i.toAlphaNumericChar(u%10)),s-=3}if(2===s){if(e.available()<7)throw new Qt;var l=e.readBits(7);if(l>=100)throw new Qt;n.append(i.toAlphaNumericChar(Math.floor(l/10))),n.append(i.toAlphaNumericChar(l%10))}else if(1===s){if(e.available()<4)throw new Qt;var g=e.readBits(4);if(g>=10)throw new Qt;n.append(i.toAlphaNumericChar(g))}},i.parseECIValue=function(e){var n=e.readBits(8);if(!(128&n))return 127&n;if(128==(192&n))return(63&n)<<8&4294967295|e.readBits(8);if(192==(224&n))return(31&n)<<16&4294967295|e.readBits(16);throw new Qt},i.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",i.GB2312_SUBSET=1,i}(),Bf=function(){function i(e){this.mirrored=e}return i.prototype.isMirrored=function(){return this.mirrored},i.prototype.applyMirroredCorrection=function(e){if(this.mirrored&&null!==e&&!(e.length<3)){var n=e[0];e[0]=e[2],e[2]=n}},i}();var Uf=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const jf=function(){function i(){this.rsDecoder=new Fa(fi.QR_CODE_FIELD_256)}return i.prototype.decodeBooleanArray=function(e,n){return this.decodeBitMatrix(tr.parseFromBooleanArray(e),n)},i.prototype.decodeBitMatrix=function(e,n){var s=new n1(e),u=null;try{return this.decodeBitMatrixParser(s,n)}catch(g){u=g}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();var l=this.decodeBitMatrixParser(s,n);return l.setOther(new Bf(!0)),l}catch(g){throw null!==u?u:g}},i.prototype.decodeBitMatrixParser=function(e,n){var s,u,l,g,m=e.readVersion(),y=e.readFormatInformation().getErrorCorrectionLevel(),T=e.readCodewords(),P=Vf.getDataBlocks(T,m,y),V=0;try{for(var $=Uf(P),q=$.next();!q.done;q=$.next())V+=(se=q.value).getNumDataCodewords()}catch(zt){s={error:zt}}finally{try{q&&!q.done&&(u=$.return)&&u.call($)}finally{if(s)throw s.error}}var ve=new Uint8Array(V),De=0;try{for(var Ve=Uf(P),Pe=Ve.next();!Pe.done;Pe=Ve.next()){var se,Ye=(se=Pe.value).getCodewords(),at=se.getNumDataCodewords();this.correctErrors(Ye,at);for(var kt=0;kt<at;kt++)ve[De++]=Ye[kt]}}catch(zt){l={error:zt}}finally{try{Pe&&!Pe.done&&(g=Ve.return)&&g.call(Ve)}finally{if(l)throw l.error}}return ac.decode(ve,m,y,n)},i.prototype.correctErrors=function(e,n){var s=new Int32Array(e);try{this.rsDecoder.decode(s,e.length-n)}catch{throw new mi}for(var u=0;u<n;u++)e[u]=s[u]},i}();var zp=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Vh=function(i){function e(n,s,u){var l=i.call(this,n,s)||this;return l.estimatedModuleSize=u,l}return zp(e,i),e.prototype.aboutEquals=function(n,s,u){if(Math.abs(s-this.getY())<=n&&Math.abs(u-this.getX())<=n){var l=Math.abs(n-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,s,u){return new e((this.getX()+s)/2,(this.getY()+n)/2,(this.estimatedModuleSize+u)/2)},e}(gn),qp=function(){function i(e,n,s,u,l,g,m){this.image=e,this.startX=n,this.startY=s,this.width=u,this.height=l,this.moduleSize=g,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return i.prototype.find=function(){for(var e=this.startX,n=this.height,u=e+this.width,l=this.startY+n/2,g=new Int32Array(3),m=this.image,y=0;y<n;y++){var T=l+(1&y?-Math.floor((y+1)/2):Math.floor((y+1)/2));g[0]=0,g[1]=0,g[2]=0;for(var P=e;P<u&&!m.get(P,T);)P++;for(var V=0;P<u;){if(m.get(P,T))if(1===V)g[1]++;else if(2===V){var $;if(this.foundPatternCross(g)&&null!==($=this.handlePossibleCenter(g,T,P)))return $;g[0]=g[2],g[1]=1,g[2]=0,V=1}else g[++V]++;else 1===V&&V++,g[V]++;P++}if(this.foundPatternCross(g)&&null!==($=this.handlePossibleCenter(g,T,u)))return $}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new Ke},i.centerFromEnd=function(e,n){return n-e[2]-e[1]/2},i.prototype.foundPatternCross=function(e){for(var n=this.moduleSize,s=n/2,u=0;u<3;u++)if(Math.abs(n-e[u])>=s)return!1;return!0},i.prototype.crossCheckVertical=function(e,n,s,u){var l=this.image,g=l.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;for(var y=e;y>=0&&l.get(n,y)&&m[1]<=s;)m[1]++,y--;if(y<0||m[1]>s)return NaN;for(;y>=0&&!l.get(n,y)&&m[0]<=s;)m[0]++,y--;if(m[0]>s)return NaN;for(y=e+1;y<g&&l.get(n,y)&&m[1]<=s;)m[1]++,y++;if(y===g||m[1]>s)return NaN;for(;y<g&&!l.get(n,y)&&m[2]<=s;)m[2]++,y++;return m[2]>s||5*Math.abs(m[0]+m[1]+m[2]-u)>=2*u?NaN:this.foundPatternCross(m)?i.centerFromEnd(m,y):NaN},i.prototype.handlePossibleCenter=function(e,n,s){var u,l,g=e[0]+e[1]+e[2],m=i.centerFromEnd(e,s),y=this.crossCheckVertical(n,m,2*e[1],g);if(!isNaN(y)){var T=(e[0]+e[1]+e[2])/3;try{for(var P=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.possibleCenters),V=P.next();!V.done;V=P.next()){var $=V.value;if($.aboutEquals(T,y,m))return $.combineEstimate(y,m,T)}}catch(se){u={error:se}}finally{try{V&&!V.done&&(l=P.return)&&l.call(P)}finally{if(u)throw u.error}}var q=new Vh(m,y,T);this.possibleCenters.push(q),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(q)}return null},i}();var Sm=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Rm=function(i){function e(n,s,u,l){var g=i.call(this,n,s)||this;return g.estimatedModuleSize=u,g.count=l,void 0===l&&(g.count=1),g}return Sm(e,i),e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(n,s,u){if(Math.abs(s-this.getY())<=n&&Math.abs(u-this.getX())<=n){var l=Math.abs(n-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,s,u){var l=this.count+1;return new e((this.count*this.getX()+s)/l,(this.count*this.getY()+n)/l,(this.count*this.estimatedModuleSize+u)/l,l)},e}(gn),Kp=function(){function i(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return i.prototype.getBottomLeft=function(){return this.bottomLeft},i.prototype.getTopLeft=function(){return this.topLeft},i.prototype.getTopRight=function(){return this.topRight},i}();var sd=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const sl=function(){function i(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return i.prototype.getImage=function(){return this.image},i.prototype.getPossibleCenters=function(){return this.possibleCenters},i.prototype.find=function(e){var n=null!=e&&void 0!==e.get(Ln.TRY_HARDER),s=null!=e&&void 0!==e.get(Ln.PURE_BARCODE),u=this.image,l=u.getHeight(),g=u.getWidth(),m=Math.floor(3*l/(4*i.MAX_MODULES));(m<i.MIN_SKIP||n)&&(m=i.MIN_SKIP);for(var y=!1,T=new Int32Array(5),P=m-1;P<l&&!y;P+=m){T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0;for(var V=0,$=0;$<g;$++)if(u.get($,P))!(1&~V)&&V++,T[V]++;else if(1&V)T[V]++;else if(4===V)if(i.foundPatternCross(T)){if(!0!==this.handlePossibleCenter(T,P,$,s)){T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,V=3;continue}if(m=2,!0===this.hasSkipped)y=this.haveMultiplyConfirmedCenters();else{var se=this.findRowSkip();se>T[2]&&(P+=se-T[2]-m,$=g-1)}V=0,T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0}else T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,V=3;else T[++V]++;i.foundPatternCross(T)&&!0===this.handlePossibleCenter(T,P,g,s)&&(m=T[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}var ve=this.selectBestPatterns();return gn.orderBestPatterns(ve),new Kp(ve)},i.centerFromEnd=function(e,n){return n-e[4]-e[3]-e[2]/2},i.foundPatternCross=function(e){for(var n=0,s=0;s<5;s++){var u=e[s];if(0===u)return!1;n+=u}if(n<7)return!1;var l=n/7,g=l/2;return Math.abs(l-e[0])<g&&Math.abs(l-e[1])<g&&Math.abs(3*l-e[2])<3*g&&Math.abs(l-e[3])<g&&Math.abs(l-e[4])<g},i.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},i.prototype.crossCheckDiagonal=function(e,n,s,u){for(var l=this.getCrossCheckStateCount(),g=0,m=this.image;e>=g&&n>=g&&m.get(n-g,e-g);)l[2]++,g++;if(e<g||n<g)return!1;for(;e>=g&&n>=g&&!m.get(n-g,e-g)&&l[1]<=s;)l[1]++,g++;if(e<g||n<g||l[1]>s)return!1;for(;e>=g&&n>=g&&m.get(n-g,e-g)&&l[0]<=s;)l[0]++,g++;if(l[0]>s)return!1;var y=m.getHeight(),T=m.getWidth();for(g=1;e+g<y&&n+g<T&&m.get(n+g,e+g);)l[2]++,g++;if(e+g>=y||n+g>=T)return!1;for(;e+g<y&&n+g<T&&!m.get(n+g,e+g)&&l[3]<s;)l[3]++,g++;if(e+g>=y||n+g>=T||l[3]>=s)return!1;for(;e+g<y&&n+g<T&&m.get(n+g,e+g)&&l[4]<s;)l[4]++,g++;return!(l[4]>=s)&&Math.abs(l[0]+l[1]+l[2]+l[3]+l[4]-u)<2*u&&i.foundPatternCross(l)},i.prototype.crossCheckVertical=function(e,n,s,u){for(var l=this.image,g=l.getHeight(),m=this.getCrossCheckStateCount(),y=e;y>=0&&l.get(n,y);)m[2]++,y--;if(y<0)return NaN;for(;y>=0&&!l.get(n,y)&&m[1]<=s;)m[1]++,y--;if(y<0||m[1]>s)return NaN;for(;y>=0&&l.get(n,y)&&m[0]<=s;)m[0]++,y--;if(m[0]>s)return NaN;for(y=e+1;y<g&&l.get(n,y);)m[2]++,y++;if(y===g)return NaN;for(;y<g&&!l.get(n,y)&&m[3]<s;)m[3]++,y++;if(y===g||m[3]>=s)return NaN;for(;y<g&&l.get(n,y)&&m[4]<s;)m[4]++,y++;return m[4]>=s||5*Math.abs(m[0]+m[1]+m[2]+m[3]+m[4]-u)>=2*u?NaN:i.foundPatternCross(m)?i.centerFromEnd(m,y):NaN},i.prototype.crossCheckHorizontal=function(e,n,s,u){for(var l=this.image,g=l.getWidth(),m=this.getCrossCheckStateCount(),y=e;y>=0&&l.get(y,n);)m[2]++,y--;if(y<0)return NaN;for(;y>=0&&!l.get(y,n)&&m[1]<=s;)m[1]++,y--;if(y<0||m[1]>s)return NaN;for(;y>=0&&l.get(y,n)&&m[0]<=s;)m[0]++,y--;if(m[0]>s)return NaN;for(y=e+1;y<g&&l.get(y,n);)m[2]++,y++;if(y===g)return NaN;for(;y<g&&!l.get(y,n)&&m[3]<s;)m[3]++,y++;if(y===g||m[3]>=s)return NaN;for(;y<g&&l.get(y,n)&&m[4]<s;)m[4]++,y++;return m[4]>=s||5*Math.abs(m[0]+m[1]+m[2]+m[3]+m[4]-u)>=u?NaN:i.foundPatternCross(m)?i.centerFromEnd(m,y):NaN},i.prototype.handlePossibleCenter=function(e,n,s,u){var l=e[0]+e[1]+e[2]+e[3]+e[4],g=i.centerFromEnd(e,s),m=this.crossCheckVertical(n,Math.floor(g),e[2],l);if(!isNaN(m)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(m),e[2],l),!isNaN(g)&&(!u||this.crossCheckDiagonal(Math.floor(m),Math.floor(g),e[2],l)))){for(var y=l/7,T=!1,P=this.possibleCenters,V=0,$=P.length;V<$;V++){var q=P[V];if(q.aboutEquals(y,m,g)){P[V]=q.combineEstimate(m,g,y),T=!0;break}}if(!T){var se=new Rm(g,m,y);P.push(se),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(se)}return!0}return!1},i.prototype.findRowSkip=function(){var e,n;if(this.possibleCenters.length<=1)return 0;var u=null;try{for(var l=sd(this.possibleCenters),g=l.next();!g.done;g=l.next()){var m=g.value;if(m.getCount()>=i.CENTER_QUORUM){if(null!=u)return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-m.getX())-Math.abs(u.getY()-m.getY()))/2);u=m}}}catch(y){e={error:y}}finally{try{g&&!g.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return 0},i.prototype.haveMultiplyConfirmedCenters=function(){var e,n,s,u,l=0,g=0,m=this.possibleCenters.length;try{for(var y=sd(this.possibleCenters),T=y.next();!T.done;T=y.next())(P=T.value).getCount()>=i.CENTER_QUORUM&&(l++,g+=P.getEstimatedModuleSize())}catch(ve){e={error:ve}}finally{try{T&&!T.done&&(n=y.return)&&n.call(y)}finally{if(e)throw e.error}}if(l<3)return!1;var V=g/m,$=0;try{for(var q=sd(this.possibleCenters),se=q.next();!se.done;se=q.next()){var P=se.value;$+=Math.abs(P.getEstimatedModuleSize()-V)}}catch(ve){s={error:ve}}finally{try{se&&!se.done&&(u=q.return)&&u.call(q)}finally{if(s)throw s.error}}return $<=.05*g},i.prototype.selectBestPatterns=function(){var e,n,s,u,l=this.possibleCenters.length;if(l<3)throw new Ke;var m,g=this.possibleCenters;if(l>3){var y=0,T=0;try{for(var P=sd(this.possibleCenters),V=P.next();!V.done;V=P.next()){var q=V.value.getEstimatedModuleSize();y+=q,T+=q*q}}catch(kt){e={error:kt}}finally{try{V&&!V.done&&(n=P.return)&&n.call(P)}finally{if(e)throw e.error}}m=y/l;var se=Math.sqrt(T/l-m*m);g.sort(function(kt,zt){var Kt=Math.abs(zt.getEstimatedModuleSize()-m),mn=Math.abs(kt.getEstimatedModuleSize()-m);return Kt<mn?-1:Kt>mn?1:0});for(var ve=Math.max(.2*m,se),De=0;De<g.length&&g.length>3;De++)Math.abs(g[De].getEstimatedModuleSize()-m)>ve&&(g.splice(De,1),De--)}if(g.length>3){y=0;try{for(var Pe=sd(g),Ye=Pe.next();!Ye.done;Ye=Pe.next())y+=Ye.value.getEstimatedModuleSize()}catch(zt){s={error:zt}}finally{try{Ye&&!Ye.done&&(u=Pe.return)&&u.call(Pe)}finally{if(s)throw s.error}}m=y/g.length,g.sort(function(zt,Kt){if(Kt.getCount()===zt.getCount()){var mn=Math.abs(Kt.getEstimatedModuleSize()-m),Jn=Math.abs(zt.getEstimatedModuleSize()-m);return mn<Jn?1:mn>Jn?-1:0}return Kt.getCount()-zt.getCount()}),g.splice(3)}return[g[0],g[1],g[2]]},i.CENTER_QUORUM=2,i.MIN_SKIP=3,i.MAX_MODULES=57,i}(),Xp=function(){function i(e){this.image=e}return i.prototype.getImage=function(){return this.image},i.prototype.getResultPointCallback=function(){return this.resultPointCallback},i.prototype.detect=function(e){this.resultPointCallback=null==e?null:e.get(Ln.NEED_RESULT_POINT_CALLBACK);var s=new sl(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(s)},i.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),s=e.getTopRight(),u=e.getBottomLeft(),l=this.calculateModuleSize(n,s,u);if(l<1)throw new Ke("No pattern found in proccess finder.");var g=i.computeDimension(n,s,u,l),m=Rs.getProvisionalVersionForDimension(g),y=m.getDimensionForVersion()-7,T=null;if(m.getAlignmentPatternCenters().length>0)for(var P=s.getX()-n.getX()+u.getX(),V=s.getY()-n.getY()+u.getY(),$=1-3/y,q=Math.floor(n.getX()+$*(P-n.getX())),se=Math.floor(n.getY()+$*(V-n.getY())),ve=4;ve<=16;ve<<=1)try{T=this.findAlignmentInRegion(l,q,se,ve);break}catch(Ye){if(!(Ye instanceof Ke))throw Ye}var De=i.createTransform(n,s,u,T,g),Ve=i.sampleGrid(this.image,De,g);return new _l(Ve,null===T?[u,n,s]:[u,n,s,T])},i.createTransform=function(e,n,s,u,l){var m,y,T,P,g=l-3.5;return null!==u?(m=u.getX(),y=u.getY(),P=T=g-3):(m=n.getX()-e.getX()+s.getX(),y=n.getY()-e.getY()+s.getY(),T=g,P=g),Xu.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,T,P,3.5,g,e.getX(),e.getY(),n.getX(),n.getY(),m,y,s.getX(),s.getY())},i.sampleGrid=function(e,n,s){return j.getInstance().sampleGridWithTransform(e,s,s,n)},i.computeDimension=function(e,n,s,u){var l=wr.round(gn.distance(e,n)/u),g=wr.round(gn.distance(e,s)/u),m=Math.floor((l+g)/2)+7;switch(3&m){case 0:m++;break;case 2:m--;break;case 3:throw new Ke("Dimensions could be not found.")}return m},i.prototype.calculateModuleSize=function(e,n,s){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,s))/2},i.prototype.calculateModuleSizeOneWay=function(e,n){var s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(s)?u/7:isNaN(u)?s/7:(s+u)/14},i.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,n,s,u){var l=this.sizeOfBlackWhiteBlackRun(e,n,s,u),g=1,m=e-(s-e);m<0?(g=e/(e-m),m=0):m>=this.image.getWidth()&&(g=(this.image.getWidth()-1-e)/(m-e),m=this.image.getWidth()-1);var y=Math.floor(n-(u-n)*g);return g=1,y<0?(g=n/(n-y),y=0):y>=this.image.getHeight()&&(g=(this.image.getHeight()-1-n)/(y-n),y=this.image.getHeight()-1),m=Math.floor(e+(m-e)*g),(l+=this.sizeOfBlackWhiteBlackRun(e,n,m,y))-1},i.prototype.sizeOfBlackWhiteBlackRun=function(e,n,s,u){var l=Math.abs(u-n)>Math.abs(s-e);if(l){var g=e;e=n,n=g,g=s,s=u,u=g}for(var m=Math.abs(s-e),y=Math.abs(u-n),T=-m/2,P=e<s?1:-1,V=n<u?1:-1,$=0,q=s+P,se=e,ve=n;se!==q;se+=P){if(1===$===this.image.get(l?ve:se,l?se:ve)){if(2===$)return wr.distance(se,ve,e,n);$++}if((T+=y)>0){if(ve===u)break;ve+=V,T-=m}}return 2===$?wr.distance(s+P,u,e,n):NaN},i.prototype.findAlignmentInRegion=function(e,n,s,u){var l=Math.floor(u*e),g=Math.max(0,n-l),m=Math.min(this.image.getWidth()-1,n+l);if(m-g<3*e)throw new Ke("Alignment top exceeds estimated module size.");var y=Math.max(0,s-l),T=Math.min(this.image.getHeight()-1,s+l);if(T-y<3*e)throw new Ke("Alignment bottom exceeds estimated module size.");return new qp(this.image,g,y,m-g,T-y,e,this.resultPointCallback).find()},i}(),zd=function(){function i(){this.decoder=new jf}return i.prototype.getDecoder=function(){return this.decoder},i.prototype.decode=function(e,n){var s,u;if(null!=n&&void 0!==n.get(Ln.PURE_BARCODE)){var l=i.extractPureBits(e.getBlackMatrix());s=this.decoder.decodeBitMatrix(l,n),u=i.NO_POINTS}else{var g=new Xp(e.getBlackMatrix()).detect(n);s=this.decoder.decodeBitMatrix(g.getBits(),n),u=g.getPoints()}s.getOther()instanceof Bf&&s.getOther().applyMirroredCorrection(u);var m=new qi(s.getText(),s.getRawBytes(),void 0,u,cn.QR_CODE,void 0),y=s.getByteSegments();null!==y&&m.putMetadata(Zi.BYTE_SEGMENTS,y);var T=s.getECLevel();return null!==T&&m.putMetadata(Zi.ERROR_CORRECTION_LEVEL,T),s.hasStructuredAppend()&&(m.putMetadata(Zi.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),m.putMetadata(Zi.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),m},i.prototype.reset=function(){},i.extractPureBits=function(e){var n=e.getTopLeftOnBit(),s=e.getBottomRightOnBit();if(null===n||null===s)throw new Ke;var u=this.moduleSize(n,e),l=n[1],g=s[1],m=n[0],y=s[0];if(m>=y||l>=g)throw new Ke;if(g-l!=y-m&&(y=m+(g-l))>=e.getWidth())throw new Ke;var T=Math.round((y-m+1)/u),P=Math.round((g-l+1)/u);if(T<=0||P<=0)throw new Ke;if(P!==T)throw new Ke;var V=Math.floor(u/2);l+=V;var $=(m+=V)+Math.floor((T-1)*u)-y;if($>0){if($>V)throw new Ke;m-=$}var q=l+Math.floor((P-1)*u)-g;if(q>0){if(q>V)throw new Ke;l-=q}for(var se=new tr(T,P),ve=0;ve<P;ve++)for(var De=l+Math.floor(ve*u),Ve=0;Ve<T;Ve++)e.get(m+Math.floor(Ve*u),De)&&se.set(Ve,ve);return se},i.moduleSize=function(e,n){for(var s=n.getHeight(),u=n.getWidth(),l=e[0],g=e[1],m=!0,y=0;l<u&&g<s;){if(m!==n.get(l,g)){if(5==++y)break;m=!m}l++,g++}if(l===u||g===s)throw new Ke;return(l-e[0])/7},i.NO_POINTS=new Array,i}(),Zr=function(){function i(){}return i.prototype.PDF417Common=function(){},i.getBitCountSum=function(e){return wr.sum(e)},i.toIntArray=function(e){var n,s;if(null==e||!e.length)return i.EMPTY_INT_ARRAY;var u=new Int32Array(e.length),l=0;try{for(var g=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),m=g.next();!m.done;m=g.next())u[l++]=m.value}catch(T){n={error:T}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(n)throw n.error}}return u},i.getCodeword=function(e){var n=Qr.binarySearch(i.SYMBOL_TABLE,262143&e);return n<0?-1:(i.CODEWORD_TABLE[n]-1)%i.NUMBER_OF_CODEWORDS},i.MAX_CODEWORDS_IN_BARCODE=(i.NUMBER_OF_CODEWORDS=929)-1,i.MIN_ROWS_IN_BARCODE=3,i.MAX_ROWS_IN_BARCODE=90,i.MODULES_IN_CODEWORD=17,i.MODULES_IN_STOP_PATTERN=18,i.BARS_IN_MODULE=8,i.EMPTY_INT_ARRAY=new Int32Array([]),i.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),i.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),i}(),uc=function(){function i(e,n){this.bits=e,this.points=n}return i.prototype.getBits=function(){return this.bits},i.prototype.getPoints=function(){return this.points},i}();var Qp=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const zf=function(){function i(){}return i.detectMultiple=function(e,n,s){var u=e.getBlackMatrix(),l=i.detect(s,u);return l.length||((u=u.clone()).rotate180(),l=i.detect(s,u)),new uc(u,l)},i.detect=function(e,n){for(var s,u,l=new Array,g=0,m=0,y=!1;g<n.getHeight();){var T=i.findVertices(n,g,m);if(null!=T[0]||null!=T[3]){if(y=!0,l.push(T),!e)break;null!=T[2]?(m=Math.trunc(T[2].getX()),g=Math.trunc(T[2].getY())):(m=Math.trunc(T[4].getX()),g=Math.trunc(T[4].getY()))}else{if(!y)break;y=!1,m=0;try{for(var P=(s=void 0,Qp(l)),V=P.next();!V.done;V=P.next()){var $=V.value;null!=$[1]&&(g=Math.trunc(Math.max(g,$[1].getY()))),null!=$[3]&&(g=Math.max(g,Math.trunc($[3].getY())))}}catch(q){s={error:q}}finally{try{V&&!V.done&&(u=P.return)&&u.call(P)}finally{if(s)throw s.error}}g+=i.ROW_STEP}}return l},i.findVertices=function(e,n,s){var u=e.getHeight(),l=e.getWidth(),g=new Array(8);return i.copyToResult(g,i.findRowsWithPattern(e,u,l,n,s,i.START_PATTERN),i.INDEXES_START_PATTERN),null!=g[4]&&(s=Math.trunc(g[4].getX()),n=Math.trunc(g[4].getY())),i.copyToResult(g,i.findRowsWithPattern(e,u,l,n,s,i.STOP_PATTERN),i.INDEXES_STOP_PATTERN),g},i.copyToResult=function(e,n,s){for(var u=0;u<s.length;u++)e[s[u]]=n[u]},i.findRowsWithPattern=function(e,n,s,u,l,g){for(var m=new Array(4),y=!1,T=new Int32Array(g.length);u<n;u+=i.ROW_STEP)if(null!=(P=i.findGuardPattern(e,l,u,s,!1,g,T))){for(;u>0;){if(null==(V=i.findGuardPattern(e,l,--u,s,!1,g,T))){u++;break}P=V}m[0]=new gn(P[0],u),m[1]=new gn(P[1],u),y=!0;break}var $=u+1;if(y){for(var q=0,V=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);$<n;$++){var P;if(null!=(P=i.findGuardPattern(e,V[0],$,s,!1,g,T))&&Math.abs(V[0]-P[0])<i.MAX_PATTERN_DRIFT&&Math.abs(V[1]-P[1])<i.MAX_PATTERN_DRIFT)V=P,q=0;else{if(q>i.SKIPPED_ROW_COUNT_MAX)break;q++}}m[2]=new gn(V[0],$-=q+1),m[3]=new gn(V[1],$)}return $-u<i.BARCODE_MIN_HEIGHT&&Qr.fill(m,null),m},i.findGuardPattern=function(e,n,s,u,l,g,m){Qr.fillWithin(m,0,m.length,0);for(var y=n,T=0;e.get(y,s)&&y>0&&T++<i.MAX_PIXEL_DRIFT;)y--;for(var P=y,V=0,$=g.length,q=l;P<u;P++)if(e.get(P,s)!==q)m[V]++;else{if(V===$-1){if(i.patternMatchVariance(m,g,i.MAX_INDIVIDUAL_VARIANCE)<i.MAX_AVG_VARIANCE)return new Int32Array([y,P]);y+=m[0]+m[1],jr.arraycopy(m,2,m,0,V-1),m[V-1]=0,m[V]=0,V--}else V++;m[V]=1,q=!q}return V===$-1&&i.patternMatchVariance(m,g,i.MAX_INDIVIDUAL_VARIANCE)<i.MAX_AVG_VARIANCE?new Int32Array([y,P-1]):null},i.patternMatchVariance=function(e,n,s){for(var u=e.length,l=0,g=0,m=0;m<u;m++)l+=e[m],g+=n[m];if(l<g)return 1/0;var y=l/g;s*=y;for(var T=0,P=0;P<u;P++){var V=e[P],$=n[P]*y,q=V>$?V-$:$-V;if(q>s)return 1/0;T+=q}return T/l},i.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),i.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),i.MAX_AVG_VARIANCE=.42,i.MAX_INDIVIDUAL_VARIANCE=.8,i.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),i.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),i.MAX_PIXEL_DRIFT=3,i.MAX_PATTERN_DRIFT=5,i.SKIPPED_ROW_COUNT_MAX=25,i.ROW_STEP=5,i.BARCODE_MIN_HEIGHT=10,i}(),Nc=function(){function i(e,n){if(0===n.length)throw new _n;this.field=e;var s=n.length;if(s>1&&0===n[0]){for(var u=1;u<s&&0===n[u];)u++;u===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-u),jr.arraycopy(n,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return i.prototype.getCoefficients=function(){return this.coefficients},i.prototype.getDegree=function(){return this.coefficients.length-1},i.prototype.isZero=function(){return 0===this.coefficients[0]},i.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},i.prototype.evaluateAt=function(e){var n,s;if(0===e)return this.getCoefficient(0);if(1===e){var u=0;try{for(var l=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.coefficients),g=l.next();!g.done;g=l.next())u=this.field.add(u,g.value)}catch(V){n={error:V}}finally{try{g&&!g.done&&(s=l.return)&&s.call(l)}finally{if(n)throw n.error}}return u}for(var y=this.coefficients[0],T=this.coefficients.length,P=1;P<T;P++)y=this.field.add(this.field.multiply(e,y),this.coefficients[P]);return y},i.prototype.add=function(e){if(!this.field.equals(e.field))throw new _n("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,s=e.coefficients;if(n.length>s.length){var u=n;n=s,s=u}var l=new Int32Array(s.length),g=s.length-n.length;jr.arraycopy(s,0,l,0,g);for(var m=g;m<s.length;m++)l[m]=this.field.add(n[m-g],s[m]);return new i(this.field,l)},i.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new _n("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},i.prototype.multiply=function(e){return e instanceof i?this.multiplyOther(e):this.multiplyScalar(e)},i.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new _n("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new i(this.field,new Int32Array([0]));for(var n=this.coefficients,s=n.length,u=e.coefficients,l=u.length,g=new Int32Array(s+l-1),m=0;m<s;m++)for(var y=n[m],T=0;T<l;T++)g[m+T]=this.field.add(g[m+T],this.field.multiply(y,u[T]));return new i(this.field,g)},i.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),s=0;s<e;s++)n[s]=this.field.subtract(0,this.coefficients[s]);return new i(this.field,n)},i.prototype.multiplyScalar=function(e){if(0===e)return new i(this.field,new Int32Array([0]));if(1===e)return this;for(var n=this.coefficients.length,s=new Int32Array(n),u=0;u<n;u++)s[u]=this.field.multiply(this.coefficients[u],e);return new i(this.field,s)},i.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new _n;if(0===n)return new i(this.field,new Int32Array([0]));for(var s=this.coefficients.length,u=new Int32Array(s+e),l=0;l<s;l++)u[l]=this.field.multiply(this.coefficients[l],n);return new i(this.field,u)},i.prototype.toString=function(){for(var e=new fn,n=this.getDegree();n>=0;n--){var s=this.getCoefficient(n);0!==s&&(s<0?(e.append(" - "),s=-s):e.length()>0&&e.append(" + "),(0===n||1!==s)&&e.append(s),0!==n&&(1===n?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()},i}(),Zp=function(){function i(){}return i.prototype.add=function(e,n){return(e+n)%this.modulus},i.prototype.subtract=function(e,n){return(this.modulus+e-n)%this.modulus},i.prototype.exp=function(e){return this.expTable[e]},i.prototype.log=function(e){if(0===e)throw new _n;return this.logTable[e]},i.prototype.inverse=function(e){if(0===e)throw new Ku;return this.expTable[this.modulus-this.logTable[e]-1]},i.prototype.multiply=function(e,n){return 0===e||0===n?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]},i.prototype.getSize=function(){return this.modulus},i.prototype.equals=function(e){return e===this},i}();var qd=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Jp=function(i){function e(n,s){var u=i.call(this)||this;u.modulus=n,u.expTable=new Int32Array(n),u.logTable=new Int32Array(n);for(var l=1,g=0;g<n;g++)u.expTable[g]=l,l=l*s%n;for(g=0;g<n-1;g++)u.logTable[u.expTable[g]]=g;return u.zero=new Nc(u,new Int32Array([0])),u.one=new Nc(u,new Int32Array([1])),u}return qd(e,i),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,s){if(n<0)throw new _n;if(0===s)return this.zero;var u=new Int32Array(n+1);return u[0]=s,new Nc(this,u)},e.PDF417_GF=new e(Zr.NUMBER_OF_CODEWORDS,3),e}(Zp),Om=function(){function i(){this.field=Jp.PDF417_GF}return i.prototype.decode=function(e,n,s){for(var u,l,g=new Nc(this.field,e),m=new Int32Array(n),y=!1,T=n;T>0;T--){var P=g.evaluateAt(this.field.exp(T));m[n-T]=P,0!==P&&(y=!0)}if(!y)return 0;var V=this.field.getOne();if(null!=s)try{for(var $=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),q=$.next();!q.done;q=$.next()){var ve=this.field.exp(e.length-1-q.value),De=new Nc(this.field,new Int32Array([this.field.subtract(0,ve),1]));V=V.multiply(De)}}catch(mn){u={error:mn}}finally{try{q&&!q.done&&(l=$.return)&&l.call($)}finally{if(u)throw u.error}}var Ve=new Nc(this.field,m),Pe=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),Ve,n),Ye=Pe[0],at=Pe[1],kt=this.findErrorLocations(Ye),zt=this.findErrorMagnitudes(at,Ye,kt);for(T=0;T<kt.length;T++){var Kt=e.length-1-this.field.log(kt[T]);if(Kt<0)throw mi.getChecksumInstance();e[Kt]=this.field.subtract(e[Kt],zt[T])}return kt.length},i.prototype.runEuclideanAlgorithm=function(e,n,s){if(e.getDegree()<n.getDegree()){var u=e;e=n,n=u}for(var l=e,g=n,m=this.field.getZero(),y=this.field.getOne();g.getDegree()>=Math.round(s/2);){var T=l,P=m;if(m=y,(l=g).isZero())throw mi.getChecksumInstance();g=T;for(var V=this.field.getZero(),$=l.getCoefficient(l.getDegree()),q=this.field.inverse($);g.getDegree()>=l.getDegree()&&!g.isZero();){var se=g.getDegree()-l.getDegree(),ve=this.field.multiply(g.getCoefficient(g.getDegree()),q);V=V.add(this.field.buildMonomial(se,ve)),g=g.subtract(l.multiplyByMonomial(se,ve))}y=V.multiply(m).subtract(P).negative()}var De=y.getCoefficient(0);if(0===De)throw mi.getChecksumInstance();var Ve=this.field.inverse(De);return[y.multiply(Ve),g.multiply(Ve)]},i.prototype.findErrorLocations=function(e){for(var n=e.getDegree(),s=new Int32Array(n),u=0,l=1;l<this.field.getSize()&&u<n;l++)0===e.evaluateAt(l)&&(s[u]=this.field.inverse(l),u++);if(u!==n)throw mi.getChecksumInstance();return s},i.prototype.findErrorMagnitudes=function(e,n,s){for(var u=n.getDegree(),l=new Int32Array(u),g=1;g<=u;g++)l[u-g]=this.field.multiply(g,n.getCoefficient(g));var m=new Nc(this.field,l),y=s.length,T=new Int32Array(y);for(g=0;g<y;g++){var P=this.field.inverse(s[g]),V=this.field.subtract(0,e.evaluateAt(P)),$=this.field.inverse(m.evaluateAt(P));T[g]=this.field.multiply(V,$)}return T},i}(),Pm=function(){function i(e,n,s,u,l){e instanceof i?this.constructor_2(e):this.constructor_1(e,n,s,u,l)}return i.prototype.constructor_1=function(e,n,s,u,l){var g=null==n||null==s,m=null==u||null==l;if(g&&m)throw new Ke;g?(n=new gn(0,u.getY()),s=new gn(0,l.getY())):m&&(u=new gn(e.getWidth()-1,n.getY()),l=new gn(e.getWidth()-1,s.getY())),this.image=e,this.topLeft=n,this.bottomLeft=s,this.topRight=u,this.bottomRight=l,this.minX=Math.trunc(Math.min(n.getX(),s.getX())),this.maxX=Math.trunc(Math.max(u.getX(),l.getX())),this.minY=Math.trunc(Math.min(n.getY(),u.getY())),this.maxY=Math.trunc(Math.max(s.getY(),l.getY()))},i.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},i.merge=function(e,n){return null==e?n:null==n?e:new i(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},i.prototype.addMissingRows=function(e,n,s){var u=this.topLeft,l=this.bottomLeft,g=this.topRight,m=this.bottomRight;if(e>0){var y=s?this.topLeft:this.topRight,T=Math.trunc(y.getY()-e);T<0&&(T=0);var P=new gn(y.getX(),T);s?u=P:g=P}if(n>0){var V=s?this.bottomLeft:this.bottomRight,$=Math.trunc(V.getY()+n);$>=this.image.getHeight()&&($=this.image.getHeight()-1);var q=new gn(V.getX(),$);s?l=q:m=q}return new i(this.image,u,l,g,m)},i.prototype.getMinX=function(){return this.minX},i.prototype.getMaxX=function(){return this.maxX},i.prototype.getMinY=function(){return this.minY},i.prototype.getMaxY=function(){return this.maxY},i.prototype.getTopLeft=function(){return this.topLeft},i.prototype.getTopRight=function(){return this.topRight},i.prototype.getBottomLeft=function(){return this.bottomLeft},i.prototype.getBottomRight=function(){return this.bottomRight},i}(),cc=function(){function i(e,n,s,u){this.columnCount=e,this.errorCorrectionLevel=u,this.rowCountUpperPart=n,this.rowCountLowerPart=s,this.rowCount=n+s}return i.prototype.getColumnCount=function(){return this.columnCount},i.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},i.prototype.getRowCount=function(){return this.rowCount},i.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},i.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},i}(),tg=function(){function i(){this.buffer=""}return i.form=function(e,n){var s=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function u(g,m,y,T,P,V){if("%%"===g)return"%";if(void 0!==n[++s]){g=T?parseInt(T.substr(1)):void 0;var q,$=P?parseInt(P.substr(1)):void 0;switch(V){case"s":q=n[s];break;case"c":q=n[s][0];break;case"f":q=parseFloat(n[s]).toFixed(g);break;case"p":q=parseFloat(n[s]).toPrecision(g);break;case"e":q=parseFloat(n[s]).toExponential(g);break;case"x":q=parseInt(n[s]).toString($||16);break;case"d":q=parseFloat(parseInt(n[s],$||10).toPrecision(g)).toFixed(0)}q="object"==typeof q?JSON.stringify(q):(+q).toString($);for(var se=parseInt(y),ve=y&&y[0]+""=="0"?"0":" ";q.length<se;)q=void 0!==m?q+ve:ve+q;return q}})},i.prototype.format=function(e){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];this.buffer+=i.form(e,n)},i.prototype.toString=function(){return this.buffer},i}(),jh=function(){function i(e){this.boundingBox=new Pm(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return i.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(null!=n)return n;for(var s=1;s<i.MAX_NEARBY_DISTANCE;s++){var u=this.imageRowToCodewordIndex(e)-s;if(u>=0&&null!=(n=this.codewords[u])||(u=this.imageRowToCodewordIndex(e)+s)<this.codewords.length&&null!=(n=this.codewords[u]))return n}return null},i.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},i.prototype.setCodeword=function(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n},i.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},i.prototype.getBoundingBox=function(){return this.boundingBox},i.prototype.getCodewords=function(){return this.codewords},i.prototype.toString=function(){var e,n,s=new tg,u=0;try{for(var l=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.codewords),g=l.next();!g.done;g=l.next()){var m=g.value;null!=m?s.format("%3d: %3d|%3d%n",u++,m.getRowNumber(),m.getValue()):s.format("%3d:    |   %n",u++)}}catch(y){e={error:y}}finally{try{g&&!g.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return s.toString()},i.MAX_NEARBY_DISTANCE=5,i}();var Fm=function(i,e){var n="function"==typeof Symbol&&i[Symbol.iterator];if(!n)return i;var u,g,s=n.call(i),l=[];try{for(;(void 0===e||e-- >0)&&!(u=s.next()).done;)l.push(u.value)}catch(m){g={error:m}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(g)throw g.error}}return l};const Hh=function(){function i(){this.values=new Map}return i.prototype.setValue=function(e){e=Math.trunc(e);var n=this.values.get(e);null==n&&(n=0),n++,this.values.set(e,n)},i.prototype.getValue=function(){var e,n,s=-1,u=new Array,l=function(V,$){var q_getKey=function(){return V},q_getValue=function(){return $};q_getValue()>s?(s=q_getValue(),(u=[]).push(q_getKey())):q_getValue()===s&&u.push(q_getKey())};try{for(var g=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.values.entries()),m=g.next();!m.done;m=g.next()){var y=Fm(m.value,2);l(y[0],y[1])}}catch(V){e={error:V}}finally{try{m&&!m.done&&(n=g.return)&&n.call(g)}finally{if(e)throw e.error}}return Zr.toIntArray(u)},i.prototype.getConfidence=function(e){return this.values.get(e)},i}();var Ru=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),rg=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const Gh=function(i){function e(n,s){var u=i.call(this,n)||this;return u._isLeft=s,u}return Ru(e,i),e.prototype.setRowNumbers=function(){var n,s;try{for(var u=rg(this.getCodewords()),l=u.next();!l.done;l=u.next()){var g=l.value;g?.setRowNumberAsRowIndicatorColumn()}}catch(m){n={error:m}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(n)throw n.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,n);for(var u=this.getBoundingBox(),l=this._isLeft?u.getTopLeft():u.getTopRight(),g=this._isLeft?u.getBottomLeft():u.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(l.getY())),y=this.imageRowToCodewordIndex(Math.trunc(g.getY())),T=-1,P=1,V=0,$=m;$<y;$++)if(null!=s[$]){var q=s[$],se=q.getRowNumber()-T;if(0===se)V++;else if(1===se)P=Math.max(P,V),V=1,T=q.getRowNumber();else if(se<0||q.getRowNumber()>=n.getRowCount()||se>$)s[$]=null;else{for(var ve,De=(ve=P>2?(P-2)*se:se)>=$,Ve=1;Ve<=ve&&!De;Ve++)De=null!=s[$-Ve];De?s[$]=null:(T=q.getRowNumber(),V=1)}}},e.prototype.getRowHeights=function(){var n,s,u=this.getBarcodeMetadata();if(null==u)return null;this.adjustIncompleteIndicatorColumnRowNumbers(u);var l=new Int32Array(u.getRowCount());try{for(var g=rg(this.getCodewords()),m=g.next();!m.done;m=g.next()){var y=m.value;if(null!=y){var T=y.getRowNumber();if(T>=l.length)continue;l[T]++}}}catch(P){n={error:P}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(n)throw n.error}}return l},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var s=this.getBoundingBox(),u=this._isLeft?s.getTopLeft():s.getTopRight(),l=this._isLeft?s.getBottomLeft():s.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.imageRowToCodewordIndex(Math.trunc(l.getY())),y=this.getCodewords(),T=-1,P=1,V=0,$=g;$<m;$++)if(null!=y[$]){var q=y[$];q.setRowNumberAsRowIndicatorColumn();var se=q.getRowNumber()-T;0===se?V++:1===se?(P=Math.max(P,V),V=1,T=q.getRowNumber()):q.getRowNumber()>=n.getRowCount()?y[$]=null:(T=q.getRowNumber(),V=1)}},e.prototype.getBarcodeMetadata=function(){var n,s,u=this.getCodewords(),l=new Hh,g=new Hh,m=new Hh,y=new Hh;try{for(var T=rg(u),P=T.next();!P.done;P=T.next()){var V=P.value;if(null!=V){V.setRowNumberAsRowIndicatorColumn();var $=V.getValue()%30,q=V.getRowNumber();switch(this._isLeft||(q+=2),q%3){case 0:g.setValue(3*$+1);break;case 1:y.setValue($/3),m.setValue($%3);break;case 2:l.setValue($+1)}}}}catch(ve){n={error:ve}}finally{try{P&&!P.done&&(s=T.return)&&s.call(T)}finally{if(n)throw n.error}}if(0===l.getValue().length||0===g.getValue().length||0===m.getValue().length||0===y.getValue().length||l.getValue()[0]<1||g.getValue()[0]+m.getValue()[0]<Zr.MIN_ROWS_IN_BARCODE||g.getValue()[0]+m.getValue()[0]>Zr.MAX_ROWS_IN_BARCODE)return null;var se=new cc(l.getValue()[0],g.getValue()[0],m.getValue()[0],y.getValue()[0]);return this.removeIncorrectCodewords(u,se),se},e.prototype.removeIncorrectCodewords=function(n,s){for(var u=0;u<n.length;u++){var l=n[u];if(null!=n[u]){var g=l.getValue()%30,m=l.getRowNumber();if(m>s.getRowCount()){n[u]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:3*g+1!==s.getRowCountUpperPart()&&(n[u]=null);break;case 1:(Math.trunc(g/3)!==s.getErrorCorrectionLevel()||g%3!==s.getRowCountLowerPart())&&(n[u]=null);break;case 2:g+1!==s.getColumnCount()&&(n[u]=null)}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+i.prototype.toString.call(this)},e}(jh),ig=function(){function i(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return i.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var n,e=Zr.MAX_CODEWORDS_IN_BARCODE;do{n=e,e=this.adjustRowNumbersAndGetCount()}while(e>0&&e<n);return this.detectionResultColumns},i.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},i.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(0===e)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var s=this.detectionResultColumns[n].getCodewords(),u=0;u<s.length;u++)null!=s[u]&&(s[u].hasValidRowNumber()||this.adjustRowNumbers(n,u,s));return e},i.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},i.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1])for(var e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),s=0;s<e.length;s++)if(null!=e[s]&&null!=n[s]&&e[s].getRowNumber()===n[s].getRowNumber())for(var u=1;u<=this.barcodeColumnCount;u++){var l=this.detectionResultColumns[u].getCodewords()[s];null!=l&&(l.setRowNumber(e[s].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[s]=null))}},i.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),s=0;s<n.length;s++)if(null!=n[s])for(var u=n[s].getRowNumber(),l=0,g=this.barcodeColumnCount+1;g>0&&l<this.ADJUST_ROW_NUMBER_SKIP;g--){var m=this.detectionResultColumns[g].getCodewords()[s];null!=m&&(l=i.adjustRowNumberIfValid(u,l,m),m.hasValidRowNumber()||e++)}return e},i.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),s=0;s<n.length;s++)if(null!=n[s])for(var u=n[s].getRowNumber(),l=0,g=1;g<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;g++){var m=this.detectionResultColumns[g].getCodewords()[s];null!=m&&(l=i.adjustRowNumberIfValid(u,l,m),m.hasValidRowNumber()||e++)}return e},i.adjustRowNumberIfValid=function(e,n,s){return null==s||s.hasValidRowNumber()||(s.isValidRowNumber(e)?(s.setRowNumber(e),n=0):++n),n},i.prototype.adjustRowNumbers=function(e,n,s){var u,l;if(null!=this.detectionResultColumns[e-1]){var g=s[n],m=this.detectionResultColumns[e-1].getCodewords(),y=m;null!=this.detectionResultColumns[e+1]&&(y=this.detectionResultColumns[e+1].getCodewords());var T=new Array(14);T[2]=m[n],T[3]=y[n],n>0&&(T[0]=s[n-1],T[4]=m[n-1],T[5]=y[n-1]),n>1&&(T[8]=s[n-2],T[10]=m[n-2],T[11]=y[n-2]),n<s.length-1&&(T[1]=s[n+1],T[6]=m[n+1],T[7]=y[n+1]),n<s.length-2&&(T[9]=s[n+2],T[12]=m[n+2],T[13]=y[n+2]);try{for(var P=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(T),V=P.next();!V.done;V=P.next())if(i.adjustRowNumber(g,V.value))return}catch(q){u={error:q}}finally{try{V&&!V.done&&(l=P.return)&&l.call(P)}finally{if(u)throw u.error}}}},i.adjustRowNumber=function(e,n){return!(null==n||!n.hasValidRowNumber()||n.getBucket()!==e.getBucket()||(e.setRowNumber(n.getRowNumber()),0))},i.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},i.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},i.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},i.prototype.setBoundingBox=function(e){this.boundingBox=e},i.prototype.getBoundingBox=function(){return this.boundingBox},i.prototype.setDetectionResultColumn=function(e,n){this.detectionResultColumns[e]=n},i.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},i.prototype.toString=function(){var e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new tg,s=0;s<e.getCodewords().length;s++){n.format("CW %3d:",s);for(var u=0;u<this.barcodeColumnCount+2;u++)if(null!=this.detectionResultColumns[u]){var l=this.detectionResultColumns[u].getCodewords()[s];null!=l?n.format(" %3d|%3d",l.getRowNumber(),l.getValue()):n.format("    |   ")}else n.format("    |   ");n.format("%n")}return n.toString()},i}(),Kf=function(){function i(e,n,s,u){this.rowNumber=i.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(s),this.value=Math.trunc(u)}return i.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},i.prototype.isValidRowNumber=function(e){return e!==i.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},i.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},i.prototype.getWidth=function(){return this.endX-this.startX},i.prototype.getStartX=function(){return this.startX},i.prototype.getEndX=function(){return this.endX},i.prototype.getBucket=function(){return this.bucket},i.prototype.getValue=function(){return this.value},i.prototype.getRowNumber=function(){return this.rowNumber},i.prototype.setRowNumber=function(e){this.rowNumber=e},i.prototype.toString=function(){return this.rowNumber+"|"+this.value},i.BARCODE_ROW_UNKNOWN=-1,i}(),Xf=function(){function i(){}return i.initialize=function(){for(var e=0;e<Zr.SYMBOL_TABLE.length;e++)for(var n=Zr.SYMBOL_TABLE[e],s=1&n,u=0;u<Zr.BARS_IN_MODULE;u++){for(var l=0;(1&n)===s;)l+=1,n>>=1;s=1&n,i.RATIOS_TABLE[e]||(i.RATIOS_TABLE[e]=new Array(Zr.BARS_IN_MODULE)),i.RATIOS_TABLE[e][Zr.BARS_IN_MODULE-u-1]=Math.fround(l/Zr.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},i.getDecodedValue=function(e){var n=i.getDecodedCodewordValue(i.sampleBitCounts(e));return-1!==n?n:i.getClosestDecodedValue(e)},i.sampleBitCounts=function(e){for(var n=wr.sum(e),s=new Int32Array(Zr.BARS_IN_MODULE),u=0,l=0,g=0;g<Zr.MODULES_IN_CODEWORD;g++)l+e[u]<=n/(2*Zr.MODULES_IN_CODEWORD)+g*n/Zr.MODULES_IN_CODEWORD&&(l+=e[u],u++),s[u]++;return s},i.getDecodedCodewordValue=function(e){var n=i.getBitValue(e);return-1===Zr.getCodeword(n)?-1:n},i.getBitValue=function(e){for(var n=0,s=0;s<e.length;s++)for(var u=0;u<e[s];u++)n=n<<1|(s%2==0?1:0);return Math.trunc(n)},i.getClosestDecodedValue=function(e){var n=wr.sum(e),s=new Array(Zr.BARS_IN_MODULE);if(n>1)for(var u=0;u<s.length;u++)s[u]=Math.fround(e[u]/n);var l=ml.MAX_VALUE,g=-1;this.bSymbolTableReady||i.initialize();for(var m=0;m<i.RATIOS_TABLE.length;m++){for(var y=0,T=i.RATIOS_TABLE[m],P=0;P<Zr.BARS_IN_MODULE;P++){var V=Math.fround(T[P]-s[P]);if((y+=Math.fround(V*V))>=l)break}y<l&&(l=y,g=Zr.SYMBOL_TABLE[m])}return g},i.bSymbolTableReady=!1,i.RATIOS_TABLE=new Array(Zr.SYMBOL_TABLE.length).map(function(e){return new Array(Zr.BARS_IN_MODULE)}),i}(),og=function(){function i(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return i.prototype.getSegmentIndex=function(){return this.segmentIndex},i.prototype.setSegmentIndex=function(e){this.segmentIndex=e},i.prototype.getFileId=function(){return this.fileId},i.prototype.setFileId=function(e){this.fileId=e},i.prototype.getOptionalData=function(){return this.optionalData},i.prototype.setOptionalData=function(e){this.optionalData=e},i.prototype.isLastSegment=function(){return this.lastSegment},i.prototype.setLastSegment=function(e){this.lastSegment=e},i.prototype.getSegmentCount=function(){return this.segmentCount},i.prototype.setSegmentCount=function(e){this.segmentCount=e},i.prototype.getSender=function(){return this.sender||null},i.prototype.setSender=function(e){this.sender=e},i.prototype.getAddressee=function(){return this.addressee||null},i.prototype.setAddressee=function(e){this.addressee=e},i.prototype.getFileName=function(){return this.fileName},i.prototype.setFileName=function(e){this.fileName=e},i.prototype.getFileSize=function(){return this.fileSize},i.prototype.setFileSize=function(e){this.fileSize=e},i.prototype.getChecksum=function(){return this.checksum},i.prototype.setChecksum=function(e){this.checksum=e},i.prototype.getTimestamp=function(){return this.timestamp},i.prototype.setTimestamp=function(e){this.timestamp=e},i}(),cu=function(){function i(){}return i.parseLong=function(e,n){return void 0===n&&(n=void 0),parseInt(e,n)},i}();var S0=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const sg=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return S0(e,i),e.kind="NullPointerException",e}(Tn),dd=function(){function i(){}return i.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},i.prototype.writeBytesOffset=function(e,n,s){if(null==e)throw new sg;if(n<0||n>e.length||s<0||n+s>e.length||n+s<0)throw new wu;if(0!==s)for(var u=0;u<s;u++)this.write(e[n+u])},i.prototype.flush=function(){},i.prototype.close=function(){},i}();var Ro=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Vm=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Ro(e,i),e}(Tn);var ag=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Wh=function(i){function e(n){void 0===n&&(n=32);var s=i.call(this)||this;if(s.count=0,n<0)throw new _n("Negative initial size: "+n);return s.buf=new Uint8Array(n),s}return ag(e,i),e.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},e.prototype.grow=function(n){var u=this.buf.length<<1;if(u-n<0&&(u=n),u<0){if(n<0)throw new Vm;u=sr.MAX_VALUE}this.buf=Qr.copyOfUint8Array(this.buf,u)},e.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},e.prototype.writeBytesOffset=function(n,s,u){if(s<0||s>n.length||u<0||s+u-n.length>0)throw new wu;this.ensureCapacity(this.count+u),jr.arraycopy(n,s,this.buf,this.count,u),this.count+=u},e.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Qr.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(n){return n?"string"==typeof n?this.toString_string(n):this.toString_number(n):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(n){return new String(this.buf).toString()},e.prototype.toString_number=function(n){return new String(this.buf).toString()},e.prototype.close=function(){},e}(dd);var hd,si=function(i){return i[i.ALPHA=0]="ALPHA",i[i.LOWER=1]="LOWER",i[i.MIXED=2]="MIXED",i[i.PUNCT=3]="PUNCT",i[i.ALPHA_SHIFT=4]="ALPHA_SHIFT",i[i.PUNCT_SHIFT=5]="PUNCT_SHIFT",i}(si||{});function Zf(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function dc(i){if(typeof hd>"u"&&(hd=Zf()),null===hd)throw new Error("BigInt is not supported!");return hd(i)}const ep=function(){function i(){}return i.decode=function(e,n){var s=new fn(""),u=co.ISO8859_1;s.enableDecoding(u);for(var l=1,g=e[l++],m=new og;l<e[0];){switch(g){case i.TEXT_COMPACTION_MODE_LATCH:l=i.textCompaction(e,l,s);break;case i.BYTE_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:l=i.byteCompaction(g,e,u,l,s);break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(e[l++]);break;case i.NUMERIC_COMPACTION_MODE_LATCH:l=i.numericCompaction(e,l,s);break;case i.ECI_CHARSET:co.getCharacterSetECIByValue(e[l++]);break;case i.ECI_GENERAL_PURPOSE:l+=2;break;case i.ECI_USER_DEFINED:l++;break;case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=i.decodeMacroBlock(e,l,m);break;case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:throw new Qt;default:l--,l=i.textCompaction(e,l,s)}if(!(l<e.length))throw Qt.getFormatInstance();g=e[l++]}if(0===s.length())throw Qt.getFormatInstance();var T=new Ic(null,s.toString(),null,n);return T.setOther(m),T},i.decodeMacroBlock=function(e,n,s){if(n+i.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Qt.getFormatInstance();for(var u=new Int32Array(i.NUMBER_OF_SEQUENCE_CODEWORDS),l=0;l<i.NUMBER_OF_SEQUENCE_CODEWORDS;l++,n++)u[l]=e[n];s.setSegmentIndex(sr.parseInt(i.decodeBase900toBase10(u,i.NUMBER_OF_SEQUENCE_CODEWORDS)));var g=new fn;n=i.textCompaction(e,n,g),s.setFileId(g.toString());var m=-1;for(e[n]===i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=n+1);n<e[0];)switch(e[n]){case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++n]){case i.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var y=new fn;n=i.textCompaction(e,n+1,y),s.setFileName(y.toString());break;case i.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var T=new fn;n=i.textCompaction(e,n+1,T),s.setSender(T.toString());break;case i.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var P=new fn;n=i.textCompaction(e,n+1,P),s.setAddressee(P.toString());break;case i.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var V=new fn;n=i.numericCompaction(e,n+1,V),s.setSegmentCount(sr.parseInt(V.toString()));break;case i.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var $=new fn;n=i.numericCompaction(e,n+1,$),s.setTimestamp(cu.parseLong($.toString()));break;case i.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var q=new fn;n=i.numericCompaction(e,n+1,q),s.setChecksum(sr.parseInt(q.toString()));break;case i.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var se=new fn;n=i.numericCompaction(e,n+1,se),s.setFileSize(cu.parseLong(se.toString()));break;default:throw Qt.getFormatInstance()}break;case i.MACRO_PDF417_TERMINATOR:n++,s.setLastSegment(!0);break;default:throw Qt.getFormatInstance()}if(-1!==m){var ve=n-m;s.isLastSegment()&&ve--,s.setOptionalData(Qr.copyOfRange(e,m,m+ve))}return n},i.textCompaction=function(e,n,s){for(var u=new Int32Array(2*(e[0]-n)),l=new Int32Array(2*(e[0]-n)),g=0,m=!1;n<e[0]&&!m;){var y=e[n++];if(y<i.TEXT_COMPACTION_MODE_LATCH)u[g]=y/30,u[g+1]=y%30,g+=2;else switch(y){case i.TEXT_COMPACTION_MODE_LATCH:u[g++]=i.TEXT_COMPACTION_MODE_LATCH;break;case i.BYTE_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:case i.NUMERIC_COMPACTION_MODE_LATCH:case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:n--,m=!0;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[g]=i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=e[n++],l[g]=y,g++}}return i.decodeTextCompaction(u,l,g,s),n},i.decodeTextCompaction=function(e,n,s,u){for(var l=si.ALPHA,g=si.ALPHA,m=0;m<s;){var y=e[m],T="";switch(l){case si.ALPHA:if(y<26)T=String.fromCharCode(65+y);else switch(y){case 26:T=" ";break;case i.LL:l=si.LOWER;break;case i.ML:l=si.MIXED;break;case i.PS:g=l,l=si.PUNCT_SHIFT;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(n[m]);break;case i.TEXT_COMPACTION_MODE_LATCH:l=si.ALPHA}break;case si.LOWER:if(y<26)T=String.fromCharCode(97+y);else switch(y){case 26:T=" ";break;case i.AS:g=l,l=si.ALPHA_SHIFT;break;case i.ML:l=si.MIXED;break;case i.PS:g=l,l=si.PUNCT_SHIFT;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(n[m]);break;case i.TEXT_COMPACTION_MODE_LATCH:l=si.ALPHA}break;case si.MIXED:if(y<i.PL)T=i.MIXED_CHARS[y];else switch(y){case i.PL:l=si.PUNCT;break;case 26:T=" ";break;case i.LL:l=si.LOWER;break;case i.AL:l=si.ALPHA;break;case i.PS:g=l,l=si.PUNCT_SHIFT;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(n[m]);break;case i.TEXT_COMPACTION_MODE_LATCH:l=si.ALPHA}break;case si.PUNCT:if(y<i.PAL)T=i.PUNCT_CHARS[y];else switch(y){case i.PAL:l=si.ALPHA;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(n[m]);break;case i.TEXT_COMPACTION_MODE_LATCH:l=si.ALPHA}break;case si.ALPHA_SHIFT:if(l=g,y<26)T=String.fromCharCode(65+y);else switch(y){case 26:T=" ";break;case i.TEXT_COMPACTION_MODE_LATCH:l=si.ALPHA}break;case si.PUNCT_SHIFT:if(l=g,y<i.PAL)T=i.PUNCT_CHARS[y];else switch(y){case i.PAL:l=si.ALPHA;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(n[m]);break;case i.TEXT_COMPACTION_MODE_LATCH:l=si.ALPHA}}""!==T&&u.append(T),m++}},i.byteCompaction=function(e,n,s,u,l){var g=new Wh,m=0,y=0,T=!1;switch(e){case i.BYTE_COMPACTION_MODE_LATCH:for(var P=new Int32Array(6),V=n[u++];u<n[0]&&!T;)switch(P[m++]=V,y=900*y+V,V=n[u++],V){case i.TEXT_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH:case i.NUMERIC_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:u--,T=!0;break;default:if(m%5==0&&m>0){for(var $=0;$<6;++$)g.write(Number(dc(y)>>dc(8*(5-$))));y=0,m=0}}u===n[0]&&V<i.TEXT_COMPACTION_MODE_LATCH&&(P[m++]=V);for(var q=0;q<m;q++)g.write(P[q]);break;case i.BYTE_COMPACTION_MODE_LATCH_6:for(;u<n[0]&&!T;){var se=n[u++];if(se<i.TEXT_COMPACTION_MODE_LATCH)m++,y=900*y+se;else switch(se){case i.TEXT_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH:case i.NUMERIC_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:u--,T=!0}if(m%5==0&&m>0){for($=0;$<6;++$)g.write(Number(dc(y)>>dc(8*(5-$))));y=0,m=0}}}return l.append(we.decode(g.toByteArray(),s)),u},i.numericCompaction=function(e,n,s){for(var u=0,l=!1,g=new Int32Array(i.MAX_NUMERIC_CODEWORDS);n<e[0]&&!l;){var m=e[n++];if(n===e[0]&&(l=!0),m<i.TEXT_COMPACTION_MODE_LATCH)g[u]=m,u++;else switch(m){case i.TEXT_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:n--,l=!0}(u%i.MAX_NUMERIC_CODEWORDS==0||m===i.NUMERIC_COMPACTION_MODE_LATCH||l)&&u>0&&(s.append(i.decodeBase900toBase10(g,u)),u=0)}return n},i.decodeBase900toBase10=function(e,n){for(var s=dc(0),u=0;u<n;u++)s+=i.EXP900[n-u-1]*dc(e[u]);var l=s.toString();if("1"!==l.charAt(0))throw new Qt;return l.substring(1)},i.TEXT_COMPACTION_MODE_LATCH=900,i.BYTE_COMPACTION_MODE_LATCH=901,i.NUMERIC_COMPACTION_MODE_LATCH=902,i.BYTE_COMPACTION_MODE_LATCH_6=924,i.ECI_USER_DEFINED=925,i.ECI_GENERAL_PURPOSE=926,i.ECI_CHARSET=927,i.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,i.MACRO_PDF417_TERMINATOR=922,i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,i.MAX_NUMERIC_CODEWORDS=15,i.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,i.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,i.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,i.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,i.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,i.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,i.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,i.PL=25,i.LL=27,i.AS=27,i.ML=28,i.AL=28,i.PS=29,i.PAL=29,i.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",i.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",i.EXP900=Zf()?function Qd(){var i=[];i[0]=dc(1);var e=dc(900);i[1]=e;for(var n=2;n<16;n++)i[n]=i[n-1]*e;return i}():[],i.NUMBER_OF_SEQUENCE_CODEWORDS=2,i}();var fd=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const pd=function(){function i(){}return i.decode=function(e,n,s,u,l,g,m){for(var V,y=new Pm(e,n,s,u,l),T=null,P=null,$=!0;;$=!1){if(null!=n&&(T=i.getRowIndicatorColumn(e,y,n,!0,g,m)),null!=u&&(P=i.getRowIndicatorColumn(e,y,u,!1,g,m)),null==(V=i.merge(T,P)))throw Ke.getNotFoundInstance();var q=V.getBoundingBox();if(!$||null==q||!(q.getMinY()<y.getMinY()||q.getMaxY()>y.getMaxY()))break;y=q}V.setBoundingBox(y);var se=V.getBarcodeColumnCount()+1;V.setDetectionResultColumn(0,T),V.setDetectionResultColumn(se,P);for(var ve=null!=T,De=1;De<=se;De++){var Ve=ve?De:se-De;if(void 0===V.getDetectionResultColumn(Ve)){var Pe=void 0;Pe=0===Ve||Ve===se?new Gh(y,0===Ve):new jh(y),V.setDetectionResultColumn(Ve,Pe);for(var Ye=-1,at=Ye,kt=y.getMinY();kt<=y.getMaxY();kt++){if((Ye=i.getStartColumn(V,Ve,kt,ve))<0||Ye>y.getMaxX()){if(-1===at)continue;Ye=at}var zt=i.detectCodeword(e,y.getMinX(),y.getMaxX(),ve,Ye,kt,g,m);null!=zt&&(Pe.setCodeword(kt,zt),at=Ye,g=Math.min(g,zt.getWidth()),m=Math.max(m,zt.getWidth()))}}}return i.createDecoderResult(V)},i.merge=function(e,n){if(null==e&&null==n)return null;var s=i.getBarcodeMetadata(e,n);if(null==s)return null;var u=Pm.merge(i.adjustBoundingBox(e),i.adjustBoundingBox(n));return new ig(s,u)},i.adjustBoundingBox=function(e){var n,s;if(null==e)return null;var u=e.getRowHeights();if(null==u)return null;var l=i.getMax(u),g=0;try{for(var m=fd(u),y=m.next();!y.done;y=m.next()){var T=y.value;if(g+=l-T,T>0)break}}catch(q){n={error:q}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(n)throw n.error}}for(var P=e.getCodewords(),V=0;g>0&&null==P[V];V++)g--;var $=0;for(V=u.length-1;V>=0&&($+=l-u[V],!(u[V]>0));V--);for(V=P.length-1;$>0&&null==P[V];V--)$--;return e.getBoundingBox().addMissingRows(g,$,e.isLeft())},i.getMax=function(e){var n,s,u=-1;try{for(var l=fd(e),g=l.next();!g.done;g=l.next())u=Math.max(u,g.value)}catch(y){n={error:y}}finally{try{g&&!g.done&&(s=l.return)&&s.call(l)}finally{if(n)throw n.error}}return u},i.getBarcodeMetadata=function(e,n){var s,u;return null==e||null==(s=e.getBarcodeMetadata())?null==n?null:n.getBarcodeMetadata():null==n||null==(u=n.getBarcodeMetadata())?s:s.getColumnCount()!==u.getColumnCount()&&s.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&s.getRowCount()!==u.getRowCount()?null:s},i.getRowIndicatorColumn=function(e,n,s,u,l,g){for(var m=new Gh(n,u),y=0;y<2;y++)for(var T=0===y?1:-1,P=Math.trunc(Math.trunc(s.getX())),V=Math.trunc(Math.trunc(s.getY()));V<=n.getMaxY()&&V>=n.getMinY();V+=T){var $=i.detectCodeword(e,0,e.getWidth(),u,P,V,l,g);null!=$&&(m.setCodeword(V,$),P=u?$.getStartX():$.getEndX())}return m},i.adjustCodewordCount=function(e,n){var s=n[0][1],u=s.getValue(),l=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-i.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===u.length){if(l<1||l>Zr.MAX_CODEWORDS_IN_BARCODE)throw Ke.getNotFoundInstance();s.setValue(l)}else u[0]!==l&&s.setValue(l)},i.createDecoderResult=function(e){var n=i.createBarcodeMatrix(e);i.adjustCodewordCount(e,n);for(var s=new Array,u=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),l=[],g=new Array,m=0;m<e.getBarcodeRowCount();m++)for(var y=0;y<e.getBarcodeColumnCount();y++){var T=n[m][y+1].getValue(),P=m*e.getBarcodeColumnCount()+y;0===T.length?s.push(P):1===T.length?u[P]=T[0]:(g.push(P),l.push(T))}for(var V=new Array(l.length),$=0;$<V.length;$++)V[$]=l[$];return i.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),u,Zr.toIntArray(s),Zr.toIntArray(g),V)},i.createDecoderResultFromAmbiguousValues=function(e,n,s,u,l){for(var g=new Int32Array(u.length),m=100;m-- >0;){for(var y=0;y<g.length;y++)n[u[y]]=l[y][g[y]];try{return i.decodeCodewords(n,e,s)}catch(P){if(!(P instanceof mi))throw P}if(0===g.length)throw mi.getChecksumInstance();for(y=0;y<g.length;y++){if(g[y]<l[y].length-1){g[y]++;break}if(g[y]=0,y===g.length-1)throw mi.getChecksumInstance()}}throw mi.getChecksumInstance()},i.createBarcodeMatrix=function(e){for(var n,s,u,l,g=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),m=0;m<g.length;m++)for(var y=0;y<g[m].length;y++)g[m][y]=new Hh;var T=0;try{for(var P=fd(e.getDetectionResultColumns()),V=P.next();!V.done;V=P.next()){var $=V.value;if(null!=$)try{for(var q=(u=void 0,fd($.getCodewords())),se=q.next();!se.done;se=q.next()){var ve=se.value;if(null!=ve){var De=ve.getRowNumber();if(De>=0){if(De>=g.length)continue;g[De][T].setValue(ve.getValue())}}}}catch(Ve){u={error:Ve}}finally{try{se&&!se.done&&(l=q.return)&&l.call(q)}finally{if(u)throw u.error}}T++}}catch(Ve){n={error:Ve}}finally{try{V&&!V.done&&(s=P.return)&&s.call(P)}finally{if(n)throw n.error}}return g},i.isValidBarcodeColumn=function(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1},i.getStartColumn=function(e,n,s,u){var l,g,m=u?1:-1,y=null;if(i.isValidBarcodeColumn(e,n-m)&&(y=e.getDetectionResultColumn(n-m).getCodeword(s)),null!=y)return u?y.getEndX():y.getStartX();if(null!=(y=e.getDetectionResultColumn(n).getCodewordNearby(s)))return u?y.getStartX():y.getEndX();if(i.isValidBarcodeColumn(e,n-m)&&(y=e.getDetectionResultColumn(n-m).getCodewordNearby(s)),null!=y)return u?y.getEndX():y.getStartX();for(var T=0;i.isValidBarcodeColumn(e,n-m);){n-=m;try{for(var P=(l=void 0,fd(e.getDetectionResultColumn(n).getCodewords())),V=P.next();!V.done;V=P.next()){var $=V.value;if(null!=$)return(u?$.getEndX():$.getStartX())+m*T*($.getEndX()-$.getStartX())}}catch(q){l={error:q}}finally{try{V&&!V.done&&(g=P.return)&&g.call(P)}finally{if(l)throw l.error}}T++}return u?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},i.detectCodeword=function(e,n,s,u,l,g,m,y){l=i.adjustCodewordStartColumn(e,n,s,u,l,g);var T=i.getModuleBitCount(e,n,s,u,l,g);if(null==T)return null;var P,V=wr.sum(T);if(u)P=l+V;else{for(var $=0;$<T.length/2;$++){var q=T[$];T[$]=T[T.length-1-$],T[T.length-1-$]=q}l=(P=l)-V}if(!i.checkCodewordSkew(V,m,y))return null;var se=Xf.getDecodedValue(T),ve=Zr.getCodeword(se);return-1===ve?null:new Kf(l,P,i.getCodewordBucketNumber(se),ve)},i.getModuleBitCount=function(e,n,s,u,l,g){for(var m=l,y=new Int32Array(8),T=0,P=u?1:-1,V=u;(u?m<s:m>=n)&&T<y.length;)e.get(m,g)===V?(y[T]++,m+=P):(T++,V=!V);return T===y.length||m===(u?s:n)&&T===y.length-1?y:null},i.getNumberOfECCodeWords=function(e){return 2<<e},i.adjustCodewordStartColumn=function(e,n,s,u,l,g){for(var m=l,y=u?-1:1,T=0;T<2;T++){for(;(u?m>=n:m<s)&&u===e.get(m,g);){if(Math.abs(l-m)>i.CODEWORD_SKEW_SIZE)return l;m+=y}y=-y,u=!u}return m},i.checkCodewordSkew=function(e,n,s){return n-i.CODEWORD_SKEW_SIZE<=e&&e<=s+i.CODEWORD_SKEW_SIZE},i.decodeCodewords=function(e,n,s){if(0===e.length)throw Qt.getFormatInstance();var u=1<<n+1,l=i.correctErrors(e,s,u);i.verifyCodewordCount(e,u);var g=ep.decode(e,""+n);return g.setErrorsCorrected(l),g.setErasures(s.length),g},i.correctErrors=function(e,n,s){if(null!=n&&n.length>s/2+i.MAX_ERRORS||s<0||s>i.MAX_EC_CODEWORDS)throw mi.getChecksumInstance();return i.errorCorrection.decode(e,s,n)},i.verifyCodewordCount=function(e,n){if(e.length<4)throw Qt.getFormatInstance();var s=e[0];if(s>e.length)throw Qt.getFormatInstance();if(0===s){if(!(n<e.length))throw Qt.getFormatInstance();e[0]=e.length-n}},i.getBitCountForCodeword=function(e){for(var n=new Int32Array(8),s=0,u=n.length-1;!((1&e)!==s&&(s=1&e,u--,u<0));)n[u]++,e>>=1;return n},i.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},i.getCodewordBucketNumber_number=function(e){return i.getCodewordBucketNumber(i.getBitCountForCodeword(e))},i.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},i.toString=function(e){for(var n=new tg,s=0;s<e.length;s++){n.format("Row %2d: ",s);for(var u=0;u<e[s].length;u++){var l=e[s][u];0===l.getValue().length?n.format("        ",null):n.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}n.format("%n")}return n.toString()},i.CODEWORD_SKEW_SIZE=2,i.MAX_ERRORS=3,i.MAX_EC_CODEWORDS=512,i.errorCorrection=new Om,i}(),qh=function(){function i(){}return i.prototype.decode=function(e,n){void 0===n&&(n=null);var s=i.decode(e,n,!1);if(null==s||0===s.length||null==s[0])throw Ke.getNotFoundInstance();return s[0]},i.prototype.decodeMultiple=function(e,n){void 0===n&&(n=null);try{return i.decode(e,n,!0)}catch(s){throw s instanceof Qt||s instanceof mi?Ke.getNotFoundInstance():s}},i.decode=function(e,n,s){var u,l,g=new Array,m=zf.detectMultiple(e,n,s);try{for(var y=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(m.getPoints()),T=y.next();!T.done;T=y.next()){var P=T.value,V=pd.decode(m.getBits(),P[4],P[5],P[6],P[7],i.getMinCodewordWidth(P),i.getMaxCodewordWidth(P)),$=new qi(V.getText(),V.getRawBytes(),void 0,P,cn.PDF_417);$.putMetadata(Zi.ERROR_CORRECTION_LEVEL,V.getECLevel());var q=V.getOther();null!=q&&$.putMetadata(Zi.PDF417_EXTRA_METADATA,q),g.push($)}}catch(se){u={error:se}}finally{try{T&&!T.done&&(l=y.return)&&l.call(y)}finally{if(u)throw u.error}}return g.map(function(se){return se})},i.getMaxWidth=function(e,n){return null==e||null==n?0:Math.trunc(Math.abs(e.getX()-n.getX()))},i.getMinWidth=function(e,n){return null==e||null==n?sr.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))},i.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(i.getMaxWidth(e[0],e[4]),i.getMaxWidth(e[6],e[2])*Zr.MODULES_IN_CODEWORD/Zr.MODULES_IN_STOP_PATTERN),Math.max(i.getMaxWidth(e[1],e[5]),i.getMaxWidth(e[7],e[3])*Zr.MODULES_IN_CODEWORD/Zr.MODULES_IN_STOP_PATTERN)))},i.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(i.getMinWidth(e[0],e[4]),i.getMinWidth(e[6],e[2])*Zr.MODULES_IN_CODEWORD/Zr.MODULES_IN_STOP_PATTERN),Math.min(i.getMinWidth(e[1],e[5]),i.getMinWidth(e[7],e[3])*Zr.MODULES_IN_CODEWORD/Zr.MODULES_IN_STOP_PATTERN)))},i.prototype.reset=function(){},i}();var Yd=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const ug=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Yd(e,i),e.kind="ReaderException",e}(Tn);var cg=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const Hm=function(){function i(){}return i.prototype.decode=function(e,n){return this.setHints(n),this.decodeInternal(e)},i.prototype.decodeWithState=function(e){return null==this.readers&&this.setHints(null),this.decodeInternal(e)},i.prototype.setHints=function(e){this.hints=e;var n=null!=e&&void 0!==e.get(Ln.TRY_HARDER),s=null==e?null:e.get(Ln.POSSIBLE_FORMATS),u=new Array;if(null!=s){var l=s.some(function(g){return g===cn.UPC_A||g===cn.UPC_E||g===cn.EAN_13||g===cn.EAN_8||g===cn.CODABAR||g===cn.CODE_39||g===cn.CODE_93||g===cn.CODE_128||g===cn.ITF||g===cn.RSS_14||g===cn.RSS_EXPANDED});l&&!n&&u.push(new eo(e)),s.includes(cn.QR_CODE)&&u.push(new zd),s.includes(cn.DATA_MATRIX)&&u.push(new Fh),s.includes(cn.AZTEC)&&u.push(new ke),s.includes(cn.PDF_417)&&u.push(new qh),l&&n&&u.push(new eo(e))}0===u.length&&(n||u.push(new eo(e)),u.push(new zd),u.push(new Fh),u.push(new ke),u.push(new qh),n&&u.push(new eo(e))),this.readers=u},i.prototype.reset=function(){var e,n;if(null!==this.readers)try{for(var s=cg(this.readers),u=s.next();!u.done;u=s.next())u.value.reset()}catch(g){e={error:g}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},i.prototype.decodeInternal=function(e){var n,s;if(null===this.readers)throw new ug("No readers where selected, nothing can be read.");try{for(var u=cg(this.readers),l=u.next();!l.done;l=u.next()){var g=l.value;try{return g.decode(e,this.hints)}catch(m){if(m instanceof ug)continue}}}catch(m){n={error:m}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(n)throw n.error}}throw new Ke("No MultiFormat Readers were able to detect the code.")},i}();var M0=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),Gm=(function(i){function e(n,s){void 0===n&&(n=null),void 0===s&&(s=500);var l=new Hm;return l.setHints(n),i.call(this,l,s)||this}M0(e,i),e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)}}(ia),function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}()),lg=(function(i){Gm(function e(n){return void 0===n&&(n=500),i.call(this,new qh,n)||this},i)}(ia),function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}()),dg=(function(i){lg(function e(n){return void 0===n&&(n=500),i.call(this,new zd,n)||this},i)}(ia),function(i){return i[i.ERROR_CORRECTION=0]="ERROR_CORRECTION",i[i.CHARACTER_SET=1]="CHARACTER_SET",i[i.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",i[i.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",i[i.MIN_SIZE=4]="MIN_SIZE",i[i.MAX_SIZE=5]="MAX_SIZE",i[i.MARGIN=6]="MARGIN",i[i.PDF417_COMPACT=7]="PDF417_COMPACT",i[i.PDF417_COMPACTION=8]="PDF417_COMPACTION",i[i.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",i[i.AZTEC_LAYERS=10]="AZTEC_LAYERS",i[i.QR_VERSION=11]="QR_VERSION",i[i.GS1_FORMAT=12]="GS1_FORMAT",i[i.FORCE_C40=13]="FORCE_C40",i}(dg||{}));const Er=dg,hg=function(){function i(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Ja(e,Int32Array.from([1])))}return i.prototype.buildGenerator=function(e){var n=this.cachedGenerators;if(e>=n.length)for(var s=n[n.length-1],u=this.field,l=n.length;l<=e;l++){var g=s.multiply(new Ja(u,Int32Array.from([1,u.exp(l-1+u.getGeneratorBase())])));n.push(g),s=g}return n[e]},i.prototype.encode=function(e,n){if(0===n)throw new _n("No error correction bytes");var s=e.length-n;if(s<=0)throw new _n("No data bytes provided");var u=this.buildGenerator(n),l=new Int32Array(s);jr.arraycopy(e,0,l,0,s);for(var g=new Ja(this.field,l),y=(g=g.multiplyByMonomial(n,1)).divide(u)[1].getCoefficients(),T=n-y.length,P=0;P<T;P++)e[s+P]=0;jr.arraycopy(y,0,e,s+T,y.length)},i}(),Zd=function(){function i(){}return i.applyMaskPenaltyRule1=function(e){return i.applyMaskPenaltyRule1Internal(e,!0)+i.applyMaskPenaltyRule1Internal(e,!1)},i.applyMaskPenaltyRule2=function(e){for(var n=0,s=e.getArray(),u=e.getWidth(),l=e.getHeight(),g=0;g<l-1;g++)for(var m=s[g],y=0;y<u-1;y++){var T=m[y];T===m[y+1]&&T===s[g+1][y]&&T===s[g+1][y+1]&&n++}return i.N2*n},i.applyMaskPenaltyRule3=function(e){for(var n=0,s=e.getArray(),u=e.getWidth(),l=e.getHeight(),g=0;g<l;g++)for(var m=0;m<u;m++){var y=s[g];m+6<u&&1===y[m]&&0===y[m+1]&&1===y[m+2]&&1===y[m+3]&&1===y[m+4]&&0===y[m+5]&&1===y[m+6]&&(i.isWhiteHorizontal(y,m-4,m)||i.isWhiteHorizontal(y,m+7,m+11))&&n++,g+6<l&&1===s[g][m]&&0===s[g+1][m]&&1===s[g+2][m]&&1===s[g+3][m]&&1===s[g+4][m]&&0===s[g+5][m]&&1===s[g+6][m]&&(i.isWhiteVertical(s,m,g-4,g)||i.isWhiteVertical(s,m,g+7,g+11))&&n++}return n*i.N3},i.isWhiteHorizontal=function(e,n,s){n=Math.max(n,0),s=Math.min(s,e.length);for(var u=n;u<s;u++)if(1===e[u])return!1;return!0},i.isWhiteVertical=function(e,n,s,u){s=Math.max(s,0),u=Math.min(u,e.length);for(var l=s;l<u;l++)if(1===e[l][n])return!1;return!0},i.applyMaskPenaltyRule4=function(e){for(var n=0,s=e.getArray(),u=e.getWidth(),l=e.getHeight(),g=0;g<l;g++)for(var m=s[g],y=0;y<u;y++)1===m[y]&&n++;var T=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*n-T)/T)*i.N4},i.getDataMaskBit=function(e,n,s){var u,l;switch(e){case 0:u=s+n&1;break;case 1:u=1&s;break;case 2:u=n%3;break;case 3:u=(s+n)%3;break;case 4:u=Math.floor(s/2)+Math.floor(n/3)&1;break;case 5:u=(1&(l=s*n))+l%3;break;case 6:u=(1&(l=s*n))+l%3&1;break;case 7:u=(l=s*n)%3+(s+n&1)&1;break;default:throw new _n("Invalid mask pattern: "+e)}return 0===u},i.applyMaskPenaltyRule1Internal=function(e,n){for(var s=0,u=n?e.getHeight():e.getWidth(),l=n?e.getWidth():e.getHeight(),g=e.getArray(),m=0;m<u;m++){for(var y=0,T=-1,P=0;P<l;P++){var V=n?g[m][P]:g[P][m];V===T?y++:(y>=5&&(s+=i.N1+(y-5)),y=1,T=V)}y>=5&&(s+=i.N1+(y-5))}return s},i.N1=3,i.N2=3,i.N3=40,i.N4=10,i}(),$m=function(){function i(e,n){this.width=e,this.height=n;for(var s=new Array(n),u=0;u!==n;u++)s[u]=new Uint8Array(e);this.bytes=s}return i.prototype.getHeight=function(){return this.height},i.prototype.getWidth=function(){return this.width},i.prototype.get=function(e,n){return this.bytes[n][e]},i.prototype.getArray=function(){return this.bytes},i.prototype.setNumber=function(e,n,s){this.bytes[n][e]=s},i.prototype.setBoolean=function(e,n,s){this.bytes[n][e]=s?1:0},i.prototype.clear=function(e){var n,s;try{for(var u=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.bytes),l=u.next();!l.done;l=u.next())Qr.fill(l.value,e)}catch(m){n={error:m}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(n)throw n.error}}},i.prototype.equals=function(e){if(!(e instanceof i))return!1;var n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(var s=0,u=this.height;s<u;++s)for(var l=this.bytes[s],g=n.bytes[s],m=0,y=this.width;m<y;++m)if(l[m]!==g[m])return!1;return!0},i.prototype.toString=function(){for(var e=new fn,n=0,s=this.height;n<s;++n){for(var u=this.bytes[n],l=0,g=this.width;l<g;++l)switch(u[l]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()},i}(),Sr=function(){function i(){this.maskPattern=-1}return i.prototype.getMode=function(){return this.mode},i.prototype.getECLevel=function(){return this.ecLevel},i.prototype.getVersion=function(){return this.version},i.prototype.getMaskPattern=function(){return this.maskPattern},i.prototype.getMatrix=function(){return this.matrix},i.prototype.toString=function(){var e=new fn;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()},i.prototype.setMode=function(e){this.mode=e},i.prototype.setECLevel=function(e){this.ecLevel=e},i.prototype.setVersion=function(e){this.version=e},i.prototype.setMaskPattern=function(e){this.maskPattern=e},i.prototype.setMatrix=function(e){this.matrix=e},i.isValidMaskPattern=function(e){return e>=0&&e<i.NUM_MASK_PATTERNS},i.NUM_MASK_PATTERNS=8,i}();var gd=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const wi=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return gd(e,i),e.kind="WriterException",e}(Tn),Jo=function(){function i(){}return i.clearMatrix=function(e){e.clear(255)},i.buildMatrix=function(e,n,s,u,l){i.clearMatrix(l),i.embedBasicPatterns(s,l),i.embedTypeInfo(n,u,l),i.maybeEmbedVersionInfo(s,l),i.embedDataBits(e,u,l)},i.embedBasicPatterns=function(e,n){i.embedPositionDetectionPatternsAndSeparators(n),i.embedDarkDotAtLeftBottomCorner(n),i.maybeEmbedPositionAdjustmentPatterns(e,n),i.embedTimingPatterns(n)},i.embedTypeInfo=function(e,n,s){var u=new _i;i.makeTypeInfoBits(e,n,u);for(var l=0,g=u.getSize();l<g;++l){var m=u.get(u.getSize()-1-l),y=i.TYPE_INFO_COORDINATES[l];if(s.setBoolean(y[0],y[1],m),l<8){var V=s.getWidth()-l-1;s.setBoolean(V,$=8,m)}else{V=8;var $=s.getHeight()-7+(l-8);s.setBoolean(V,$,m)}}},i.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var s=new _i;i.makeVersionInfoBits(e,s);for(var u=17,l=0;l<6;++l)for(var g=0;g<3;++g){var m=s.get(u);u--,n.setBoolean(l,n.getHeight()-11+g,m),n.setBoolean(n.getHeight()-11+g,l,m)}}},i.embedDataBits=function(e,n,s){for(var u=0,l=-1,g=s.getWidth()-1,m=s.getHeight()-1;g>0;){for(6===g&&(g-=1);m>=0&&m<s.getHeight();){for(var y=0;y<2;++y){var T=g-y;if(i.isEmpty(s.get(T,m))){var P=void 0;u<e.getSize()?(P=e.get(u),++u):P=!1,255!==n&&Zd.getDataMaskBit(n,T,m)&&(P=!P),s.setBoolean(T,m,P)}}m+=l}m+=l=-l,g-=2}if(u!==e.getSize())throw new wi("Not all bits consumed: "+u+"/"+e.getSize())},i.findMSBSet=function(e){return 32-sr.numberOfLeadingZeros(e)},i.calculateBCHCode=function(e,n){if(0===n)throw new _n("0 polynomial");var s=i.findMSBSet(n);for(e<<=s-1;i.findMSBSet(e)>=s;)e^=n<<i.findMSBSet(e)-s;return e},i.makeTypeInfoBits=function(e,n,s){if(!Sr.isValidMaskPattern(n))throw new wi("Invalid mask pattern");var u=e.getBits()<<3|n;s.appendBits(u,5);var l=i.calculateBCHCode(u,i.TYPE_INFO_POLY);s.appendBits(l,10);var g=new _i;if(g.appendBits(i.TYPE_INFO_MASK_PATTERN,15),s.xor(g),15!==s.getSize())throw new wi("should not happen but we got: "+s.getSize())},i.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var s=i.calculateBCHCode(e.getVersionNumber(),i.VERSION_INFO_POLY);if(n.appendBits(s,12),18!==n.getSize())throw new wi("should not happen but we got: "+n.getSize())},i.isEmpty=function(e){return 255===e},i.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var s=(n+1)%2;i.isEmpty(e.get(n,6))&&e.setNumber(n,6,s),i.isEmpty(e.get(6,n))&&e.setNumber(6,n,s)}},i.embedDarkDotAtLeftBottomCorner=function(e){if(0===e.get(8,e.getHeight()-8))throw new wi;e.setNumber(8,e.getHeight()-8,1)},i.embedHorizontalSeparationPattern=function(e,n,s){for(var u=0;u<8;++u){if(!i.isEmpty(s.get(e+u,n)))throw new wi;s.setNumber(e+u,n,0)}},i.embedVerticalSeparationPattern=function(e,n,s){for(var u=0;u<7;++u){if(!i.isEmpty(s.get(e,n+u)))throw new wi;s.setNumber(e,n+u,0)}},i.embedPositionAdjustmentPattern=function(e,n,s){for(var u=0;u<5;++u)for(var l=i.POSITION_ADJUSTMENT_PATTERN[u],g=0;g<5;++g)s.setNumber(e+g,n+u,l[g])},i.embedPositionDetectionPattern=function(e,n,s){for(var u=0;u<7;++u)for(var l=i.POSITION_DETECTION_PATTERN[u],g=0;g<7;++g)s.setNumber(e+g,n+u,l[g])},i.embedPositionDetectionPatternsAndSeparators=function(e){var n=i.POSITION_DETECTION_PATTERN[0].length;i.embedPositionDetectionPattern(0,0,e),i.embedPositionDetectionPattern(e.getWidth()-n,0,e),i.embedPositionDetectionPattern(0,e.getWidth()-n,e),i.embedHorizontalSeparationPattern(0,7,e),i.embedHorizontalSeparationPattern(e.getWidth()-8,7,e),i.embedHorizontalSeparationPattern(0,e.getWidth()-8,e),i.embedVerticalSeparationPattern(7,0,e),i.embedVerticalSeparationPattern(e.getHeight()-7-1,0,e),i.embedVerticalSeparationPattern(7,e.getHeight()-7,e)},i.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var s=e.getVersionNumber()-1,u=i.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s],l=0,g=u.length;l!==g;l++){var m=u[l];if(m>=0)for(var y=0;y!==g;y++){var T=u[y];T>=0&&i.isEmpty(n.get(T,m))&&i.embedPositionAdjustmentPattern(T-2,m-2,n)}}},i.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),i.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),i.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),i.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),i.VERSION_INFO_POLY=7973,i.TYPE_INFO_POLY=1335,i.TYPE_INFO_MASK_PATTERN=21522,i}(),Fc=function(){function i(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}return i.prototype.getDataBytes=function(){return this.dataBytes},i.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},i}();var np=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const Kh=function(){function i(){}return i.calculateMaskPenalty=function(e){return Zd.applyMaskPenaltyRule1(e)+Zd.applyMaskPenaltyRule2(e)+Zd.applyMaskPenaltyRule3(e)+Zd.applyMaskPenaltyRule4(e)},i.encode=function(e,n,s){void 0===s&&(s=null);var u=i.DEFAULT_BYTE_MODE_ENCODING,l=null!==s&&void 0!==s.get(Er.CHARACTER_SET);l&&(u=s.get(Er.CHARACTER_SET).toString());var g=this.chooseMode(e,u),m=new _i;if(g===to.BYTE&&(l||i.DEFAULT_BYTE_MODE_ENCODING!==u)){var y=co.getCharacterSetECIByName(u);void 0!==y&&this.appendECI(y,m)}this.appendModeInfo(g,m);var P,T=new _i;if(this.appendBytes(e,g,T,u),null!==s&&void 0!==s.get(Er.QR_VERSION)){var V=Number.parseInt(s.get(Er.QR_VERSION).toString(),10);P=Rs.getVersionForNumber(V);var $=this.calculateBitsNeeded(g,m,T,P);if(!this.willFit($,P,n))throw new wi("Data too big for requested version")}else P=this.recommendVersion(n,g,m,T);var q=new _i;q.appendBitArray(m);var se=g===to.BYTE?T.getSizeInBytes():e.length;this.appendLengthInfo(se,P,g,q),q.appendBitArray(T);var ve=P.getECBlocksForLevel(n),De=P.getTotalCodewords()-ve.getTotalECCodewords();this.terminateBits(De,q);var Ve=this.interleaveWithECBytes(q,P.getTotalCodewords(),De,ve.getNumBlocks()),Pe=new Sr;Pe.setECLevel(n),Pe.setMode(g),Pe.setVersion(P);var Ye=P.getDimensionForVersion(),at=new $m(Ye,Ye),kt=this.chooseMaskPattern(Ve,n,P,at);return Pe.setMaskPattern(kt),Jo.buildMatrix(Ve,n,P,kt,at),Pe.setMatrix(at),Pe},i.recommendVersion=function(e,n,s,u){var l=this.calculateBitsNeeded(n,s,u,Rs.getVersionForNumber(1)),g=this.chooseVersion(l,e),m=this.calculateBitsNeeded(n,s,u,g);return this.chooseVersion(m,e)},i.calculateBitsNeeded=function(e,n,s,u){return n.getSize()+e.getCharacterCountBits(u)+s.getSize()},i.getAlphanumericCode=function(e){return e<i.ALPHANUMERIC_TABLE.length?i.ALPHANUMERIC_TABLE[e]:-1},i.chooseMode=function(e,n){if(void 0===n&&(n=null),co.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return to.KANJI;for(var s=!1,u=!1,l=0,g=e.length;l<g;++l){var m=e.charAt(l);if(i.isDigit(m))s=!0;else{if(-1===this.getAlphanumericCode(m.charCodeAt(0)))return to.BYTE;u=!0}}return u?to.ALPHANUMERIC:s?to.NUMERIC:to.BYTE},i.isOnlyDoubleByteKanji=function(e){var n;try{n=we.encode(e,co.SJIS)}catch{return!1}var s=n.length;if(s%2!=0)return!1;for(var u=0;u<s;u+=2){var l=255&n[u];if((l<129||l>159)&&(l<224||l>235))return!1}return!0},i.chooseMaskPattern=function(e,n,s,u){for(var l=Number.MAX_SAFE_INTEGER,g=-1,m=0;m<Sr.NUM_MASK_PATTERNS;m++){Jo.buildMatrix(e,n,s,m,u);var y=this.calculateMaskPenalty(u);y<l&&(l=y,g=m)}return g},i.chooseVersion=function(e,n){for(var s=1;s<=40;s++){var u=Rs.getVersionForNumber(s);if(i.willFit(e,u,n))return u}throw new wi("Data too big")},i.willFit=function(e,n,s){return n.getTotalCodewords()-n.getECBlocksForLevel(s).getTotalECCodewords()>=(e+7)/8},i.terminateBits=function(e,n){var s=8*e;if(n.getSize()>s)throw new wi("data bits cannot fit in the QR Code"+n.getSize()+" > "+s);for(var u=0;u<4&&n.getSize()<s;++u)n.appendBit(!1);var l=7&n.getSize();if(l>0)for(u=l;u<8;u++)n.appendBit(!1);var g=e-n.getSizeInBytes();for(u=0;u<g;++u)n.appendBits(1&u?17:236,8);if(n.getSize()!==s)throw new wi("Bits size does not equal capacity")},i.getNumDataBytesAndNumECBytesForBlockID=function(e,n,s,u,l,g){if(u>=s)throw new wi("Block ID too large");var m=e%s,y=s-m,T=Math.floor(e/s),P=T+1,V=Math.floor(n/s),$=V+1,q=T-V,se=P-$;if(q!==se)throw new wi("EC bytes mismatch");if(s!==y+m)throw new wi("RS blocks mismatch");if(e!==(V+q)*y+($+se)*m)throw new wi("Total bytes mismatch");u<y?(l[0]=V,g[0]=q):(l[0]=$,g[0]=se)},i.interleaveWithECBytes=function(e,n,s,u){var l,g,m,y;if(e.getSizeInBytes()!==s)throw new wi("Number of bits and data bytes does not match");for(var T=0,P=0,V=0,$=new Array,q=0;q<u;++q){var se=new Int32Array(1),ve=new Int32Array(1);i.getNumDataBytesAndNumECBytesForBlockID(n,s,u,q,se,ve);var De=se[0],Ve=new Uint8Array(De);e.toBytes(8*T,Ve,0,De);var Pe=i.generateECBytes(Ve,ve[0]);$.push(new Fc(Ve,Pe)),P=Math.max(P,De),V=Math.max(V,Pe.length),T+=se[0]}if(s!==T)throw new wi("Data bytes does not match offset");var Ye=new _i;for(q=0;q<P;++q)try{for(var at=(l=void 0,np($)),kt=at.next();!kt.done;kt=at.next())q<(Ve=kt.value.getDataBytes()).length&&Ye.appendBits(Ve[q],8)}catch(ir){l={error:ir}}finally{try{kt&&!kt.done&&(g=at.return)&&g.call(at)}finally{if(l)throw l.error}}for(q=0;q<V;++q)try{for(var Kt=(m=void 0,np($)),mn=Kt.next();!mn.done;mn=Kt.next())q<(Pe=mn.value.getErrorCorrectionBytes()).length&&Ye.appendBits(Pe[q],8)}catch(ir){m={error:ir}}finally{try{mn&&!mn.done&&(y=Kt.return)&&y.call(Kt)}finally{if(m)throw m.error}}if(n!==Ye.getSizeInBytes())throw new wi("Interleaving error: "+n+" and "+Ye.getSizeInBytes()+" differ.");return Ye},i.generateECBytes=function(e,n){for(var s=e.length,u=new Int32Array(s+n),l=0;l<s;l++)u[l]=255&e[l];new hg(fi.QR_CODE_FIELD_256).encode(u,n);var g=new Uint8Array(n);for(l=0;l<n;l++)g[l]=u[s+l];return g},i.appendModeInfo=function(e,n){n.appendBits(e.getBits(),4)},i.appendLengthInfo=function(e,n,s,u){var l=s.getCharacterCountBits(n);if(e>=1<<l)throw new wi(e+" is bigger than "+((1<<l)-1));u.appendBits(e,l)},i.appendBytes=function(e,n,s,u){switch(n){case to.NUMERIC:i.appendNumericBytes(e,s);break;case to.ALPHANUMERIC:i.appendAlphanumericBytes(e,s);break;case to.BYTE:i.append8BitBytes(e,s,u);break;case to.KANJI:i.appendKanjiBytes(e,s);break;default:throw new wi("Invalid mode: "+n)}},i.getDigit=function(e){return e.charCodeAt(0)-48},i.isDigit=function(e){var n=i.getDigit(e);return n>=0&&n<=9},i.appendNumericBytes=function(e,n){for(var s=e.length,u=0;u<s;){var l=i.getDigit(e.charAt(u));if(u+2<s){var g=i.getDigit(e.charAt(u+1)),m=i.getDigit(e.charAt(u+2));n.appendBits(100*l+10*g+m,10),u+=3}else u+1<s?(g=i.getDigit(e.charAt(u+1)),n.appendBits(10*l+g,7),u+=2):(n.appendBits(l,4),u++)}},i.appendAlphanumericBytes=function(e,n){for(var s=e.length,u=0;u<s;){var l=i.getAlphanumericCode(e.charCodeAt(u));if(-1===l)throw new wi;if(u+1<s){var g=i.getAlphanumericCode(e.charCodeAt(u+1));if(-1===g)throw new wi;n.appendBits(45*l+g,11),u+=2}else n.appendBits(l,6),u++}},i.append8BitBytes=function(e,n,s){var u;try{u=we.encode(e,s)}catch(y){throw new wi(y)}for(var l=0,g=u.length;l!==g;l++)n.appendBits(u[l],8)},i.appendKanjiBytes=function(e,n){var s;try{s=we.encode(e,co.SJIS)}catch(V){throw new wi(V)}for(var u=s.length,l=0;l<u;l+=2){var y=(255&s[l])<<8&4294967295|255&s[l+1],T=-1;if(y>=33088&&y<=40956?T=y-33088:y>=57408&&y<=60351&&(T=y-49472),-1===T)throw new wi("Invalid byte sequence");n.appendBits(192*(T>>8)+(255&T),13)}},i.appendECI=function(e,n){n.appendBits(to.ECI.getBits(),4),n.appendBits(e.getValue(),8)},i.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),i.DEFAULT_BYTE_MODE_ENCODING=co.UTF8.getName(),i}();!function(){function i(){}i.prototype.write=function(e,n,s,u){if(void 0===u&&(u=null),0===e.length)throw new _n("Found empty contents");if(n<0||s<0)throw new _n("Requested dimensions are too small: "+n+"x"+s);var l=ic.L,g=i.QUIET_ZONE_SIZE;null!==u&&(void 0!==u.get(Er.ERROR_CORRECTION)&&(l=ic.fromString(u.get(Er.ERROR_CORRECTION).toString())),void 0!==u.get(Er.MARGIN)&&(g=Number.parseInt(u.get(Er.MARGIN).toString(),10)));var m=Kh.encode(e,l,u);return this.renderResult(m,n,s,g)},i.prototype.writeToDom=function(e,n,s,u,l){void 0===l&&(l=null),"string"==typeof e&&(e=document.querySelector(e));var g=this.write(n,s,u,l);e&&e.appendChild(g)},i.prototype.renderResult=function(e,n,s,u){var l=e.getMatrix();if(null===l)throw new Zo;for(var g=l.getWidth(),m=l.getHeight(),y=g+2*u,T=m+2*u,P=Math.max(n,y),V=Math.max(s,T),$=Math.min(Math.floor(P/y),Math.floor(V/T)),q=Math.floor((P-g*$)/2),se=Math.floor((V-m*$)/2),ve=this.createSVGElement(P,V),De=0,Ve=se;De<m;De++,Ve+=$)for(var Pe=0,Ye=q;Pe<g;Pe++,Ye+=$)if(1===l.get(Pe,De)){var at=this.createSvgRectElement(Ye,Ve,$,$);ve.appendChild(at)}return ve},i.prototype.createSVGElement=function(e,n){var s=document.createElementNS(i.SVG_NS,"svg");return s.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width",n.toString()),s},i.prototype.createSvgRectElement=function(e,n,s,u){var l=document.createElementNS(i.SVG_NS,"rect");return l.setAttributeNS(null,"x",e.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",u.toString()),l.setAttributeNS(null,"fill","#000000"),l},i.QUIET_ZONE_SIZE=4,i.SVG_NS="http://www.w3.org/2000/svg"}();!function(){function i(){}i.prototype.encode=function(e,n,s,u,l){if(0===e.length)throw new _n("Found empty contents");if(n!==cn.QR_CODE)throw new _n("Can only encode QR_CODE, but got "+n);if(s<0||u<0)throw new _n("Requested dimensions are too small: "+s+"x"+u);var g=ic.L,m=i.QUIET_ZONE_SIZE;null!==l&&(void 0!==l.get(Er.ERROR_CORRECTION)&&(g=ic.fromString(l.get(Er.ERROR_CORRECTION).toString())),void 0!==l.get(Er.MARGIN)&&(m=Number.parseInt(l.get(Er.MARGIN).toString(),10)));var y=Kh.encode(e,g,l);return i.renderResult(y,s,u,m)},i.renderResult=function(e,n,s,u){var l=e.getMatrix();if(null===l)throw new Zo;for(var g=l.getWidth(),m=l.getHeight(),y=g+2*u,T=m+2*u,P=Math.max(n,y),V=Math.max(s,T),$=Math.min(Math.floor(P/y),Math.floor(V/T)),q=Math.floor((P-g*$)/2),se=Math.floor((V-m*$)/2),ve=new tr(P,V),De=0,Ve=se;De<m;De++,Ve+=$)for(var Pe=0,Ye=q;Pe<g;Pe++,Ye+=$)1===l.get(Pe,De)&&ve.setRegion(Ye,Ve,$,$);return ve},i.QUIET_ZONE_SIZE=4}();var s1=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();!function(i){function e(n,s,u,l,g,m,y,T){var P=i.call(this,m,y)||this;if(P.yuvData=n,P.dataWidth=s,P.dataHeight=u,P.left=l,P.top=g,l+m>s||g+y>u)throw new _n("Crop rectangle does not fit within image data.");return T&&P.reverseHorizontal(m,y),P}s1(e,i),e.prototype.getRow=function(n,s){if(n<0||n>=this.getHeight())throw new _n("Requested row is outside the image: "+n);var u=this.getWidth();return(null==s||s.length<u)&&(s=new Uint8ClampedArray(u)),jr.arraycopy(this.yuvData,(n+this.top)*this.dataWidth+this.left,s,0,u),s},e.prototype.getMatrix=function(){var n=this.getWidth(),s=this.getHeight();if(n===this.dataWidth&&s===this.dataHeight)return this.yuvData;var u=n*s,l=new Uint8ClampedArray(u),g=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return jr.arraycopy(this.yuvData,g,l,0,u),l;for(var m=0;m<s;m++)jr.arraycopy(this.yuvData,g,l,m*n,n),g+=this.dataWidth;return l},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,s,u,l){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+s,u,l,!1)},e.prototype.renderThumbnail=function(){for(var n=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(n*s),l=this.yuvData,g=this.top*this.dataWidth+this.left,m=0;m<s;m++){for(var y=m*n,T=0;T<n;T++)u[y+T]=4278190080|65793*(255&l[g+T*e.THUMBNAIL_SCALE_FACTOR]);g+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return u},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(n,s){for(var u=this.yuvData,l=0,g=this.top*this.dataWidth+this.left;l<s;l++,g+=this.dataWidth)for(var m=g+n/2,y=g,T=g+n-1;y<m;y++,T--){var P=u[y];u[y]=u[T],u[T]=P}},e.prototype.invert=function(){return new xs(this)},e.THUMBNAIL_SCALE_FACTOR=2}(vn);var Wm=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();!function(i){function e(n,s,u,l,g,m,y){var T=i.call(this,s,u)||this;if(T.dataWidth=l,T.dataHeight=g,T.left=m,T.top=y,4===n.BYTES_PER_ELEMENT){for(var P=s*u,V=new Uint8ClampedArray(P),$=0;$<P;$++){var q=n[$];V[$]=((q>>16&255)+(q>>7&510)+(255&q))/4&255}T.luminances=V}else T.luminances=n;if(void 0===l&&(T.dataWidth=s),void 0===g&&(T.dataHeight=u),void 0===m&&(T.left=0),void 0===y&&(T.top=0),T.left+s>T.dataWidth||T.top+u>T.dataHeight)throw new _n("Crop rectangle does not fit within image data.");return T}Wm(e,i),e.prototype.getRow=function(n,s){if(n<0||n>=this.getHeight())throw new _n("Requested row is outside the image: "+n);var u=this.getWidth();return(null==s||s.length<u)&&(s=new Uint8ClampedArray(u)),jr.arraycopy(this.luminances,(n+this.top)*this.dataWidth+this.left,s,0,u),s},e.prototype.getMatrix=function(){var n=this.getWidth(),s=this.getHeight();if(n===this.dataWidth&&s===this.dataHeight)return this.luminances;var u=n*s,l=new Uint8ClampedArray(u),g=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return jr.arraycopy(this.luminances,g,l,0,u),l;for(var m=0;m<s;m++)jr.arraycopy(this.luminances,g,l,m*n,n),g+=this.dataWidth;return l},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,s,u,l){return new e(this.luminances,u,l,this.dataWidth,this.dataHeight,this.left+n,this.top+s)},e.prototype.invert=function(){return new xs(this)}}(vn);var lu=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Qh=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return lu(e,i),e.forName=function(n){return this.getCharacterSetECIByName(n)},e}(co),a1=function(){function i(){}return i.ISO_8859_1=co.ISO8859_1,i}(),wa=function(){function i(e,n,s){this.codewords=e,this.numcols=n,this.numrows=s,this.bits=new Uint8Array(n*s),Qr.fill(this.bits,2)}return i.prototype.getNumrows=function(){return this.numrows},i.prototype.getNumcols=function(){return this.numcols},i.prototype.getBits=function(){return this.bits},i.prototype.getBit=function(e,n){return 1===this.bits[n*this.numcols+e]},i.prototype.setBit=function(e,n,s){this.bits[n*this.numcols+e]=s?1:0},i.prototype.noBit=function(e,n){return 2===this.bits[n*this.numcols+e]},i.prototype.place=function(){var e=0,n=4,s=0;do{n===this.numrows&&0===s&&this.corner1(e++),n===this.numrows-2&&0===s&&this.numcols%4!=0&&this.corner2(e++),n===this.numrows-2&&0===s&&this.numcols%8==4&&this.corner3(e++),n===this.numrows+4&&2===s&&this.numcols%8==0&&this.corner4(e++);do{n<this.numrows&&s>=0&&this.noBit(s,n)&&this.utah(n,s,e++),n-=2,s+=2}while(n>=0&&s<this.numcols);n++,s+=3;do{n>=0&&s<this.numcols&&this.noBit(s,n)&&this.utah(n,s,e++),n+=2,s-=2}while(n<this.numrows&&s>=0);n+=3,s++}while(n<this.numrows||s<this.numcols);this.noBit(this.numcols-1,this.numrows-1)&&(this.setBit(this.numcols-1,this.numrows-1,!0),this.setBit(this.numcols-2,this.numrows-2,!0))},i.prototype.module=function(e,n,s,u){e<0&&(e+=this.numrows,n+=4-(this.numrows+4)%8),n<0&&(n+=this.numcols,e+=4-(this.numcols+4)%8);var l=this.codewords.charCodeAt(s);this.setBit(n,e,0!=(l&=1<<8-u))},i.prototype.utah=function(e,n,s){this.module(e-2,n-2,s,1),this.module(e-2,n-1,s,2),this.module(e-1,n-2,s,3),this.module(e-1,n-1,s,4),this.module(e-1,n,s,5),this.module(e,n-2,s,6),this.module(e,n-1,s,7),this.module(e,n,s,8)},i.prototype.corner1=function(e){this.module(this.numrows-1,0,e,1),this.module(this.numrows-1,1,e,2),this.module(this.numrows-1,2,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-1,e,6),this.module(2,this.numcols-1,e,7),this.module(3,this.numcols-1,e,8)},i.prototype.corner2=function(e){this.module(this.numrows-3,0,e,1),this.module(this.numrows-2,0,e,2),this.module(this.numrows-1,0,e,3),this.module(0,this.numcols-4,e,4),this.module(0,this.numcols-3,e,5),this.module(0,this.numcols-2,e,6),this.module(0,this.numcols-1,e,7),this.module(1,this.numcols-1,e,8)},i.prototype.corner3=function(e){this.module(this.numrows-3,0,e,1),this.module(this.numrows-2,0,e,2),this.module(this.numrows-1,0,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-1,e,6),this.module(2,this.numcols-1,e,7),this.module(3,this.numcols-1,e,8)},i.prototype.corner4=function(e){this.module(this.numrows-1,0,e,1),this.module(this.numrows-1,this.numcols-1,e,2),this.module(0,this.numcols-3,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-3,e,6),this.module(1,this.numcols-2,e,7),this.module(1,this.numcols-1,e,8)},i}();var md,Km=[5,7,10,11,12,14,18,20,24,28,36,42,48,56,62,68],F0=[[228,48,15,111,62],[23,68,144,134,240,92,254],[28,24,185,166,223,248,116,255,110,61],[175,138,205,12,194,168,39,245,60,97,120],[41,153,158,91,61,42,142,213,97,178,100,242],[156,97,192,252,95,9,157,119,138,45,18,186,83,185],[83,195,100,39,188,75,66,61,241,213,109,129,94,254,225,48,90,188],[15,195,244,9,233,71,168,2,188,160,153,145,253,79,108,82,27,174,186,172],[52,190,88,205,109,39,176,21,155,197,251,223,155,21,5,172,254,124,12,181,184,96,50,193],[211,231,43,97,71,96,103,174,37,151,170,53,75,34,249,121,17,138,110,213,141,136,120,151,233,168,93,255],[245,127,242,218,130,250,162,181,102,120,84,179,220,251,80,182,229,18,2,4,68,33,101,137,95,119,115,44,175,184,59,25,225,98,81,112],[77,193,137,31,19,38,22,153,247,105,122,2,245,133,242,8,175,95,100,9,167,105,214,111,57,121,21,1,253,57,54,101,248,202,69,50,150,177,226,5,9,5],[245,132,172,223,96,32,117,22,238,133,238,231,205,188,237,87,191,106,16,147,118,23,37,90,170,205,131,88,120,100,66,138,186,240,82,44,176,87,187,147,160,175,69,213,92,253,225,19],[175,9,223,238,12,17,220,208,100,29,175,170,230,192,215,235,150,159,36,223,38,200,132,54,228,146,218,234,117,203,29,232,144,238,22,150,201,117,62,207,164,13,137,245,127,67,247,28,155,43,203,107,233,53,143,46],[242,93,169,50,144,210,39,118,202,188,201,189,143,108,196,37,185,112,134,230,245,63,197,190,250,106,185,221,175,64,114,71,161,44,147,6,27,218,51,63,87,10,40,130,188,17,163,31,176,170,4,107,232,7,94,166,224,124,86,47,11,204],[220,228,173,89,251,149,159,56,89,33,147,244,154,36,73,127,213,136,248,180,234,197,158,177,68,122,93,213,15,160,227,236,66,139,153,185,202,167,179,25,220,232,96,210,231,136,223,239,181,241,59,52,172,25,49,232,211,189,64,54,108,153,132,63,96,103,82,186]],op=(md=function(i,e){for(var n=1,s=0;s<255;s++)e[s]=n,i[n]=s,(n*=2)>=256&&(n^=301);return{LOG:i,ALOG:e}}([],[])).LOG,al=md.ALOG,ul="[)>\x1e05\x1d",th="[)>\x1e06\x1d";const Ym=function(){function i(){}return i.encodeECC200=function(e,n){if(e.length!==n.getDataCapacity())throw new Error("The number of codewords does not match the selected symbol");var s=new fn;s.append(e);var u=n.getInterleavedBlockCount();if(1===u){var l=this.createECCBlock(e,n.getErrorCodewords());s.append(l)}else{for(var g=[],m=[],y=0;y<u;y++)g[y]=n.getDataLengthForInterleavedBlock(y+1),m[y]=n.getErrorLengthForInterleavedBlock(y+1);for(var T=0;T<u;T++){for(var P=new fn,V=T;V<n.getDataCapacity();V+=u)P.append(e.charAt(V));l=this.createECCBlock(P.toString(),m[T]);for(var $=0,q=T;q<m[T]*u;q+=u)s.setCharAt(n.getDataCapacity()+q,l.charAt($++))}}return s.toString()},i.createECCBlock=function(e,n){for(var s=-1,u=0;u<Km.length;u++)if(Km[u]===n){s=u;break}if(s<0)throw new Error("Illegal number of error correction codewords specified: "+n);var l=F0[s],g=[];for(u=0;u<n;u++)g[u]=0;for(u=0;u<e.length;u++){for(var m=g[n-1]^e.charAt(u).charCodeAt(0),y=n-1;y>0;y--)g[y]=0!==m&&0!==l[y]?g[y-1]^al[(op[m]+op[l[y]])%255]:g[y-1];g[0]=0!==m&&0!==l[0]?al[(op[m]+op[l[0]])%255]:0}var T=[];for(u=0;u<n;u++)T[u]=g[n-u-1];return T.map(function(P){return String.fromCharCode(P)}).join("")},i}();var B0=function(){function i(){}return i.prototype.getEncodingMode=function(){return 0},i.prototype.encode=function(e){if(Ir.determineConsecutiveDigitCount(e.getMessage(),e.pos)>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var s=e.getCurrentChar(),u=Ir.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(u!==this.getEncodingMode())switch(u){case 5:return e.writeCodeword(231),void e.signalEncoderChange(5);case 1:return e.writeCodeword(230),void e.signalEncoderChange(1);case 3:e.writeCodeword(238),e.signalEncoderChange(3);break;case 2:e.writeCodeword(239),e.signalEncoderChange(2);break;case 4:e.writeCodeword(240),e.signalEncoderChange(4);break;default:throw new Error("Illegal mode: "+u)}else Ir.isExtendedASCII(s)?(e.writeCodeword(235),e.writeCodeword(s-128+1),e.pos++):(e.writeCodeword(s+1),e.pos++)}},i.prototype.encodeASCIIDigits=function(e,n){if(Ir.isDigit(e)&&Ir.isDigit(n))return 10*(e-48)+(n-48)+130;throw new Error("not digits: "+e+n)},i}(),Eg=function(){function i(){}return i.prototype.getEncodingMode=function(){return 5},i.prototype.encode=function(e){var n=new fn;for(n.append(0);e.hasMoreCharacters();){var s=e.getCurrentChar();if(n.append(s),e.pos++,Ir.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}var l=n.length()-1,m=e.getCodewordCount()+l+1;e.updateSymbolInfo(m);var y=e.getSymbolInfo().getDataCapacity()-m>0;if(e.hasMoreCharacters()||y)if(l<=249)n.setCharAt(0,mt.getCharAt(l));else{if(!(l<=1555))throw new Error("Message length not in valid ranges: "+l);n.setCharAt(0,mt.getCharAt(Math.floor(l/250)+249)),n.insert(1,mt.getCharAt(l%250))}var T=0;for(s=n.length();T<s;T++)e.writeCodeword(this.randomize255State(n.charAt(T).charCodeAt(0),e.getCodewordCount()+1))},i.prototype.randomize255State=function(e,n){var u=e+(149*n%255+1);return u<=255?u:u-256},i}(),Nl=function(){function i(){}return i.prototype.getEncodingMode=function(){return 1},i.prototype.encodeMaximal=function(e){for(var n=new fn,s=0,u=e.pos,l=0;e.hasMoreCharacters();){var g=e.getCurrentChar();e.pos++,s=this.encodeChar(g,n),n.length()%3==0&&(u=e.pos,l=n.length())}if(l!==n.length()){var m=Math.floor(n.length()/3*2),y=Math.floor(e.getCodewordCount()+m+1);e.updateSymbolInfo(y);var T=e.getSymbolInfo().getDataCapacity()-y,P=Math.floor(n.length()%3);(2===P&&2!==T||1===P&&(s>3||1!==T))&&(e.pos=u)}n.length()>0&&e.writeCodeword(230),this.handleEOD(e,n)},i.prototype.encode=function(e){for(var n=new fn;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++;var u=this.encodeChar(s,n),l=2*Math.floor(n.length()/3),g=e.getCodewordCount()+l;e.updateSymbolInfo(g);var m=e.getSymbolInfo().getDataCapacity()-g;if(!e.hasMoreCharacters()){var y=new fn;for(n.length()%3==2&&2!==m&&(u=this.backtrackOneCharacter(e,n,y,u));n.length()%3==1&&(u>3||1!==m);)u=this.backtrackOneCharacter(e,n,y,u);break}if(n.length()%3==0&&Ir.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}this.handleEOD(e,n)},i.prototype.backtrackOneCharacter=function(e,n,s,u){var l=n.length(),g=n.toString().substring(0,l-u);n.setLengthToZero(),n.append(g),e.pos--;var m=e.getCurrentChar();return u=this.encodeChar(m,s),e.resetSymbolInfo(),u},i.prototype.writeNextTriplet=function(e,n){e.writeCodewords(this.encodeToCodewords(n.toString()));var s=n.toString().substring(3);n.setLengthToZero(),n.append(s)},i.prototype.handleEOD=function(e,n){var s=Math.floor(n.length()/3*2),u=n.length()%3,l=e.getCodewordCount()+s;e.updateSymbolInfo(l);var g=e.getSymbolInfo().getDataCapacity()-l;if(2===u){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(254)}else if(1===g&&1===u){for(;n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(254),e.pos--}else{if(0!==u)throw new Error("Unexpected case. Please report!");for(;n.length()>=3;)this.writeNextTriplet(e,n);(g>0||e.hasMoreCharacters())&&e.writeCodeword(254)}e.signalEncoderChange(0)},i.prototype.encodeChar=function(e,n){return 32===e?(n.append(3),1):e>=48&&e<=57?(n.append(e-48+4),1):e>=65&&e<=90?(n.append(e-65+14),1):e<32?(n.append(0),n.append(e),2):e<=47?(n.append(1),n.append(e-33),2):e<=64?(n.append(1),n.append(e-58+15),2):e<=95?(n.append(1),n.append(e-91+22),2):e<=127?(n.append(2),n.append(e-96),2):(n.append("1\x1e"),2+this.encodeChar(e-128,n))},i.prototype.encodeToCodewords=function(e){var n=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,s=n/256,u=n%256,l=new fn;return l.append(s),l.append(u),l.toString()},i}(),Cg=function(){function i(){}return i.prototype.getEncodingMode=function(){return 4},i.prototype.encode=function(e){for(var n=new fn;e.hasMoreCharacters();){var s=e.getCurrentChar();if(this.encodeChar(s,n),e.pos++,n.length()>=4){e.writeCodewords(this.encodeToCodewords(n.toString()));var l=n.toString().substring(4);if(n.setLengthToZero(),n.append(l),Ir.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}}n.append(mt.getCharAt(31)),this.handleEOD(e,n)},i.prototype.handleEOD=function(e,n){try{var s=n.length();if(0===s)return;if(1===s){e.updateSymbolInfo();var u=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),l=e.getRemainingCharacters();if(l>u&&(e.updateSymbolInfo(e.getCodewordCount()+1),u=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),l<=u&&u<=2)return}if(s>4)throw new Error("Count must not exceed 4");var g=s-1,m=this.encodeToCodewords(n.toString()),T=!e.hasMoreCharacters()&&g<=2;g<=2&&(e.updateSymbolInfo(e.getCodewordCount()+g),(u=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount())>=3&&(T=!1,e.updateSymbolInfo(e.getCodewordCount()+m.length))),T?(e.resetSymbolInfo(),e.pos-=g):e.writeCodewords(m)}finally{e.signalEncoderChange(0)}},i.prototype.encodeChar=function(e,n){e>=32&&e<=63?n.append(e):e>=64&&e<=94?n.append(mt.getCharAt(e-64)):Ir.illegalCharacter(mt.getCharAt(e))},i.prototype.encodeToCodewords=function(e){var n=e.length;if(0===n)throw new Error("StringBuilder must not be empty");var m=(e.charAt(0).charCodeAt(0)<<18)+((n>=2?e.charAt(1).charCodeAt(0):0)<<12)+((n>=3?e.charAt(2).charCodeAt(0):0)<<6)+(n>=4?e.charAt(3).charCodeAt(0):0),y=m>>16&255,T=m>>8&255,P=255&m,V=new fn;return V.append(y),n>=2&&V.append(T),n>=3&&V.append(P),V.toString()},i}(),ap=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),Jr=function(){function i(e,n,s,u,l,g,m,y){void 0===m&&(m=0),void 0===y&&(y=0),this.rectangular=e,this.dataCapacity=n,this.errorCodewords=s,this.matrixWidth=u,this.matrixHeight=l,this.dataRegions=g,this.rsBlockData=m,this.rsBlockError=y}return i.lookup=function(e,n,s,u,l){var g,m;void 0===n&&(n=0),void 0===s&&(s=null),void 0===u&&(u=null),void 0===l&&(l=!0);try{for(var y=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(ih),T=y.next();!T.done;T=y.next()){var P=T.value;if((1!==n||!P.rectangular)&&(2!==n||P.rectangular)&&(null==s||!(P.getSymbolWidth()<s.getWidth()||P.getSymbolHeight()<s.getHeight()))&&(null==u||!(P.getSymbolWidth()>u.getWidth()||P.getSymbolHeight()>u.getHeight()))&&e<=P.dataCapacity)return P}}catch(V){g={error:V}}finally{try{T&&!T.done&&(m=y.return)&&m.call(y)}finally{if(g)throw g.error}}if(l)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},i.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},i.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},i.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},i.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},i.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+2*this.getHorizontalDataRegions()},i.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+2*this.getVerticalDataRegions()},i.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},i.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},i.prototype.getDataCapacity=function(){return this.dataCapacity},i.prototype.getErrorCodewords=function(){return this.errorCodewords},i.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},i.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},i}();const rh=Jr;var Zm=function(i){function e(){return i.call(this,!1,1558,620,22,22,36,-1,62)||this}return ap(e,i),e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},e}(Jr),ih=[new Jr(!1,3,5,8,8,1),new Jr(!1,5,7,10,10,1),new Jr(!0,5,7,16,6,1),new Jr(!1,8,10,12,12,1),new Jr(!0,10,11,14,6,2),new Jr(!1,12,12,14,14,1),new Jr(!0,16,14,24,10,1),new Jr(!1,18,14,16,16,1),new Jr(!1,22,18,18,18,1),new Jr(!0,22,18,16,10,2),new Jr(!1,30,20,20,20,1),new Jr(!0,32,24,16,14,2),new Jr(!1,36,24,22,22,1),new Jr(!1,44,28,24,24,1),new Jr(!0,49,28,22,14,2),new Jr(!1,62,36,14,14,4),new Jr(!1,86,42,16,16,4),new Jr(!1,114,48,18,18,4),new Jr(!1,144,56,20,20,4),new Jr(!1,174,68,22,22,4),new Jr(!1,204,84,24,24,4,102,42),new Jr(!1,280,112,14,14,16,140,56),new Jr(!1,368,144,16,16,16,92,36),new Jr(!1,456,192,18,18,16,114,48),new Jr(!1,576,224,20,20,16,144,56),new Jr(!1,696,272,22,22,16,174,68),new Jr(!1,816,336,24,24,16,136,56),new Jr(!1,1050,408,18,18,36,175,68),new Jr(!1,1304,496,20,20,36,163,62),new Zm],U0=function(){function i(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var n=e.split("").map(function(m){return m.charCodeAt(0)}),s=new fn,u=0,l=n.length;u<l;u++){var g=String.fromCharCode(255&n[u]);if("?"===g&&"?"!==e.charAt(u))throw new Error("Message contains characters outside ISO-8859-1 encoding.");s.append(g)}this.msg=s.toString(),this.shape=0,this.codewords=new fn,this.newEncoding=-1}return i.prototype.setSymbolShape=function(e){this.shape=e},i.prototype.setSizeConstraints=function(e,n){this.minSize=e,this.maxSize=n},i.prototype.getMessage=function(){return this.msg},i.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},i.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},i.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},i.prototype.getCodewords=function(){return this.codewords},i.prototype.writeCodewords=function(e){this.codewords.append(e)},i.prototype.writeCodeword=function(e){this.codewords.append(e)},i.prototype.getCodewordCount=function(){return this.codewords.length()},i.prototype.getNewEncoding=function(){return this.newEncoding},i.prototype.signalEncoderChange=function(e){this.newEncoding=e},i.prototype.resetEncoderSignal=function(){this.newEncoding=-1},i.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},i.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},i.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},i.prototype.getSymbolInfo=function(){return this.symbolInfo},i.prototype.updateSymbolInfo=function(e){void 0===e&&(e=this.getCodewordCount()),(null==this.symbolInfo||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=rh.lookup(e,this.shape,this.minSize,this.maxSize,!0))},i.prototype.resetSymbolInfo=function(){this.symbolInfo=null},i}(),Jm=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),Jh=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Jm(e,i),e.prototype.getEncodingMode=function(){return 3},e.prototype.encode=function(n){for(var s=new fn;n.hasMoreCharacters();){var u=n.getCurrentChar();if(n.pos++,this.encodeChar(u,s),s.length()%3==0&&(this.writeNextTriplet(n,s),Ir.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode())!==this.getEncodingMode())){n.signalEncoderChange(0);break}}this.handleEOD(n,s)},e.prototype.encodeChar=function(n,s){switch(n){case 13:s.append(0);break;case 42:s.append(1);break;case 62:s.append(2);break;case 32:s.append(3);break;default:n>=48&&n<=57?s.append(n-48+4):n>=65&&n<=90?s.append(n-65+14):Ir.illegalCharacter(mt.getCharAt(n))}return 1},e.prototype.handleEOD=function(n,s){n.updateSymbolInfo();var u=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),l=s.length();n.pos-=l,(n.getRemainingCharacters()>1||u>1||n.getRemainingCharacters()!==u)&&n.writeCodeword(254),n.getNewEncoding()<0&&n.signalEncoderChange(0)},e}(Nl),j0=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),ef=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return j0(e,i),e.prototype.getEncodingMode=function(){return 2},e.prototype.encodeChar=function(n,s){return 32===n?(s.append(3),1):n>=48&&n<=57?(s.append(n-48+4),1):n>=97&&n<=122?(s.append(n-97+14),1):n<32?(s.append(0),s.append(n),2):n<=47?(s.append(1),s.append(n-33),2):n<=64?(s.append(1),s.append(n-58+15),2):n>=91&&n<=95?(s.append(1),s.append(n-91+22),2):96===n?(s.append(2),s.append(0),2):n<=90?(s.append(2),s.append(n-65+1),2):n<=127?(s.append(2),s.append(n-123+27),2):(s.append("1\x1e"),2+this.encodeChar(n-128,s))},e}(Nl);const Ir=function(){function i(){}return i.randomize253State=function(e){var s=149*e%253+1+129;return s<=254?s:s-254},i.encodeHighLevel=function(e,n,s,u,l){void 0===n&&(n=0),void 0===s&&(s=null),void 0===u&&(u=null),void 0===l&&(l=!1);var g=new Nl,m=[new B0,g,new ef,new Jh,new Cg,new Eg],y=new U0(e);y.setSymbolShape(n),y.setSizeConstraints(s,u),e.startsWith(ul)&&e.endsWith("\x1e\x04")?(y.writeCodeword(236),y.setSkipAtEnd(2),y.pos+=7):e.startsWith(th)&&e.endsWith("\x1e\x04")&&(y.writeCodeword(237),y.setSkipAtEnd(2),y.pos+=7);var T=0;for(l&&(g.encodeMaximal(y),T=y.getNewEncoding(),y.resetEncoderSignal());y.hasMoreCharacters();)m[T].encode(y),y.getNewEncoding()>=0&&(T=y.getNewEncoding(),y.resetEncoderSignal());var P=y.getCodewordCount();y.updateSymbolInfo();var V=y.getSymbolInfo().getDataCapacity();P<V&&0!==T&&5!==T&&4!==T&&y.writeCodeword("\xfe");var $=y.getCodewords();for($.length()<V&&$.append(129);$.length()<V;)$.append(this.randomize253State($.length()+1));return y.getCodewords().toString()},i.lookAheadTest=function(e,n,s){var u=this.lookAheadTestIntern(e,n,s);if(3===s&&3===u){for(var l=Math.min(n+3,e.length),g=n;g<l;g++)if(!this.isNativeX12(e.charCodeAt(g)))return 0}else if(4===s&&4===u)for(l=Math.min(n+4,e.length),g=n;g<l;g++)if(!this.isNativeEDIFACT(e.charCodeAt(g)))return 0;return u},i.lookAheadTestIntern=function(e,n,s){if(n>=e.length)return s;var u;0===s?u=[0,1,1,1,1,1.25]:(u=[1,2,2,2,2,2.25])[s]=0;for(var l=0,g=new Uint8Array(6),m=[];;){if(n+l===e.length){Qr.fill(g,0),Qr.fill(m,0);var y=this.findMinimums(u,m,sr.MAX_VALUE,g),T=this.getMinimumCount(g);if(m[0]===y)return 0;if(1===T){if(g[5]>0)return 5;if(g[4]>0)return 4;if(g[2]>0)return 2;if(g[3]>0)return 3}return 1}var P=e.charCodeAt(n+l);if(l++,this.isDigit(P)?u[0]+=.5:this.isExtendedASCII(P)?(u[0]=Math.ceil(u[0]),u[0]+=2):(u[0]=Math.ceil(u[0]),u[0]++),this.isNativeC40(P)?u[1]+=2/3:this.isExtendedASCII(P)?u[1]+=8/3:u[1]+=4/3,this.isNativeText(P)?u[2]+=2/3:this.isExtendedASCII(P)?u[2]+=8/3:u[2]+=4/3,this.isNativeX12(P)?u[3]+=2/3:this.isExtendedASCII(P)?u[3]+=13/3:u[3]+=10/3,this.isNativeEDIFACT(P)?u[4]+=3/4:this.isExtendedASCII(P)?u[4]+=4.25:u[4]+=3.25,this.isSpecialB256(P)?u[5]+=4:u[5]++,l>=4){if(Qr.fill(g,0),Qr.fill(m,0),this.findMinimums(u,m,sr.MAX_VALUE,g),m[0]<this.min(m[5],m[1],m[2],m[3],m[4]))return 0;if(m[5]<m[0]||m[5]+1<this.min(m[1],m[2],m[3],m[4]))return 5;if(m[4]+1<this.min(m[5],m[1],m[2],m[3],m[0]))return 4;if(m[2]+1<this.min(m[5],m[1],m[4],m[3],m[0]))return 2;if(m[3]+1<this.min(m[5],m[1],m[4],m[2],m[0]))return 3;if(m[1]+1<this.min(m[0],m[5],m[4],m[2])){if(m[1]<m[3])return 1;if(m[1]===m[3]){for(var V=n+l+1;V<e.length;){var $=e.charCodeAt(V);if(this.isX12TermSep($))return 3;if(!this.isNativeX12($))break;V++}return 1}}}}},i.min=function(e,n,s,u,l){var g=Math.min(e,Math.min(n,Math.min(s,u)));return void 0===l?g:Math.min(g,l)},i.findMinimums=function(e,n,s,u){for(var l=0;l<6;l++){var g=n[l]=Math.ceil(e[l]);s>g&&(s=g,Qr.fill(u,0)),s===g&&(u[l]=u[l]+1)}return s},i.getMinimumCount=function(e){for(var n=0,s=0;s<6;s++)n+=e[s];return n||0},i.isDigit=function(e){return e>=48&&e<=57},i.isExtendedASCII=function(e){return e>=128&&e<=255},i.isNativeC40=function(e){return 32===e||e>=48&&e<=57||e>=65&&e<=90},i.isNativeText=function(e){return 32===e||e>=48&&e<=57||e>=97&&e<=122},i.isNativeX12=function(e){return this.isX12TermSep(e)||32===e||e>=48&&e<=57||e>=65&&e<=90},i.isX12TermSep=function(e){return 13===e||42===e||62===e},i.isNativeEDIFACT=function(e){return e>=32&&e<=94},i.isSpecialB256=function(e){return!1},i.determineConsecutiveDigitCount=function(e,n){void 0===n&&(n=0);for(var s=e.length,u=n;u<s&&this.isDigit(e.charCodeAt(u));)u++;return u-n},i.illegalCharacter=function(e){var n=sr.toHexString(e.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+e+" (0x"+n+")")},i}();var tf=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},H0=function(){function i(e){this.charset=e,this.name=e.name}return i.prototype.canEncode=function(e){try{return null!=we.encode(e,this.charset)}catch{return!1}},i}(),nf=function(){function i(e,n,s){var u,l,g,m,y,T;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(Jn){return new H0(Qh.forName(Jn))}),this.encoders=[];var P=[];P.push(new H0(a1.ISO_8859_1));for(var V=null!=n&&n.name.startsWith("UTF"),$=0;$<e.length;$++){var q=!1;try{for(var se=(u=void 0,tf(P)),ve=se.next();!ve.done;ve=se.next()){var De=ve.value,Ve=e.charAt($);if(Ve.charCodeAt(0)===s||De.canEncode(Ve)){q=!0;break}}}catch(Jn){u={error:Jn}}finally{try{ve&&!ve.done&&(l=se.return)&&l.call(se)}finally{if(u)throw u.error}}if(!q)try{for(var Ye=(g=void 0,tf(this.ENCODERS)),at=Ye.next();!at.done;at=Ye.next())if((De=at.value).canEncode(e.charAt($))){P.push(De),q=!0;break}}catch(Jn){g={error:Jn}}finally{try{at&&!at.done&&(m=Ye.return)&&m.call(Ye)}finally{if(g)throw g.error}}q||(V=!0)}if(1!==P.length||V){this.encoders=[];var kt=0;try{for(var zt=tf(P),Kt=zt.next();!Kt.done;Kt=zt.next())this.encoders[kt++]=De=Kt.value}catch(Jn){y={error:Jn}}finally{try{Kt&&!Kt.done&&(T=zt.return)&&T.call(zt)}finally{if(y)throw y.error}}}else this.encoders=[P[0]];var mn=-1;if(null!=n)for($=0;$<this.encoders.length;$++)if(null!=this.encoders[$]&&n.name===this.encoders[$].name){mn=$;break}this.priorityEncoderIndex=mn}return i.prototype.length=function(){return this.encoders.length},i.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},i.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},i.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},i.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},i.prototype.canEncode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},i.prototype.encode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return we.encode(mt.getCharAt(e),this.encoders[n].name)},i}(),cl=function(){function i(e,n,s){this.fnc1=s;var u=new nf(e,n,s);if(1===u.length())for(var l=0;l<this.bytes.length;l++){var g=e.charAt(l).charCodeAt(0);this.bytes[l]=g===s?1e3:g}else this.bytes=this.encodeMinimally(e,u,s)}return i.prototype.getFNC1Character=function(){return this.fnc1},i.prototype.length=function(){return this.bytes.length},i.prototype.haveNCharacters=function(e,n){if(e+n-1>=this.bytes.length)return!1;for(var s=0;s<n;s++)if(this.isECI(e+s))return!1;return!0},i.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},i.prototype.subSequence=function(e,n){if(e<0||e>n||n>this.length())throw new Error(""+e);for(var s=new fn,u=e;u<n;u++){if(this.isECI(u))throw new Error("value at "+u+" is not a character but an ECI");s.append(this.charAt(u))}return s.toString()},i.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},i.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return 1e3===this.bytes[e]},i.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},i.prototype.addEdge=function(e,n,s){(null==e[n][s.encoderIndex]||e[n][s.encoderIndex].cachedTotalSize>s.cachedTotalSize)&&(e[n][s.encoderIndex]=s)},i.prototype.addEdges=function(e,n,s,u,l,g){var m=e.charAt(u).charCodeAt(0),y=0,T=n.length();n.getPriorityEncoderIndex()>=0&&(m===g||n.canEncode(m,n.getPriorityEncoderIndex()))&&(T=(y=n.getPriorityEncoderIndex())+1);for(var P=y;P<T;P++)(m===g||n.canEncode(m,P))&&this.addEdge(s,u+1,new up(m,n,P,l,g))},i.prototype.encodeMinimally=function(e,n,s){var u=e.length,l=new(up[u+1][n.length()]);this.addEdges(e,n,l,0,null,s);for(var g=1;g<=u;g++){for(var m=0;m<n.length();m++)null!=l[g][m]&&g<u&&this.addEdges(e,n,l,g,l[g][m],s);for(m=0;m<n.length();m++)l[g-1][m]=null}var y=-1,T=sr.MAX_VALUE;for(m=0;m<n.length();m++)if(null!=l[u][m]){var P=l[u][m];P.cachedTotalSize<T&&(T=P.cachedTotalSize,y=m)}if(y<0)throw new Error('Failed to encode "'+e+'"');for(var V=[],$=l[u][y];null!=$;){if($.isFNC1())V.unshift(1e3);else{var q=n.encode($.c,$.encoderIndex);for(g=q.length-1;g>=0;g--)V.unshift(255&q[g])}(null===$.previous?0:$.previous.encoderIndex)!==$.encoderIndex&&V.unshift(256+n.getECIValue($.encoderIndex)),$=$.previous}var ve=[];for(g=0;g<ve.length;g++)ve[g]=V[g];return ve},i}(),up=function(){function i(e,n,s,u,l){this.c=e,this.encoderSet=n,this.encoderIndex=s,this.previous=u,this.fnc1=l,this.c=e===l?1e3:e;var g=this.isFNC1()?1:n.encode(e,s).length;(null===u?0:u.encoderIndex)!==s&&(g+=3),null!=u&&(g+=u.cachedTotalSize),this.cachedTotalSize=g}return i.prototype.isFNC1=function(){return 1e3===this.c},i}(),t_=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),Mu=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wg=function(i,e){var n="function"==typeof Symbol&&i[Symbol.iterator];if(!n)return i;var u,g,s=n.call(i),l=[];try{for(;(void 0===e||e-- >0)&&!(u=s.next()).done;)l.push(u.value)}catch(m){g={error:m}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(g)throw g.error}}return l},an=function(i){return i[i.ASCII=0]="ASCII",i[i.C40=1]="C40",i[i.TEXT=2]="TEXT",i[i.X12=3]="X12",i[i.EDF=4]="EDF",i[i.B256=5]="B256",i}(an||{}),Ig=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ks=function(){function i(){}return i.isExtendedASCII=function(e,n){return e!==n&&e>=128&&e<=255},i.isInC40Shift1Set=function(e){return e<=31},i.isInC40Shift2Set=function(e,n){var s,u;try{for(var l=Mu(Ig),g=l.next();!g.done;g=l.next())if(g.value.charCodeAt(0)===e)return!0}catch(y){s={error:y}}finally{try{g&&!g.done&&(u=l.return)&&u.call(l)}finally{if(s)throw s.error}}return e===n},i.isInTextShift1Set=function(e){return this.isInC40Shift1Set(e)},i.isInTextShift2Set=function(e,n){return this.isInC40Shift2Set(e,n)},i.encodeHighLevel=function(e,n,s,u){void 0===n&&(n=null),void 0===s&&(s=-1),void 0===u&&(u=0);var l=0;return e.startsWith(ul)&&e.endsWith("\x1e\x04")?(l=5,e=e.substring(7,e.length-2)):e.startsWith(th)&&e.endsWith("\x1e\x04")&&(l=6,e=e.substring(7,e.length-2)),decodeURIComponent(escape(String.fromCharCode.apply(String,function(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(wg(arguments[e]));return i}(this.encode(e,n,s,u,l)))))},i.encode=function(e,n,s,u,l){return this.encodeMinimally(new lp(e,n,s,u,l)).getBytes()},i.addEdge=function(e,n){var s=n.fromPosition+n.characterLength;(null===e[s][n.getEndMode()]||e[s][n.getEndMode()].cachedTotalSize>n.cachedTotalSize)&&(e[s][n.getEndMode()]=n)},i.getNumberOfC40Words=function(e,n,s,u){for(var l=0,g=n;g<e.length();g++){if(e.isECI(g))return u[0]=0,0;var m=e.charAt(g);if(s&&Ir.isNativeC40(m)||!s&&Ir.isNativeText(m))l++;else if(i.isExtendedASCII(m,e.getFNC1Character())){var y=255&m;y>=128&&(s&&Ir.isNativeC40(y-128)||!s&&Ir.isNativeText(y-128))?l+=3:l+=4}else l+=2;if(l%3==0||(l-2)%3==0&&g+1===e.length())return u[0]=g-n+1,Math.ceil(l/3)}return u[0]=0,0},i.addEdges=function(e,n,s,u){var l,g;if(e.isECI(s))this.addEdge(n,new Ou(e,an.ASCII,s,1,u));else{var q,m=e.charAt(s);if(null===u||u.getEndMode()!==an.EDF){Ir.isDigit(m)&&e.haveNCharacters(s,2)&&Ir.isDigit(e.charAt(s+1))?this.addEdge(n,new Ou(e,an.ASCII,s,2,u)):this.addEdge(n,new Ou(e,an.ASCII,s,1,u));var y=[an.C40,an.TEXT];try{for(var T=Mu(y),P=T.next();!P.done;P=T.next()){var V=P.value,$=[];i.getNumberOfC40Words(e,s,V===an.C40,$)>0&&this.addEdge(n,new Ou(e,V,s,$[0],u))}}catch(ve){l={error:ve}}finally{try{P&&!P.done&&(g=T.return)&&g.call(T)}finally{if(l)throw l.error}}e.haveNCharacters(s,3)&&Ir.isNativeX12(e.charAt(s))&&Ir.isNativeX12(e.charAt(s+1))&&Ir.isNativeX12(e.charAt(s+2))&&this.addEdge(n,new Ou(e,an.X12,s,3,u)),this.addEdge(n,new Ou(e,an.B256,s,1,u))}for(q=0;q<3;q++){var se=s+q;if(!e.haveNCharacters(se,1)||!Ir.isNativeEDIFACT(e.charAt(se)))break;this.addEdge(n,new Ou(e,an.EDF,s,q+1,u))}3===q&&e.haveNCharacters(s,4)&&Ir.isNativeEDIFACT(e.charAt(s+3))&&this.addEdge(n,new Ou(e,an.EDF,s,4,u))}},i.encodeMinimally=function(e){var n=e.length(),s=Array(n+1).fill(null).map(function(){return Array(6).fill(0)});this.addEdges(e,s,0,null);for(var u=1;u<=n;u++){for(var l=0;l<6;l++)null!==s[u][l]&&u<n&&this.addEdges(e,s,u,s[u][l]);for(l=0;l<6;l++)s[u-1][l]=null}var g=-1,m=sr.MAX_VALUE;for(l=0;l<6;l++)if(null!==s[n][l]){var y=s[n][l],T=l>=1&&l<=3?y.cachedTotalSize+1:y.cachedTotalSize;T<m&&(m=T,g=l)}if(g<0)throw new Error('Failed to encode "'+e+'"');return new cp(s[n][g])},i}(),cp=function(){function i(e){var n=e.input,s=0,u=[],l=[],g=[];(e.mode===an.C40||e.mode===an.TEXT||e.mode===an.X12)&&e.getEndMode()!==an.ASCII&&(s+=this.prepend(Ou.getBytes(254),u));for(var m=e;null!==m;)s+=this.prepend(m.getDataBytes(),u),(null===m.previous||m.getPreviousStartMode()!==m.getMode())&&(m.getMode()===an.B256&&(s<=249?(u.unshift(s),s++):(u.unshift(s%250),u.unshift(s/250+249),s+=2),l.push(u.length),g.push(s)),this.prepend(m.getLatchBytes(),u),s=0),m=m.previous;5===n.getMacroId()?s+=this.prepend(Ou.getBytes(236),u):6===n.getMacroId()&&(s+=this.prepend(Ou.getBytes(237),u)),n.getFNC1Character()>0&&(s+=this.prepend(Ou.getBytes(232),u));for(var y=0;y<l.length;y++)this.applyRandomPattern(u,u.length-l[y],g[y]);var T=e.getMinSymbolSize(u.length);for(u.length<T&&u.push(129);u.length<T;)u.push(this.randomize253State(u.length+1));for(this.bytes=new Uint8Array(u.length),y=0;y<this.bytes.length;y++)this.bytes[y]=u[y]}return i.prototype.prepend=function(e,n){for(var s=e.length-1;s>=0;s--)n.unshift(e[s]);return e.length},i.prototype.randomize253State=function(e){var s=149*e%253+1+129;return s<=254?s:s-254},i.prototype.applyRandomPattern=function(e,n,s){for(var u=0;u<s;u++){var l=n+u,y=149*(l+1)%255+1+(255&e[l]);e[l]=y<=255?y:y-256}},i.prototype.getBytes=function(){return this.bytes},i}(),Ou=function(){function i(e,n,s,u,l){if(this.input=e,this.mode=n,this.fromPosition=s,this.characterLength=u,this.previous=l,this.allCodewordCapacities=[3,5,8,10,12,16,18,22,30,32,36,44,49,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.squareCodewordCapacities=[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.rectangularCodewordCapacities=[5,10,16,33,32,49],!(s+u<=e.length()))throw new Error("Invalid edge");var g=null!==l?l.cachedTotalSize:0,m=this.getPreviousMode();switch(n){case an.ASCII:g++,(e.isECI(s)||Ks.isExtendedASCII(e.charAt(s),e.getFNC1Character()))&&g++,(m===an.C40||m===an.TEXT||m===an.X12)&&g++;break;case an.B256:g++,(m!==an.B256||250===this.getB256Size())&&g++,m===an.ASCII?g++:(m===an.C40||m===an.TEXT||m===an.X12)&&(g+=2);break;case an.C40:case an.TEXT:case an.X12:g+=n===an.X12?2:2*Ks.getNumberOfC40Words(e,s,n===an.C40,[]),m===an.ASCII||m===an.B256?g++:m!==n&&(m===an.C40||m===an.TEXT||m===an.X12)&&(g+=2);break;case an.EDF:g+=3,m===an.ASCII||m===an.B256?g++:(m===an.C40||m===an.TEXT||m===an.X12)&&(g+=2)}this.cachedTotalSize=g}return i.prototype.getB256Size=function(){for(var e=0,n=this;null!==n&&n.mode===an.B256&&e<=250;)e++,n=n.previous;return e},i.prototype.getPreviousStartMode=function(){return null===this.previous?an.ASCII:this.previous.mode},i.prototype.getPreviousMode=function(){return null===this.previous?an.ASCII:this.previous.getEndMode()},i.prototype.getEndMode=function(){if(this.mode===an.EDF){if(this.characterLength<4)return an.ASCII;if((e=this.getLastASCII())>0&&this.getCodewordsRemaining(this.cachedTotalSize+e)<=2-e)return an.ASCII}if(this.mode===an.C40||this.mode===an.TEXT||this.mode===an.X12){if(this.fromPosition+this.characterLength>=this.input.length()&&0===this.getCodewordsRemaining(this.cachedTotalSize))return an.ASCII;var e;if(1===(e=this.getLastASCII())&&0===this.getCodewordsRemaining(this.cachedTotalSize+1))return an.ASCII}return this.mode},i.prototype.getMode=function(){return this.mode},i.prototype.getLastASCII=function(){var e=this.input.length(),n=this.fromPosition+this.characterLength;return e-n>4||n>=e?0:e-n==1?Ks.isExtendedASCII(this.input.charAt(n),this.input.getFNC1Character())?0:1:e-n==2?Ks.isExtendedASCII(this.input.charAt(n),this.input.getFNC1Character())||Ks.isExtendedASCII(this.input.charAt(n+1),this.input.getFNC1Character())?0:Ir.isDigit(this.input.charAt(n))&&Ir.isDigit(this.input.charAt(n+1))?1:2:e-n==3?Ir.isDigit(this.input.charAt(n))&&Ir.isDigit(this.input.charAt(n+1))&&!Ks.isExtendedASCII(this.input.charAt(n+2),this.input.getFNC1Character())||Ir.isDigit(this.input.charAt(n+1))&&Ir.isDigit(this.input.charAt(n+2))&&!Ks.isExtendedASCII(this.input.charAt(n),this.input.getFNC1Character())?2:0:Ir.isDigit(this.input.charAt(n))&&Ir.isDigit(this.input.charAt(n+1))&&Ir.isDigit(this.input.charAt(n+2))&&Ir.isDigit(this.input.charAt(n+3))?2:0},i.prototype.getMinSymbolSize=function(e){var n,s,u,l,g,m;switch(this.input.getShapeHint()){case 1:try{for(var y=Mu(this.squareCodewordCapacities),T=y.next();!T.done;T=y.next())if((P=T.value)>=e)return P}catch(ve){n={error:ve}}finally{try{T&&!T.done&&(s=y.return)&&s.call(y)}finally{if(n)throw n.error}}break;case 2:try{for(var V=Mu(this.rectangularCodewordCapacities),$=V.next();!$.done;$=V.next())if((P=$.value)>=e)return P}catch(ve){u={error:ve}}finally{try{$&&!$.done&&(l=V.return)&&l.call(V)}finally{if(u)throw u.error}}}try{for(var q=Mu(this.allCodewordCapacities),se=q.next();!se.done;se=q.next()){var P;if((P=se.value)>=e)return P}}catch(ve){g={error:ve}}finally{try{se&&!se.done&&(m=q.return)&&m.call(q)}finally{if(g)throw g.error}}return this.allCodewordCapacities[this.allCodewordCapacities.length-1]},i.prototype.getCodewordsRemaining=function(e){return this.getMinSymbolSize(e)-e},i.getBytes=function(e,n){var s=new Uint8Array(n?2:1);return s[0]=e,n&&(s[1]=n),s},i.prototype.setC40Word=function(e,n,s,u,l){var g=1600*(255&s)+40*(255&u)+(255&l)+1;e[n]=g/256,e[n+1]=g%256},i.prototype.getX12Value=function(e){return 13===e?0:42===e?1:62===e?2:32===e?3:e>=48&&e<=57?e-44:e>=65&&e<=90?e-51:e},i.prototype.getX12Words=function(){if(this.characterLength%3!=0)throw new Error("X12 words must be a multiple of 3");for(var e=new Uint8Array(this.characterLength/3*2),n=0;n<e.length;n+=2)this.setC40Word(e,n,this.getX12Value(this.input.charAt(this.fromPosition+n/2*3)),this.getX12Value(this.input.charAt(this.fromPosition+n/2*3+1)),this.getX12Value(this.input.charAt(this.fromPosition+n/2*3+2)));return e},i.prototype.getShiftValue=function(e,n,s){return n&&Ks.isInC40Shift1Set(e)||!n&&Ks.isInTextShift1Set(e)?0:n&&Ks.isInC40Shift2Set(e,s)||!n&&Ks.isInTextShift2Set(e,s)?1:2},i.prototype.getC40Value=function(e,n,s,u){if(s===u){if(2!==n)throw new Error("FNC1 cannot be used in C40 shift 2");return 27}return e?s<=31?s:32===s?3:s<=47?s-33:s<=57?s-44:s<=64?s-43:s<=90?s-51:s<=95?s-69:s<=127?s-96:s:0===s?0:0===n&&s<=3?s-1:1===n&&s<=31?s:32===s?3:s>=33&&s<=47?s-33:s>=48&&s<=57?s-44:s>=58&&s<=64?s-43:s>=65&&s<=90?s-64:s>=91&&s<=95?s-69:96===s?0:s>=97&&s<=122?s-83:s>=123&&s<=127?s-96:s},i.prototype.getC40Words=function(e,n){for(var s=[],u=0;u<this.characterLength;u++){var l=this.input.charAt(this.fromPosition+u);if(e&&Ir.isNativeC40(l)||!e&&Ir.isNativeText(l))s.push(this.getC40Value(e,0,l,n));else if(Ks.isExtendedASCII(l,n)){var m=(255&l)-128;if(e&&Ir.isNativeC40(m)||!e&&Ir.isNativeText(m))s.push(1),s.push(30),s.push(this.getC40Value(e,0,m,n));else{s.push(1),s.push(30);var g=this.getShiftValue(m,e,n);s.push(g),s.push(this.getC40Value(e,g,m,n))}}else g=this.getShiftValue(l,e,n),s.push(g),s.push(this.getC40Value(e,g,l,n))}if(s.length%3!=0){if((s.length-2)%3!=0||this.fromPosition+this.characterLength!==this.input.length())throw new Error("C40 words must be a multiple of 3");s.push(0)}var y=new Uint8Array(s.length/3*2),T=0;for(u=0;u<s.length;u+=3)this.setC40Word(y,T,255&s[u],255&s[u+1],255&s[u+2]),T+=2;return y},i.prototype.getEDFBytes=function(){for(var e=Math.ceil(this.characterLength/4),n=new Uint8Array(3*e),s=this.fromPosition,u=Math.min(this.fromPosition+this.characterLength-1,this.input.length()-1),l=0;l<e;l+=3){for(var g=[],m=0;m<4;m++)g[m]=s<=u?63&this.input.charAt(s++):s===u+1?31:0;var y=g[0]<<18;y|=g[1]<<12,y|=g[2]<<6,n[l]=(y|=g[3])>>16&255,n[l+1]=y>>8&255,n[l+2]=255&y}return n},i.prototype.getLatchBytes=function(){switch(this.getPreviousMode()){case an.ASCII:case an.B256:switch(this.mode){case an.B256:return i.getBytes(231);case an.C40:return i.getBytes(230);case an.TEXT:return i.getBytes(239);case an.X12:return i.getBytes(238);case an.EDF:return i.getBytes(240)}break;case an.C40:case an.TEXT:case an.X12:if(this.mode!==this.getPreviousMode())switch(this.mode){case an.ASCII:return i.getBytes(254);case an.B256:return i.getBytes(254,231);case an.C40:return i.getBytes(254,230);case an.TEXT:return i.getBytes(254,239);case an.X12:return i.getBytes(254,238);case an.EDF:return i.getBytes(254,240)}break;case an.EDF:if(this.mode!==an.EDF)throw new Error("Cannot switch from EDF to "+this.mode)}return new Uint8Array(0)},i.prototype.getDataBytes=function(){switch(this.mode){case an.ASCII:return this.input.isECI(this.fromPosition)?i.getBytes(241,this.input.getECIValue(this.fromPosition)+1):Ks.isExtendedASCII(this.input.charAt(this.fromPosition),this.input.getFNC1Character())?i.getBytes(235,this.input.charAt(this.fromPosition)-127):2===this.characterLength?i.getBytes(10*this.input.charAt(this.fromPosition)+this.input.charAt(this.fromPosition+1)+130):this.input.isFNC1(this.fromPosition)?i.getBytes(232):i.getBytes(this.input.charAt(this.fromPosition)+1);case an.B256:return i.getBytes(this.input.charAt(this.fromPosition));case an.C40:return this.getC40Words(!0,this.input.getFNC1Character());case an.TEXT:return this.getC40Words(!1,this.input.getFNC1Character());case an.X12:return this.getX12Words();case an.EDF:return this.getEDFBytes()}},i}(),lp=function(i){function e(n,s,u,l,g){var m=i.call(this,n,s,u)||this;return m.shape=l,m.macroId=g,m}return t_(e,i),e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e}(cl);!function(){function i(){}i.prototype.encode=function(e,n,s,u,l){if(void 0===l&&(l=null),""===e.trim())throw new Error("Found empty contents");if(n!==cn.DATA_MATRIX)throw new Error("Can only encode DATA_MATRIX, but got "+n);if(s<0||u<0)throw new Error("Requested dimensions can't be negative: "+s+"x"+u);var $,g=0,m=null,y=null;if(null!=l){var T=l.get(Er.DATA_MATRIX_SHAPE);null!=T&&(g=T);var P=l.get(Er.MIN_SIZE);null!=P&&(m=P);var V=l.get(Er.MAX_SIZE);null!=V&&(y=V)}if(null!=l&&l.has(Er.DATA_MATRIX_COMPACT)&&l.get(Er.DATA_MATRIX_COMPACT).toString()){var se=l.has(Er.GS1_FORMAT)&&!!l.get(Er.GS1_FORMAT).toString(),ve=null;l.has(Er.CHARACTER_SET)&&(ve=Qh.forName(l.get(Er.CHARACTER_SET).toString())),$=Ks.encodeHighLevel(e,ve,se?29:-1,g)}else{var Ve=null!=l&&l.has(Er.FORCE_C40)&&!!l.get(Er.FORCE_C40).toString();$=Ir.encodeHighLevel(e,g,m,y,Ve)}var Pe=rh.lookup($.length,g,m,y,!0),Ye=Ym.encodeECC200($,Pe),at=new wa(Ye,Pe.getSymbolDataWidth(),Pe.getSymbolDataHeight());return at.place(),this.encodeLowLevel(at,Pe,s,u)},i.prototype.encodeLowLevel=function(e,n,s,u){for(var l=n.getSymbolDataWidth(),g=n.getSymbolDataHeight(),m=new $m(n.getSymbolWidth(),n.getSymbolHeight()),y=0,T=0;T<g;T++){var P=void 0;if(T%n.matrixHeight==0){P=0;for(var V=0;V<n.getSymbolWidth();V++)m.setBoolean(P,y,V%2==0),P++;y++}for(P=0,V=0;V<l;V++)V%n.matrixWidth==0&&(m.setBoolean(P,y,!0),P++),m.setBoolean(P,y,e.getBit(V,T)),P++,V%n.matrixWidth==n.matrixWidth-1&&(m.setBoolean(P,y,T%2==0),P++);if(y++,T%n.matrixHeight==n.matrixHeight-1){for(P=0,V=0;V<n.getSymbolWidth();V++)m.setBoolean(P,y,!0),P++;y++}}return this.convertByteMatrixToBitMatrix(m,s,u)},i.prototype.convertByteMatrixToBitMatrix=function(e,n,s){var V,u=e.getWidth(),l=e.getHeight(),g=Math.max(n,u),m=Math.max(s,l),y=Math.min(g/u,m/l),T=(g-u*y)/2,P=(m-l*y)/2;s<l||n<u?(T=0,P=0,V=new tr(u,l)):V=new tr(n,s),V.clear();for(var $=0,q=P;$<l;$++,q+=y)for(var se=0,ve=T;se<u;se++,ve+=y)1===e.get(se,$)&&V.setRegion(ve,q,y,y);return V}}();const dp=function(){function i(){}return i.prototype.isCompact=function(){return this.compact},i.prototype.setCompact=function(e){this.compact=e},i.prototype.getSize=function(){return this.size},i.prototype.setSize=function(e){this.size=e},i.prototype.getLayers=function(){return this.layers},i.prototype.setLayers=function(e){this.layers=e},i.prototype.getCodeWords=function(){return this.codeWords},i.prototype.setCodeWords=function(e){this.codeWords=e},i.prototype.getMatrix=function(){return this.matrix},i.prototype.setMatrix=function(e){this.matrix=e},i}(),Tg=function(){function i(){}return i.singletonList=function(e){return[e]},i.min=function(e,n){return e.sort(n)[0]},i}(),W0=function(){function i(e){this.previous=e}return i.prototype.getPrevious=function(){return this.previous},i}();var c1=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const Vc=function(i){function e(n,s,u){var l=i.call(this,n)||this;return l.value=s,l.bitCount=u,l}return c1(e,i),e.prototype.appendTo=function(n,s){n.appendBits(this.value,this.bitCount)},e.prototype.add=function(n,s){return new e(this,n,s)},e.prototype.addBinaryShift=function(n,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,n,s)},e.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return"<"+sr.toBinaryString((n|=1<<this.bitCount)|1<<this.bitCount).substring(1)+">"},e}(W0);var kl=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])})(e,n)};return function(e,n){function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();const af=function(i){function e(n,s,u){var l=i.call(this,n,0,0)||this;return l.binaryShiftStart=s,l.binaryShiftByteCount=u,l}return kl(e,i),e.prototype.appendTo=function(n,s){for(var u=0;u<this.binaryShiftByteCount;u++)(0===u||31===u&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):n.appendBits(0===u?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),n.appendBits(s[this.binaryShiftStart+u],8)},e.prototype.addBinaryShift=function(n,s){return new e(this,n,s)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(Vc);function Fl(i,e,n){return new Vc(i,e,n)}var q0=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],r_=new Vc(null,0,0),bg=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],lf=function i_(i){var e,n;try{for(var s=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),u=s.next();!u.done;u=s.next())Qr.fill(u.value,-1)}catch(g){e={error:g}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return i[0][4]=0,i[1][4]=0,i[1][0]=28,i[3][4]=0,i[2][4]=0,i[2][0]=15,i}(Qr.createInt32Array(6,6));const oh=function(){function i(e,n,s,u){this.token=e,this.mode=n,this.binaryShiftByteCount=s,this.bitCount=u}return i.prototype.getMode=function(){return this.mode},i.prototype.getToken=function(){return this.token},i.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},i.prototype.getBitCount=function(){return this.bitCount},i.prototype.latchAndAppend=function(e,n){var s=this.bitCount,u=this.token;if(e!==this.mode){var l=bg[this.mode][e];u=Fl(u,65535&l,l>>16),s+=l>>16}var g=2===e?4:5;return new i(u=Fl(u,n,g),e,0,s+g)},i.prototype.shiftAndAppend=function(e,n){var s=this.token,u=2===this.mode?4:5;return s=Fl(s,lf[this.mode][e],u),new i(s=Fl(s,n,5),this.mode,0,this.bitCount+u+5)},i.prototype.addBinaryShiftChar=function(e){var n=this.token,s=this.mode,u=this.bitCount;if(4===this.mode||2===this.mode){var l=bg[s][0];n=Fl(n,65535&l,l>>16),u+=l>>16,s=0}var m=new i(n,s,this.binaryShiftByteCount+1,u+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===m.binaryShiftByteCount&&(m=m.endBinaryShift(e+1)),m},i.prototype.endBinaryShift=function(e){if(0===this.binaryShiftByteCount)return this;var n=this.token;return n=function l1(i,e,n){return new af(i,e,n)}(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new i(n,this.mode,0,this.bitCount)},i.prototype.isBetterThanOrEqualTo=function(e){var n=this.bitCount+(bg[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=i.calculateBinaryShiftCost(e)-i.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount},i.prototype.toBitArray=function(e){for(var n,s,u=[],l=this.endBinaryShift(e.length).token;null!==l;l=l.getPrevious())u.unshift(l);var g=new _i;try{for(var m=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(u),y=m.next();!y.done;y=m.next())y.value.appendTo(g,e)}catch(P){n={error:P}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(n)throw n.error}}return g},i.prototype.toString=function(){return mt.format("%s bits=%d bytes=%d",q0[this.mode],this.bitCount,this.binaryShiftByteCount)},i.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},i.INITIAL_STATE=new i(r_,0,0,0),i}();var xg=function df(i){var e=mt.getCharCode(" "),n=mt.getCharCode("."),s=mt.getCharCode(",");i[0][e]=1;for(var u=mt.getCharCode("Z"),l=mt.getCharCode("A"),g=l;g<=u;g++)i[0][g]=g-l+2;i[1][e]=1;var m=mt.getCharCode("z"),y=mt.getCharCode("a");for(g=y;g<=m;g++)i[1][g]=g-y+2;i[2][e]=1;var T=mt.getCharCode("9"),P=mt.getCharCode("0");for(g=P;g<=T;g++)i[2][g]=g-P+2;i[2][s]=12,i[2][n]=13;for(var V=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],$=0;$<V.length;$++)i[3][mt.getCharCode(V[$])]=$;var q=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for($=0;$<q.length;$++)mt.getCharCode(q[$])>0&&(i[4][mt.getCharCode(q[$])]=$);return i}(Qr.createInt32Array(5,256)),pp=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const Sg=function(){function i(e){this.text=e}return i.prototype.encode=function(){for(var e=mt.getCharCode(" "),n=mt.getCharCode("\n"),s=Tg.singletonList(oh.INITIAL_STATE),u=0;u<this.text.length;u++){var l=void 0,g=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case mt.getCharCode("\r"):l=g===n?2:0;break;case mt.getCharCode("."):l=g===e?3:0;break;case mt.getCharCode(","):l=g===e?4:0;break;case mt.getCharCode(":"):l=g===e?5:0;break;default:l=0}l>0?(s=i.updateStateListForPair(s,u,l),u++):s=this.updateStateListForChar(s,u)}return Tg.min(s,function(y,T){return y.getBitCount()-T.getBitCount()}).toBitArray(this.text)},i.prototype.updateStateListForChar=function(e,n){var s,u,l=[];try{for(var g=pp(e),m=g.next();!m.done;m=g.next())this.updateStateForChar(m.value,n,l)}catch(T){s={error:T}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}return i.simplifyStates(l)},i.prototype.updateStateForChar=function(e,n,s){for(var u=255&this.text[n],l=xg[e.getMode()][u]>0,g=null,m=0;m<=4;m++){var y=xg[m][u];if(y>0){if(null==g&&(g=e.endBinaryShift(n)),!l||m===e.getMode()||2===m){var T=g.latchAndAppend(m,y);s.push(T)}if(!l&&lf[e.getMode()][m]>=0){var P=g.shiftAndAppend(m,y);s.push(P)}}}if(e.getBinaryShiftByteCount()>0||0===xg[e.getMode()][u]){var V=e.addBinaryShiftChar(n);s.push(V)}},i.updateStateListForPair=function(e,n,s){var u,l,g=[];try{for(var m=pp(e),y=m.next();!y.done;y=m.next())this.updateStateForPair(y.value,n,s,g)}catch(P){u={error:P}}finally{try{y&&!y.done&&(l=m.return)&&l.call(m)}finally{if(u)throw u.error}}return this.simplifyStates(g)},i.updateStateForPair=function(e,n,s,u){var l=e.endBinaryShift(n);if(u.push(l.latchAndAppend(4,s)),4!==e.getMode()&&u.push(l.shiftAndAppend(4,s)),3===s||4===s){var g=l.latchAndAppend(2,16-s).latchAndAppend(2,1);u.push(g)}if(e.getBinaryShiftByteCount()>0){var m=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);u.push(m)}},i.simplifyStates=function(e){var n,s,u,l,g=[];try{for(var m=pp(e),y=m.next();!y.done;y=m.next()){var T=y.value,P=!0,V=function(De){if(De.isBetterThanOrEqualTo(T))return P=!1,"break";T.isBetterThanOrEqualTo(De)&&(g=g.filter(function(Ve){return Ve!==De}))};try{for(var $=(u=void 0,pp(g)),q=$.next();!q.done&&"break"!==V(q.value);q=$.next());}catch(De){u={error:De}}finally{try{q&&!q.done&&(l=$.return)&&l.call($)}finally{if(u)throw u.error}}P&&g.push(T)}}catch(De){n={error:De}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(n)throw n.error}}return g},i}(),s_=function(){function i(){}return i.encodeBytes=function(e){return i.encode(e,i.DEFAULT_EC_PERCENT,i.DEFAULT_AZTEC_LAYERS)},i.encode=function(e,n,s){var m,y,T,P,V,u=new Sg(e).encode(),l=sr.truncDivision(u.getSize()*n,100)+11,g=u.getSize()+l;if(s!==i.DEFAULT_AZTEC_LAYERS){if(m=s<0,(y=Math.abs(s))>(m?i.MAX_NB_BITS_COMPACT:i.MAX_NB_BITS))throw new _n(mt.format("Illegal value %s for layers",s));var $=(T=i.totalBitsInLayer(y,m))-T%(P=i.WORD_SIZE[y]);if((V=i.stuffBits(u,P)).getSize()+l>$)throw new _n("Data to large for user specified layer");if(m&&V.getSize()>64*P)throw new _n("Data to large for user specified layer")}else{P=0,V=null;for(var q=0;;q++){if(q>i.MAX_NB_BITS)throw new _n("Data too large for an Aztec code");if(!(g>(T=i.totalBitsInLayer(y=(m=q<=3)?q+1:q,m)))&&((null==V||P!==i.WORD_SIZE[y])&&(V=i.stuffBits(u,P=i.WORD_SIZE[y])),$=T-T%P,!(m&&V.getSize()>64*P)&&V.getSize()+l<=$))break}}var Ye,se=i.generateCheckWords(V,T,P),ve=V.getSize()/P,De=i.generateModeMessage(m,y,ve),Ve=(m?11:14)+4*y,Pe=new Int32Array(Ve);if(m)for(Ye=Ve,q=0;q<Pe.length;q++)Pe[q]=q;else{Ye=Ve+1+2*sr.truncDivision(sr.truncDivision(Ve,2)-1,15);var at=sr.truncDivision(Ve,2),kt=sr.truncDivision(Ye,2);for(q=0;q<at;q++){var zt=q+sr.truncDivision(q,15);Pe[at-q-1]=kt-zt-1,Pe[at+q]=kt+zt+1}}for(var Kt=new tr(Ye),mn=(q=0,0);q<y;q++){for(var Jn=4*(y-q)+(m?9:12),ir=0;ir<Jn;ir++)for(var io=2*ir,ei=0;ei<2;ei++)se.get(mn+io+ei)&&Kt.set(Pe[2*q+ei],Pe[2*q+ir]),se.get(mn+2*Jn+io+ei)&&Kt.set(Pe[2*q+ir],Pe[Ve-1-2*q-ei]),se.get(mn+4*Jn+io+ei)&&Kt.set(Pe[Ve-1-2*q-ei],Pe[Ve-1-2*q-ir]),se.get(mn+6*Jn+io+ei)&&Kt.set(Pe[Ve-1-2*q-ir],Pe[2*q+ei]);mn+=8*Jn}if(i.drawModeMessage(Kt,m,Ye,De),m)i.drawBullsEye(Kt,sr.truncDivision(Ye,2),5);else for(i.drawBullsEye(Kt,sr.truncDivision(Ye,2),7),q=0,ir=0;q<sr.truncDivision(Ve,2)-1;q+=15,ir+=16)for(ei=1&sr.truncDivision(Ye,2);ei<Ye;ei+=2)Kt.set(sr.truncDivision(Ye,2)-ir,ei),Kt.set(sr.truncDivision(Ye,2)+ir,ei),Kt.set(ei,sr.truncDivision(Ye,2)-ir),Kt.set(ei,sr.truncDivision(Ye,2)+ir);var po=new dp;return po.setCompact(m),po.setSize(Ye),po.setLayers(y),po.setCodeWords(ve),po.setMatrix(Kt),po},i.drawBullsEye=function(e,n,s){for(var u=0;u<s;u+=2)for(var l=n-u;l<=n+u;l++)e.set(l,n-u),e.set(l,n+u),e.set(n-u,l),e.set(n+u,l);e.set(n-s,n-s),e.set(n-s+1,n-s),e.set(n-s,n-s+1),e.set(n+s,n-s),e.set(n+s,n-s+1),e.set(n+s,n+s-1)},i.generateModeMessage=function(e,n,s){var u=new _i;return e?(u.appendBits(n-1,2),u.appendBits(s-1,6),u=i.generateCheckWords(u,28,4)):(u.appendBits(n-1,5),u.appendBits(s-1,11),u=i.generateCheckWords(u,40,4)),u},i.drawModeMessage=function(e,n,s,u){var l=sr.truncDivision(s,2);if(n)for(var g=0;g<7;g++){var m=l-3+g;u.get(g)&&e.set(m,l-5),u.get(g+7)&&e.set(l+5,m),u.get(20-g)&&e.set(m,l+5),u.get(27-g)&&e.set(l-5,m)}else for(g=0;g<10;g++)m=l-5+g+sr.truncDivision(g,5),u.get(g)&&e.set(m,l-7),u.get(g+10)&&e.set(l+7,m),u.get(29-g)&&e.set(m,l+7),u.get(39-g)&&e.set(l-7,m)},i.generateCheckWords=function(e,n,s){var u,l,g=e.getSize()/s,m=new hg(i.getGF(s)),y=sr.truncDivision(n,s),T=i.bitsToWords(e,s,y);m.encode(T,y-g);var P=n%s,V=new _i;V.appendBits(0,P);try{for(var $=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Array.from(T)),q=$.next();!q.done;q=$.next())V.appendBits(q.value,s)}catch(ve){u={error:ve}}finally{try{q&&!q.done&&(l=$.return)&&l.call($)}finally{if(u)throw u.error}}return V},i.bitsToWords=function(e,n,s){var l,g,u=new Int32Array(s);for(l=0,g=e.getSize()/n;l<g;l++){for(var m=0,y=0;y<n;y++)m|=e.get(l*n+y)?1<<n-y-1:0;u[l]=m}return u},i.getGF=function(e){switch(e){case 4:return fi.AZTEC_PARAM;case 6:return fi.AZTEC_DATA_6;case 8:return fi.AZTEC_DATA_8;case 10:return fi.AZTEC_DATA_10;case 12:return fi.AZTEC_DATA_12;default:throw new _n("Unsupported word size "+e)}},i.stuffBits=function(e,n){for(var s=new _i,u=e.getSize(),l=(1<<n)-2,g=0;g<u;g+=n){for(var m=0,y=0;y<n;y++)(g+y>=u||e.get(g+y))&&(m|=1<<n-1-y);(m&l)===l?(s.appendBits(m&l,n),g--):m&l?s.appendBits(m,n):(s.appendBits(1|m,n),g--)}return s},i.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},i.DEFAULT_EC_PERCENT=33,i.DEFAULT_AZTEC_LAYERS=0,i.MAX_NB_BITS=32,i.MAX_NB_BITS_COMPACT=4,i.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),i}();!function(){function i(){}i.prototype.encode=function(e,n,s,u){return this.encodeWithHints(e,n,s,u,null)},i.prototype.encodeWithHints=function(e,n,s,u,l){var g=a1.ISO_8859_1,m=s_.DEFAULT_EC_PERCENT,y=s_.DEFAULT_AZTEC_LAYERS;return null!=l&&(l.has(Er.CHARACTER_SET)&&(g=Qh.forName(l.get(Er.CHARACTER_SET).toString())),l.has(Er.ERROR_CORRECTION)&&(m=sr.parseInt(l.get(Er.ERROR_CORRECTION).toString())),l.has(Er.AZTEC_LAYERS)&&(y=sr.parseInt(l.get(Er.AZTEC_LAYERS).toString()))),i.encodeLayers(e,n,s,u,g,m,y)},i.encodeLayers=function(e,n,s,u,l,g,m){if(n!==cn.AZTEC)throw new _n("Can only encode AZTEC, but got "+n);var y=s_.encode(mt.getBytes(e,l),g,m);return i.renderResult(y,s,u)},i.renderResult=function(e,n,s){var u=e.getMatrix();if(null==u)throw new Zo;for(var l=u.getWidth(),g=u.getHeight(),m=Math.max(n,l),y=Math.max(s,g),T=Math.min(m/l,y/g),P=(m-l*T)/2,V=(y-g*T)/2,$=new tr(m,y),q=0,se=V;q<g;q++,se+=T)for(var ve=0,De=P;ve<l;ve++,De+=T)u.get(ve,q)&&$.setRegion(De,se,T,T);return $}}();var u_=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(s[l]=u[l])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),c_=function(i){function e(n){var s=i.call(this,n.width,n.height)||this;return s.canvas=n,s.tempCanvasElement=null,s.buffer=e.makeBufferFromCanvasImageData(n),s}return u_(e,i),e.makeBufferFromCanvasImageData=function(n){var s;try{s=n.getContext("2d",{willReadFrequently:!0})}catch{s=n.getContext("2d")}if(!s)throw new Error("Couldn't get canvas context.");var u=s.getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(u.data,n.width,n.height)},e.toGrayscaleBuffer=function(n,s,u){for(var l=new Uint8ClampedArray(s*u),g=0,m=0,y=n.length;g<y;g+=4,m++){l[m]=0===n[g+3]?255:306*n[g]+601*n[g+1]+117*n[g+2]+512>>10}return l},e.prototype.getRow=function(n,s){if(n<0||n>=this.getHeight())throw new _n("Requested row is outside the image: "+n);var u=this.getWidth(),l=n*u;return null===s?s=this.buffer.slice(l,l+u):(s.length<u&&(s=new Uint8ClampedArray(u)),s.set(this.buffer.slice(l,l+u))),s},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,s,u,l){return i.prototype.crop.call(this,n,s,u,l),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new xs(this)},e.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var s=this.getTempCanvasElement();if(!s)throw new Error("Could not create a Canvas element.");var u=n*e.DEGREE_TO_RADIANS,l=this.canvas.width,g=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(u))*l+Math.abs(Math.sin(u))*g),y=Math.ceil(Math.abs(Math.sin(u))*l+Math.abs(Math.cos(u))*g);s.width=m,s.height=y;var T=s.getContext("2d");if(!T)throw new Error("Could not create a Canvas Context element.");return T.translate(m/2,y/2),T.rotate(u),T.drawImage(this.canvas,l/-2,g/-2),this.buffer=e.makeBufferFromCanvasImageData(s),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(vn);function Dg(){return typeof navigator<"u"}var ah=function(){return ah=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++)for(var u in e=arguments[n])Object.prototype.hasOwnProperty.call(e,u)&&(i[u]=e[u]);return i},ah.apply(this,arguments)},Co=function(i,e,n,s){return new(n||(n=Promise))(function(l,g){function m(P){try{T(s.next(P))}catch(V){g(V)}}function y(P){try{T(s.throw(P))}catch(V){g(V)}}function T(P){P.done?l(P.value):function u(l){return l instanceof n?l:new n(function(g){g(l)})}(P.value).then(m,y)}T((s=s.apply(i,e||[])).next())})},Ai=function(i,e){var s,u,l,g,n={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return g={next:m(0),throw:m(1),return:m(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function m(T){return function(P){return function y(T){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,u&&(l=2&T[0]?u.return:T[0]?u.throw||((l=u.return)&&l.call(u),0):u.next)&&!(l=l.call(u,T[1])).done)return l;switch(u=0,l&&(T=[2&T[0],l.value]),T[0]){case 0:case 1:l=T;break;case 4:return n.label++,{value:T[1],done:!1};case 5:n.label++,u=T[1],T=[0];continue;case 7:T=n.ops.pop(),n.trys.pop();continue;default:if(!(l=(l=n.trys).length>0&&l[l.length-1])&&(6===T[0]||2===T[0])){n=0;continue}if(3===T[0]&&(!l||T[1]>l[0]&&T[1]<l[3])){n.label=T[1];break}if(6===T[0]&&n.label<l[1]){n.label=l[1],l=T;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(T);break}l[2]&&n.ops.pop(),n.trys.pop();continue}T=e.call(i,n)}catch(P){T=[6,P],u=0}finally{s=l=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,P])}}},Rg=function(i){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d1={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Xs=function(){function i(e,n,s){void 0===n&&(n=new Map),void 0===s&&(s={}),this.reader=e,this.hints=n,this.options=ah(ah({},d1),s)}return Object.defineProperty(i.prototype,"possibleFormats",{set:function(e){this.hints.set(Ln.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),i.addVideoSource=function(e,n){try{e.srcObject=n}catch{console.error("got interrupted by new loading request")}},i.mediaStreamSetTorch=function(e,n){return Co(this,void 0,void 0,function(){return Ai(this,function(s){switch(s.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:n?"flash":"off",torch:!!n}]})];case 1:return s.sent(),[2]}})})},i.mediaStreamIsTorchCompatible=function(e){var n,s,u=e.getVideoTracks();try{for(var l=Rg(u),g=l.next();!g.done;g=l.next())if(i.mediaStreamIsTorchCompatibleTrack(g.value))return!0}catch(y){n={error:y}}finally{try{g&&!g.done&&(s=l.return)&&s.call(l)}finally{if(n)throw n.error}}return!1},i.mediaStreamIsTorchCompatibleTrack=function(e){try{return"torch"in e.getCapabilities()}catch(s){return console.error(s),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},i.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},i.getMediaElement=function(e,n){var s=document.getElementById(e);if(!s)throw new Wr("element with id '".concat(e,"' not found"));if(s.nodeName.toLowerCase()!==n.toLowerCase())throw new Wr("element with id '".concat(e,"' must be an ").concat(n," element"));return s},i.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if("string"==typeof e)return i.getMediaElement(e,"video");if(!e&&typeof document<"u"){var n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")},i.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if("string"==typeof e)return i.getMediaElement(e,"img");if(typeof e>"u"){var n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")},i.prepareVideoElement=function(e){var n=i.createVideoElement(e);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},i.isImageLoaded=function(e){return!(!e.complete||0===e.naturalWidth)},i.createBinaryBitmapFromCanvas=function(e){var n=new c_(e),s=new Mi(n);return new vc(s)},i.drawImageOnCanvas=function(e,n){e.drawImage(n,0,0)},i.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},i.createCaptureCanvas=function(e){if(!e)throw new Wr("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error('The page "Document" is undefined, make sure you\'re running in a browser.');var n=document.createElement("canvas"),s=i.getMediaElementDimensions(e),u=s.width,l=s.height;return n.style.width=u+"px",n.style.height=l+"px",n.width=u,n.height=l,n},i.tryPlayVideo=function(e){return Co(this,void 0,void 0,function(){var n;return Ai(this,function(s){switch(s.label){case 0:if(e?.ended)return console.error("Trying to play video that has ended."),[2,!1];if(i.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e.play()];case 2:return s.sent(),[2,!0];case 3:return n=s.sent(),console.warn("It was not possible to play the video.",n),[2,!1];case 4:return[2]}})})},i.createCanvasFromMediaElement=function(e){var n=i.createCaptureCanvas(e),s=n.getContext("2d");if(!s)throw new Error("Couldn't find Canvas 2D Context.");return i.drawImageOnCanvas(s,e),n},i.createBinaryBitmapFromMediaElem=function(e){var n=i.createCanvasFromMediaElement(e);return i.createBinaryBitmapFromCanvas(n)},i.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},i.listVideoInputDevices=function(){return Co(this,void 0,void 0,function(){var e,n,s,u,l,g,m,y,V,$;return Ai(this,function(q){switch(q.label){case 0:if(!Dg())throw new Error("Can't enumerate devices, navigator is not present.");if(!function Q0(){return!(!function l_(){return Dg()&&!!navigator.mediaDevices}()||!navigator.mediaDevices.enumerateDevices)}())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=q.sent(),n=[];try{for(s=Rg(e),u=s.next();!u.done;u=s.next())"videoinput"===(g="video"===(l=u.value).kind?"videoinput":l.kind)&&(m=l.deviceId||l.id,y=l.label||"Video device ".concat(n.length+1),n.push({deviceId:m,label:y,kind:g,groupId:l.groupId}))}catch(se){V={error:se}}finally{try{u&&!u.done&&($=s.return)&&$.call(s)}finally{if(V)throw V.error}}return[2,n]}})})},i.findDeviceById=function(e){return Co(this,void 0,void 0,function(){var n;return Ai(this,function(s){switch(s.label){case 0:return[4,i.listVideoInputDevices()];case 1:return(n=s.sent())?[2,n.find(function(u){return u.deviceId===e})]:[2]}})})},i.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},i.releaseAllStreams=function(){0!==i.streamTracker.length&&i.streamTracker.forEach(function(e){e.getTracks().forEach(function(n){return n.stop()})}),i.streamTracker=[]},i.playVideoOnLoadAsync=function(e,n){return Co(this,void 0,void 0,function(){return Ai(this,function(u){switch(u.label){case 0:return[4,i.tryPlayVideo(e)];case 1:return u.sent()?[2,!0]:[2,new Promise(function(l,g){var m=setTimeout(function(){i.isVideoPlaying(e)||(g(!1),e.removeEventListener("canplay",y))},n),y=function(){i.tryPlayVideo(e).then(function(T){clearTimeout(m),e.removeEventListener("canplay",y),l(T)})};e.addEventListener("canplay",y)})]}})})},i.attachStreamToVideo=function(e,n,s){return void 0===s&&(s=5e3),Co(this,void 0,void 0,function(){var u;return Ai(this,function(l){switch(l.label){case 0:return u=i.prepareVideoElement(n),i.addVideoSource(u,e),[4,i.playVideoOnLoadAsync(u,s)];case 1:return l.sent(),[2,u]}})})},i._waitImageLoad=function(e){return new Promise(function(n,s){var l=setTimeout(function(){i.isImageLoaded(e)||(e.removeEventListener("load",g),s())},1e4),g=function(){clearTimeout(l),e.removeEventListener("load",g),n()};e.addEventListener("load",g)})},i.checkCallbackFnOrThrow=function(e){if(!e)throw new Wr("`callbackFn` is a required parameter, you cannot capture results without it.")},i.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(n){return n.stop()}),e=void 0},i.prototype.decode=function(e){var n=i.createCanvasFromMediaElement(e);return this.decodeFromCanvas(n)},i.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},i.prototype.decodeFromCanvas=function(e){var n=i.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(n)},i.prototype.decodeFromImageElement=function(e){return Co(this,void 0,void 0,function(){var n;return Ai(this,function(s){switch(s.label){case 0:if(!e)throw new Wr("An image element must be provided.");return n=i.prepareImageElement(e),[4,this._decodeOnLoadImage(n)];case 1:return[2,s.sent()]}})})},i.prototype.decodeFromImageUrl=function(e){return Co(this,void 0,void 0,function(){var n;return Ai(this,function(s){switch(s.label){case 0:if(!e)throw new Wr("An URL must be provided.");(n=i.prepareImageElement()).src=e,s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.decodeFromImageElement(n)];case 2:return[2,s.sent()];case 3:return i.destroyImageElement(n),[7];case 4:return[2]}})})},i.prototype.decodeFromConstraints=function(e,n,s){return Co(this,void 0,void 0,function(){var u,l;return Ai(this,function(g){switch(g.label){case 0:return i.checkCallbackFnOrThrow(s),[4,this.getUserMedia(e)];case 1:u=g.sent(),g.label=2;case 2:return g.trys.push([2,4,,5]),[4,this.decodeFromStream(u,n,s)];case 3:return[2,g.sent()];case 4:throw l=g.sent(),i.disposeMediaStream(u),l;case 5:return[2]}})})},i.prototype.decodeFromStream=function(e,n,s){return Co(this,void 0,void 0,function(){var l,m,y,T,V,$,q=this;return Ai(this,function(se){switch(se.label){case 0:return i.checkCallbackFnOrThrow(s),[4,i.attachStreamToVideo(e,n,this.options.tryPlayVideoTimeout)];case 1:return l=se.sent(),m=this.scan(l,s,function(){i.disposeMediaStream(e),i.cleanVideoSource(l)}),y=e.getVideoTracks(),T=ah(ah({},m),{stop:function(){m.stop()},streamVideoConstraintsApply:function(ve,De){return Co(this,void 0,void 0,function(){var Ve,Pe,Ye,kt,zt,Kt;return Ai(this,function(mn){switch(mn.label){case 0:Ve=De?y.filter(De):y,mn.label=1;case 1:mn.trys.push([1,6,7,8]),Pe=Rg(Ve),Ye=Pe.next(),mn.label=2;case 2:return Ye.done?[3,5]:[4,Ye.value.applyConstraints(ve)];case 3:mn.sent(),mn.label=4;case 4:return Ye=Pe.next(),[3,2];case 5:return[3,8];case 6:return kt=mn.sent(),zt={error:kt},[3,8];case 7:try{Ye&&!Ye.done&&(Kt=Pe.return)&&Kt.call(Pe)}finally{if(zt)throw zt.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(ve){return y.find(ve).getConstraints()},streamVideoSettingsGet:function(ve){return y.find(ve).getSettings()},streamVideoCapabilitiesGet:function(ve){return y.find(ve).getCapabilities()}}),i.mediaStreamIsTorchCompatible(e)&&(V=y?.find(function(ve){return i.mediaStreamIsTorchCompatibleTrack(ve)}),T.switchTorch=$=function(ve){return Co(q,void 0,void 0,function(){return Ai(this,function(De){switch(De.label){case 0:return[4,i.mediaStreamSetTorch(V,ve)];case 1:return De.sent(),[2]}})})},T.stop=function(){return Co(q,void 0,void 0,function(){return Ai(this,function(ve){switch(ve.label){case 0:return m.stop(),[4,$(!1)];case 1:return ve.sent(),[2]}})})}),[2,T]}})})},i.prototype.decodeFromVideoDevice=function(e,n,s){return Co(this,void 0,void 0,function(){return Ai(this,function(g){switch(g.label){case 0:return i.checkCallbackFnOrThrow(s),[4,this.decodeFromConstraints({video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},n,s)];case 1:return[2,g.sent()]}})})},i.prototype.decodeFromVideoElement=function(e,n){return Co(this,void 0,void 0,function(){var s;return Ai(this,function(l){switch(l.label){case 0:if(i.checkCallbackFnOrThrow(n),!e)throw new Wr("A video element must be provided.");return s=i.prepareVideoElement(e),[4,i.playVideoOnLoadAsync(s,this.options.tryPlayVideoTimeout)];case 1:return l.sent(),[2,this.scan(s,n)]}})})},i.prototype.decodeFromVideoUrl=function(e,n){return Co(this,void 0,void 0,function(){var s,u;return Ai(this,function(m){switch(m.label){case 0:if(i.checkCallbackFnOrThrow(n),!e)throw new Wr("An URL must be provided.");return(s=i.prepareVideoElement()).src=e,u=function(){i.cleanVideoSource(s)},[4,i.playVideoOnLoadAsync(s,this.options.tryPlayVideoTimeout)];case 1:return m.sent(),[2,this.scan(s,n,u)]}})})},i.prototype.decodeOnceFromConstraints=function(e,n){return Co(this,void 0,void 0,function(){var s;return Ai(this,function(u){switch(u.label){case 0:return[4,this.getUserMedia(e)];case 1:return s=u.sent(),[4,this.decodeOnceFromStream(s,n)];case 2:return[2,u.sent()]}})})},i.prototype.decodeOnceFromStream=function(e,n){return Co(this,void 0,void 0,function(){var s,u;return Ai(this,function(g){switch(g.label){case 0:return s=!!n,[4,i.attachStreamToVideo(e,n)];case 1:u=g.sent(),g.label=2;case 2:return g.trys.push([2,,4,5]),[4,this.scanOneResult(u)];case 3:return[2,g.sent()];case 4:return s||i.cleanVideoSource(u),[7];case 5:return[2]}})})},i.prototype.decodeOnceFromVideoDevice=function(e,n){return Co(this,void 0,void 0,function(){return Ai(this,function(l){switch(l.label){case 0:return[4,this.decodeOnceFromConstraints({video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},n)];case 1:return[2,l.sent()]}})})},i.prototype.decodeOnceFromVideoElement=function(e){return Co(this,void 0,void 0,function(){var n;return Ai(this,function(u){switch(u.label){case 0:if(!e)throw new Wr("A video element must be provided.");return n=i.prepareVideoElement(e),[4,i.playVideoOnLoadAsync(n,this.options.tryPlayVideoTimeout)];case 1:return u.sent(),[4,this.scanOneResult(n)];case 2:return[2,u.sent()]}})})},i.prototype.decodeOnceFromVideoUrl=function(e){return Co(this,void 0,void 0,function(){var n,s;return Ai(this,function(u){switch(u.label){case 0:if(!e)throw new Wr("An URL must be provided.");(n=i.prepareVideoElement()).src=e,s=this.decodeOnceFromVideoElement(n),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,s];case 2:return[2,u.sent()];case 3:return i.cleanVideoSource(n),[7];case 4:return[2]}})})},i.prototype.scanOneResult=function(e,n,s,u){var l=this;return void 0===n&&(n=!0),void 0===s&&(s=!0),void 0===u&&(u=!0),new Promise(function(g,m){l.scan(e,function(y,T,P){if(y)return g(y),void P.stop();if(T){if(T instanceof Ke&&n||T instanceof mi&&s||T instanceof Qt&&u)return;P.stop(),m(T)}})})},i.prototype.scan=function(e,n,s){var u=this;i.checkCallbackFnOrThrow(n);var g,l=i.createCaptureCanvas(e);try{g=l.getContext("2d",{willReadFrequently:!0})}catch{g=l.getContext("2d")}if(!g)throw new Error("Couldn't create canvas for visual element scan.");var T,m=function(){g=void 0,l=void 0},y=!1,V={stop:function(){y=!0,clearTimeout(T),m(),s&&s()}},$=function(){if(!y)try{i.drawImageOnCanvas(g,e);var q=u.decodeFromCanvas(l);n(q,void 0,V),T=setTimeout($,u.options.delayBetweenScanSuccess)}catch(Ve){if(n(void 0,Ve,V),Ve instanceof mi||Ve instanceof Qt||Ve instanceof Ke)return void(T=setTimeout($,u.options.delayBetweenScanAttempts));m(),s&&s(Ve)}};return $(),V},i.prototype._decodeOnLoadImage=function(e){return Co(this,void 0,void 0,function(){return Ai(this,function(s){switch(s.label){case 0:return i.isImageLoaded(e)?[3,2]:[4,i._waitImageLoad(e)];case 1:s.sent(),s.label=2;case 2:return[2,this.decode(e)]}})})},i.prototype.getUserMedia=function(e){return Co(this,void 0,void 0,function(){var n;return Ai(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=s.sent(),i.streamTracker.push(n),[2,n]}})})},i.streamTracker=[],i}(),mp=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(s[l]=u[l])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),hE=(function(i){mp(function e(n,s){return i.call(this,new ke,n,s)||this},i)}(Xs),function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(s[l]=u[l])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}()),fE=(function(i){hE(function e(n,s){return i.call(this,new eo(n),n,s)||this},i)}(Xs),function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(s[l]=u[l])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}()),Y0=(function(i){fE(function e(n,s){return i.call(this,new Fh,n,s)||this},i)}(Xs),function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(s[l]=u[l])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}()),d_=function(i){function e(n,s){var u=this,l=new Hm;return l.setHints(n),(u=i.call(this,l,n,s)||this).reader=l,u}return Y0(e,i),Object.defineProperty(e.prototype,"possibleFormats",{set:function(n){this.hints.set(Ln.POSSIBLE_FORMATS,n),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e.prototype.setHints=function(n){this.hints=n,this.reader.setHints(this.hints)},e}(Xs),h1=function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(s[l]=u[l])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),f1=(function(i){h1(function e(n,s){return i.call(this,new qh,n,s)||this},i)}(Xs),function(){var i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(s[l]=u[l])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}()),Nu=(function(i){f1(function e(n,s){return i.call(this,new zd,n,s)||this},i)}(Xs),"http://www.w3.org/2000/svg"),hf=(function(){function i(e){if("string"==typeof e){var n=document.getElementById(e);if(!n)throw new Error("Could not find a Container element with '".concat(e,"'."));this.containerElement=n}else this.containerElement=e}i.prototype.write=function(e,n,s,u){if(0===e.length)throw new _n("Found empty contents");if(n<0||s<0)throw new _n("Requested dimensions are too small: "+n+"x"+s);var l=u&&void 0!==u.get(Er.MARGIN)?Number.parseInt(u.get(Er.MARGIN).toString(),10):i.QUIET_ZONE_SIZE,g=this.encode(u,e);return this.renderResult(g,n,s,l)},i.prototype.createSVGElement=function(e,n){var s=document.createElementNS(i.SVG_NS,"svg");return s.setAttributeNS(Nu,"width",n.toString()),s.setAttributeNS(Nu,"height",e.toString()),s},i.prototype.createSvgPathPlaceholderElement=function(e,n){var s=document.createElementNS(i.SVG_NS,"path");return s.setAttributeNS(Nu,"d","M0 0h".concat(e,"v").concat(n,"H0z")),s.setAttributeNS(Nu,"fill","none"),s},i.prototype.createSvgRectElement=function(e,n,s,u){var l=document.createElementNS(i.SVG_NS,"rect");return l.setAttributeNS(Nu,"x",e.toString()),l.setAttributeNS(Nu,"y",n.toString()),l.setAttributeNS(Nu,"height",s.toString()),l.setAttributeNS(Nu,"width",u.toString()),l.setAttributeNS(Nu,"fill","#000000"),l},i.prototype.encode=function(e,n){var s=ic.L;if(e&&void 0!==e.get(Er.ERROR_CORRECTION)){var u=e.get(Er.ERROR_CORRECTION).toString();s=ic.fromString(u)}return Kh.encode(n,s,e)},i.prototype.renderResult=function(e,n,s,u){var l=e.getMatrix();if(null===l)throw new Zo;var g=l.getWidth(),m=l.getHeight(),y=g+2*u,T=m+2*u,P=Math.max(n,y),V=Math.max(s,T),$=Math.min(Math.floor(P/y),Math.floor(V/T)),q=Math.floor((P-g*$)/2),se=Math.floor((V-m*$)/2),ve=this.createSVGElement(P,V),De=this.createSvgPathPlaceholderElement(n,s);ve.appendChild(De),this.containerElement.appendChild(ve);for(var Ve=0,Pe=se;Ve<m;Ve++,Pe+=$)for(var Ye=0,at=q;Ye<g;Ye++,at+=$)if(1===l.get(Ye,Ve)){var kt=this.createSvgRectElement(at,Pe,$,$);ve.appendChild(kt)}return ve},i.QUIET_ZONE_SIZE=4,i.SVG_NS="http://www.w3.org/2000/svg"}(),"http://www.w3.org/2000/svg"),Mg=(function(){function i(){}i.prototype.write=function(e,n,s,u){if(0===e.length)throw new _n("Found empty contents");if(n<0||s<0)throw new _n("Requested dimensions are too small: "+n+"x"+s);var l=ic.L,g=i.QUIET_ZONE_SIZE;if(u){if(void 0!==u.get(Er.ERROR_CORRECTION)){var m=u.get(Er.ERROR_CORRECTION).toString();l=ic.fromString(m)}void 0!==u.get(Er.MARGIN)&&(g=Number.parseInt(u.get(Er.MARGIN).toString(),10))}var y=Kh.encode(e,l,u);return this.renderResult(y,n,s,g)},i.prototype.writeToDom=function(e,n,s,u,l){if("string"==typeof e){var g=document.querySelector(e);if(!g)throw new Error("Could no find the target HTML element.");e=g}var m=this.write(n,s,u,l);e instanceof HTMLElement&&e.appendChild(m)},i.prototype.renderResult=function(e,n,s,u){var l=e.getMatrix();if(null===l)throw new Zo;for(var g=l.getWidth(),m=l.getHeight(),y=g+2*u,T=m+2*u,P=Math.max(n,y),V=Math.max(s,T),$=Math.min(Math.floor(P/y),Math.floor(V/T)),q=Math.floor((P-g*$)/2),se=Math.floor((V-m*$)/2),ve=this.createSVGElement(P,V),De=0,Ve=se;De<m;De++,Ve+=$)for(var Pe=0,Ye=q;Pe<g;Pe++,Ye+=$)if(1===l.get(Pe,De)){var at=this.createSvgRectElement(Ye,Ve,$,$);ve.appendChild(at)}return ve},i.prototype.createSVGElement=function(e,n){var s=document.createElementNS(hf,"svg"),u=e.toString(),l=n.toString();return s.setAttribute("height",l),s.setAttribute("width",u),s.setAttribute("viewBox","0 0 "+u+" "+l),s},i.prototype.createSvgRectElement=function(e,n,s,u){var l=document.createElementNS(hf,"rect");return l.setAttribute("x",e.toString()),l.setAttribute("y",n.toString()),l.setAttribute("height",s.toString()),l.setAttribute("width",u.toString()),l.setAttribute("fill","#000000"),l},i.QUIET_ZONE_SIZE=4}(),ie(4412));const _p=["preview"];class ff extends d_{getScannerControls(){if(!this.scannerControls)throw new Error("No scanning is running at the time.");return this.scannerControls}scanFromDeviceObservable(e,n){var s=this;return(0,Ee.A)(function*(){const u=new Mg.t({});let l;try{l=yield s.decodeFromVideoDevice(e,n,(g,m)=>{if(!m)return void u.next({result:g});const y=m.name;y===Ke.name||y===mi.name||y===Qt.name||m.message.includes("No MultiFormat Readers were able to detect the code.")?u.next({error:m}):(u.error(m),s.scannerControls.stop(),s.scannerControls=void 0)}),s.scannerControls={...l,stop(){l.stop(),u.complete()}}}catch(g){u.error(g),s.scannerControls?.stop(),s.scannerControls=void 0}return u.asObservable()})()}}let g1=(()=>{class i{get codeReader(){return this._codeReader}set device(n){this._ready?this.isAutostarting?console.warn("Avoid setting a device during auto-start."):this.isCurrentDevice(n)?console.warn("Setting the same device is not allowed."):this.hasPermission?this.setDevice(n):console.warn("Permissions not set yet, waiting for them to be set to apply device change."):this._devicePreStart=n}get device(){return this._device}get formats(){return this.hints.get(Ln.POSSIBLE_FORMATS)}set formats(n){if("string"==typeof n)throw new Error("Invalid formats, make sure the [formats] input is a binding.");const s=n.map(l=>this.getBarcodeFormatOrFail(l)),u=this.hints;u.set(Ln.POSSIBLE_FORMATS,s),this.hints=u}get hints(){return this._hints}set hints(n){this._hints=n,this.codeReader?.setHints(this._hints)}set videoConstraints(n){const s=this.codeReader?.getScannerControls();s&&s?.streamVideoConstraintsApply(n)}set isAutostarting(n){this._isAutostarting=n,this.autostarting.next(n)}get isAutostarting(){return this._isAutostarting}set torch(n){try{this.getCodeReader().getScannerControls().switchTorch(n)}catch{}}set enable(n){this._enabled!==!!n&&(this._enabled=!!n,this._enabled?this.device?this.scanFromDevice(this.device.deviceId):this.init():(this.reset(),ff.releaseAllStreams()))}get enabled(){return this._enabled}get tryHarder(){return this.hints.get(Ln.TRY_HARDER)}set tryHarder(n){const s=this.hints;n?s.set(Ln.TRY_HARDER,!0):s.delete(Ln.TRY_HARDER),this.hints=s}constructor(){this.timeBetweenScans=500,this.delayBetweenScanSuccess=500,this.previewFitMode="cover",this.poster="",this._ready=!1,this.autostarted=new U.bkB,this.autostarting=new U.bkB,this.torchCompatible=new U.bkB(!1),this.scanSuccess=new U.bkB,this.scanFailure=new U.bkB,this.scanError=new U.bkB,this.scanComplete=new U.bkB,this.camerasFound=new U.bkB,this.camerasNotFound=new U.bkB,this.permissionResponse=new U.bkB(!0),this.hasDevices=new U.bkB,this.deviceChange=new U.bkB,this._enabled=!0,this._hints=new Map,this.autofocusEnabled=!0,this.autostart=!0,this.formats=[cn.QR_CODE],this.hasNavigator=typeof navigator<"u",this.isMediaDevicesSupported=this.hasNavigator&&!!navigator.mediaDevices}askForPermission(){var n=this;return(0,Ee.A)(function*(){if(!n.hasNavigator)return console.error("@zxing/ngx-scanner","Can't ask permission, navigator is not present."),n.setPermission(null),n.hasPermission;if(!n.isMediaDevicesSupported)return console.error("@zxing/ngx-scanner","Can't get user media, this is not supported."),n.setPermission(null),n.hasPermission;let s,u;try{s=yield n.getAnyVideoDevice(),u=!!s}catch(l){return n.handlePermissionException(l)}finally{n.terminateStream(s)}return n.setPermission(u),u})()}getAnyVideoDevice(){return navigator.mediaDevices.getUserMedia({video:!0})}terminateStream(n){n&&n.getTracks().forEach(s=>s.stop()),n=void 0}init(){var n=this;return(0,Ee.A)(function*(){if(!n.autostart)return console.warn("Feature 'autostart' disabled. Permissions and devices recovery has to be run manually."),n.initAutostartOff(),void(n._ready=!0);yield n.initAutostartOn(),n._ready=!0})()}initAutostartOff(){this.isAutostarting=!1,this.updateVideoInputDevices(),this._device&&this._devicePreStart&&this.setDevice(this._devicePreStart)}initAutostartOn(){var n=this;return(0,Ee.A)(function*(){let s;n.isAutostarting=!0;try{s=yield n.askForPermission()}catch(u){return void console.error("Exception occurred while asking for permission:",u)}if(s){const u=yield n.updateVideoInputDevices();yield n.autostartScanner([...u])}n.isAutostarting=!1,n.autostarted.next()})()}isCurrentDevice(n){return n?.deviceId===this._device?.deviceId}ngOnDestroy(){this.reset(),Xs.cleanVideoSource(this.previewElemRef.nativeElement),ff.releaseAllStreams()}ngOnInit(){this.init()}scanStop(){this._scanSubscription&&(this.codeReader?.getScannerControls().stop(),this._scanSubscription?.unsubscribe(),this._scanSubscription=void 0),this.torchCompatible.next(!1)}scanStart(){if(this._scanSubscription)throw new Error("There is already a scan process running.");if(!this._device)throw new Error("No device defined, cannot start scan, please define a device.");this.scanFromDevice(this._device.deviceId)}restart(){this._codeReader=void 0;const n=this._reset();n&&(this.device=n)}updateVideoInputDevices(){var n=this;return(0,Ee.A)(function*(){const s=(yield Xs.listVideoInputDevices())||[],u=s&&s.length>0;return n.hasDevices.next(u),n.camerasFound.next([...s]),u||n.camerasNotFound.next(null),s})()}autostartScanner(n){var s=this;return(0,Ee.A)(function*(){const l=n.find(({label:g})=>/back|tr\xe1s|rear|traseira|environment|ambiente/gi.test(g))||n.pop();if(!l)throw new Error("Impossible to autostart, no input devices available.");yield s.setDevice(l),s.deviceChange.next(l)})()}dispatchScanSuccess(n){this.scanSuccess.next(n.getText())}dispatchScanFailure(n){this.scanFailure.next(n)}dispatchScanError(n){this.scanError.observed||(console.error(`zxing scanner component: ${n.name}`,n),console.warn("Use the `(scanError)` property to handle errors like this!")),this.scanError.next(n)}dispatchScanComplete(n){this.scanComplete.next(n)}handlePermissionException(n){let s;switch(console.error("@zxing/ngx-scanner","Error when asking for permission.",n),n.name){case"NotSupportedError":console.warn("@zxing/ngx-scanner",n.message),s=null,this.hasDevices.next(null);break;case"NotAllowedError":console.warn("@zxing/ngx-scanner",n.message),s=!1,this.hasDevices.next(!0);break;case"NotFoundError":console.warn("@zxing/ngx-scanner",n.message),s=null,this.hasDevices.next(!1),this.camerasNotFound.next(n);break;case"NotReadableError":console.warn("@zxing/ngx-scanner","Couldn't read the device(s)'s stream, it's probably in use by another app."),s=null,this.hasDevices.next(!1),this.camerasNotFound.next(n);break;default:console.warn("@zxing/ngx-scanner","I was not able to define if I have permissions for camera or not.",n),s=null}return this.setPermission(s),this.permissionResponse.error(n),s}getBarcodeFormatOrFail(n){return"string"==typeof n?cn[n.trim().toUpperCase()]:n}getCodeReader(){return this._codeReader||(this._codeReader=new ff(this.hints,{delayBetweenScanAttempts:this.timeBetweenScans,delayBetweenScanSuccess:this.delayBetweenScanSuccess})),this._codeReader}scanFromDevice(n){var s=this;return(0,Ee.A)(function*(){const u=s.previewElemRef.nativeElement,l=s.getCodeReader(),g=yield l.scanFromDeviceObservable(n,u);if(!g)throw new Error("Undefined decoding stream, aborting.");if(s._scanSubscription=g.subscribe($=>s._onDecodeResult($.result,$.error),$=>s._onDecodeError($),()=>{}),s._scanSubscription.closed)return;const V=typeof l.getScannerControls().switchTorch<"u";s.torchCompatible.next(V)})()}_onDecodeError(n){this.dispatchScanError(n)}_onDecodeResult(n,s){n?this.dispatchScanSuccess(n):this.dispatchScanFailure(s),this.dispatchScanComplete(n)}_reset(){if(!this._codeReader)return;this.scanStop();try{Xs.cleanVideoSource(this.previewElemRef.nativeElement)}catch{}try{Xs.releaseAllStreams()}catch{}this._codeReader=void 0;const n=this._device;return this.device=void 0,n}reset(){this._reset(),this.deviceChange.emit(null)}setDevice(n){var s=this;return(0,Ee.A)(function*(){s.scanStop(),s._device=n||void 0,s._device||Xs.cleanVideoSource(s.previewElemRef.nativeElement),s._enabled&&n&&(yield s.scanFromDevice(n.deviceId))})()}setPermission(n){this.hasPermission=n,this.permissionResponse.next(n)}static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275cmp=U.VBU({type:i,selectors:[["zxing-scanner"]],viewQuery:function(s,u){if(1&s&&U.GBs(_p,7),2&s){let l;U.mGM(l=U.lsd())&&(u.previewElemRef=l.first)}},inputs:{autofocusEnabled:"autofocusEnabled",timeBetweenScans:"timeBetweenScans",delayBetweenScanSuccess:"delayBetweenScanSuccess",autostart:"autostart",previewFitMode:"previewFitMode",poster:"poster",device:"device",formats:"formats",videoConstraints:"videoConstraints",torch:"torch",enable:"enable",tryHarder:"tryHarder"},outputs:{autostarted:"autostarted",autostarting:"autostarting",torchCompatible:"torchCompatible",scanSuccess:"scanSuccess",scanFailure:"scanFailure",scanError:"scanError",scanComplete:"scanComplete",camerasFound:"camerasFound",camerasNotFound:"camerasNotFound",permissionResponse:"permissionResponse",hasDevices:"hasDevices",deviceChange:"deviceChange"},decls:6,vars:3,consts:[["preview",""],[3,"poster"]],template:function(s,u){1&s&&(U.j41(0,"video",1,0)(2,"p"),U.EFF(3," Your browser does not support this feature, please try to upgrade it. "),U.k0s(),U.j41(4,"p"),U.EFF(5," Seu navegador n\xe3o suporta este recurso, por favor tente atualiz\xe1-lo. "),U.k0s()()),2&s&&(U.xc7("object-fit",u.previewFitMode),U.Y8G("poster",u.poster,U.B4B))},styles:["[_nghost-%COMP%]{display:block}video[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:contain}"],changeDetection:0})}return i})(),h_=(()=>{class i{static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275mod=U.$C({type:i});static#n=this.\u0275inj=U.G2t({imports:[Wt.MD,Te.YN]})}return i})(),Ed=(()=>{class i{constructor(){this.qrDataSubject=new Mg.t(null),this.qrData$=this.qrDataSubject.asObservable()}setQRData(n){this.qrDataSubject.next(n)}static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275prov=U.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function pf(i,e){if(1&i){const n=U.RV6();U.nrm(0,"app-badge",6),U.j41(1,"app-button",7),U.bIt("clickEvent",function(){U.eBV(n);const u=U.XpG(2);return U.Njj(u.cancel())}),U.k0s()}2&i&&(U.R7$(),U.Y8G("severity","neutral")("variant","link")("icon","xmark")("direction","none")("type","button"))}function m1(i,e){1&i&&U.nrm(0,"app-badge",8)}function f_(i,e){if(1&i&&(U.DNE(0,m1,1,0,"app-badge",8),U.j41(1,"span",3),U.nrm(2,"div",9)(3,"div",10),U.k0s()),2&i){const n=U.XpG(2);U.vxM(n.isMobile?0:-1)}}function p_(i,e){1&i&&U.nrm(0,"app-badge",12)}function _1(i,e){1&i&&U.nrm(0,"app-badge",13)}function g_(i,e){if(1&i){const n=U.RV6();U.j41(0,"span",3)(1,"zxing-scanner",11),U.mxI("deviceChange",function(u){U.eBV(n);const l=U.XpG(2);return U.DH7(l.currentDevice,u)||(l.currentDevice=u),U.Njj(u)}),U.bIt("scanSuccess",function(u){U.eBV(n);const l=U.XpG(2);return U.Njj(l.onCodeResult(u))})("permissionResponse",function(u){U.eBV(n);const l=U.XpG(2);return U.Njj(l.onHasPermission(u))})("camerasFound",function(u){U.eBV(n);const l=U.XpG(2);return U.Njj(l.onCamerasFound(u))})("torchCompatible",function(u){U.eBV(n);const l=U.XpG(2);return U.Njj(l.onTorchCompatible(u))}),U.k0s(),U.nrm(2,"div",9)(3,"div",10),U.k0s(),U.DNE(4,p_,1,0,"app-badge",12)(5,_1,1,0,"app-badge",13)}if(2&i){const n=U.XpG(2);U.R7$(),U.Y8G("torch",n.torchEnabled),U.R50("device",n.currentDevice),U.Y8G("formats",n.formatsEnabled)("tryHarder",n.tryHarder),U.R7$(3),U.vxM(n.qrResultString?4:5)}}function m_(i,e){1&i&&U.nrm(0,"app-label",4),2&i&&U.Y8G("label","Enfoca")("icon","info-circle")}function Z0(i,e){1&i&&(U.j41(0,"footer",5),U.nrm(1,"app-button",14)(2,"app-button",15),U.k0s()),2&i&&(U.R7$(),U.Y8G("variant","outline")("direction","row")("icon","close")("label","Cancelar"),U.R7$(),U.Y8G("variant","fill")("direction","row")("icon","pencil")("label","Registro manual"))}function Og(i,e){if(1&i&&(U.j41(0,"section",0)(1,"div",1),U.nrm(2,"app-label",2),U.DNE(3,pf,2,5),U.k0s(),U.DNE(4,f_,4,1,"span",3)(5,g_,6,5)(6,m_,1,2,"app-label",4)(7,Z0,3,8,"footer",5),U.k0s()),2&i){const n=U.XpG();U.R7$(2),U.Y8G("size",n.isMobile?"md":"sm")("prefix","Autoregistro")("label","Scan QR")("subtitle",n.isMobile?"Scanea el QR para obtener su contenido y autocompletar el formulario.":"")("direction",n.isMobile?"column":"row"),U.R7$(),U.vxM(n.isMobile?-1:3),U.R7$(),U.vxM(n.noPermissions?4:-1),U.R7$(),U.vxM(n.noPermissions?-1:5),U.R7$(),U.vxM(n.isMobile?6:-1),U.R7$(),U.vxM(n.isMobile?7:-1)}}let Pg=(()=>{class i{constructor(n,s){this.router=n,this.QrService=s,this.currentDevice=null,this.formatsEnabled=[cn.CODE_128,cn.DATA_MATRIX,cn.EAN_13,cn.QR_CODE],this.noPermissions=!1,this.torchEnabled=!1,this.torchAvailable$=new Mg.t(!1),this.tryHarder=!1,this.qrRegistro=!0}onResize(n){this.checkIfMobile(n.target.innerWidth)}ngOnInit(){this.checkCameraPermissions()}checkCameraPermissions(){navigator.mediaDevices.getUserMedia({video:!0}).then(()=>{this.noPermissions=!1}).catch(()=>{this.noPermissions=!0})}onCodeResult(n){this.qrResultString=n,this.QrService.setQRData(this.qrResultString),this.router.navigate(["/registrar"])}onHasPermission(n){this.hasPermission=n}onCamerasFound(n){this.availableDevices=n,this.hasDevices=!(!n||!n.length)}onTorchCompatible(n){this.torchAvailable$.next(n||!1)}checkIfMobile(n){this.isMobile=n<980}cancel(){this.qrRegistro=!this.qrRegistro}static#e=this.\u0275fac=function(s){return new(s||i)(U.rXU(O.Ix),U.rXU(Ed))};static#t=this.\u0275cmp=U.VBU({type:i,selectors:[["app-scan"]],hostBindings:function(s,u){1&s&&U.bIt("resize",function(g){return u.onResize(g)},!1,U.tSv)},standalone:!0,features:[U.aNF],decls:1,vars:1,consts:[[1,"panel__main--center"],[1,"form__input-wrapper--row"],["severity","neutral",3,"size","prefix","label","subtitle","direction"],[1,"qr__wrapper"],["size","sm","subtitle","Si el c\xf3digo no es detectado, vuelve a intentarlo.","severity","warning","variant","link","direction","column",3,"label","icon"],[1,"panel__footer"],["severity","danger","label","C\xe1mara","size","xs"],["size","xs",3,"clickEvent","severity","variant","icon","direction","type"],["severity","danger","label","C\xe1mara no habilitada","size","xs"],[1,"qr__overlay"],[1,"qr__line"],[3,"deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible","torch","device","formats","tryHarder"],["severity","success","label","Scaneo exitoso","size","xs"],["severity","warning","label","No se pudo leer el c\xf3digo","size","xs"],["size","xxs","severity","danger",3,"variant","direction","icon","label"],["size","xxs","severity","primary",3,"variant","direction","icon","label"]],template:function(s,u){1&s&&U.DNE(0,Og,8,10,"section",0),2&s&&U.vxM(u.qrRegistro?0:-1)},dependencies:[Te.X1,h_,g1,We.U,It.n,Ut.Q],styles:[".panel__main--center[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;flex:1;padding:var(--card__padding) var(--card__padding) 24px var(--card__padding);box-sizing:border-box;row-gap:var(--wrapper__gap--row);background-color:#fff;border:solid 1px var(--neutral);border-radius:var(--card__border--radius);--qr__border: solid 1px var(--secondary);--qr__background: white;--qr__line-color: var(--secondary);--qr__glow-color: var(--secondaryLighter);--qr__animation-duration: 2.5s;--qr__line-height: 4px}.panel__main--center[_ngcontent-%COMP%]   .qr__wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:220px;height:160px;max-height:220px;background-color:var(--qr__background);overflow:hidden;outline:var(--qr__border);outline-offset:8px}.panel__main--center[_ngcontent-%COMP%]   .qr__wrapper[_ngcontent-%COMP%]   .qr__line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:var(--qr__line-height);background-color:var(--qr__line-color);animation:_ngcontent-%COMP%_qr-scan var(--qr__animation-duration) infinite ease-in-out;box-shadow:0 0 10px var(--qr__glow-color),0 0 20px var(--qr__glow-color)}.panel__main--center[_ngcontent-%COMP%]   .qr__wrapper[_ngcontent-%COMP%]   .qr__overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:0;background-color:var(--qr__line-color);mix-blend-mode:multiply;animation:_ngcontent-%COMP%_qr-overlay-grow var(--qr__animation-duration) infinite ease-in-out}@keyframes _ngcontent-%COMP%_qr-scan{0%{top:0}to{top:100%}0%{top:0}}@keyframes _ngcontent-%COMP%_qr-overlay-grow{0%{height:0}to{height:100%}0%{height:0}}"]})}return i})();var __=ie(5699);function v_(i,e){1&i&&U.nrm(0,"app-badge",3)}function Ng(i,e){1&i&&U.nrm(0,"app-badge",4)}function y_(i,e){1&i&&(U.j41(0,"small",29),U.EFF(1," T\xedtulo es obligatorio "),U.k0s())}function gf(i,e){if(1&i&&(U.j41(0,"div",6),U.nrm(1,"app-required",7)(2,"textarea",30),U.k0s()),2&i){const n=U.XpG();U.R7$(),U.Y8G("label","Descripci\xf3n")("control","descripcion"),U.R7$(),U.HbH(n.qrRegister?"disabled":"")}}function J0(i,e){if(1&i){const n=U.RV6();U.j41(0,"div",6),U.nrm(1,"app-required",7),U.j41(2,"textarea",31),U.EFF(3),U.k0s(),U.j41(4,"button",32),U.bIt("click",function(){U.eBV(n);const u=U.XpG();return U.Njj(u.clearResult())}),U.EFF(5,"\xd7"),U.k0s()()}if(2&i){const n=U.XpG();U.R7$(),U.Y8G("label","Registro obtenido del QR")("control","paciente"),U.R7$(2),U.SpI("          ",n.qrResultString,"\n        ")}}function E_(i,e){if(1&i&&(U.j41(0,"option",12),U.EFF(1),U.k0s()),2&i){const n=e.$implicit;U.Y8G("value",n),U.R7$(),U.SpI(" ",n," ")}}function v1(i,e){1&i&&(U.j41(0,"small",29),U.EFF(1," La categor\xeda es obligatoria "),U.k0s())}function uh(i,e){1&i&&U.nrm(0,"app-label",33)(1,"hr"),2&i&&U.Y8G("size","sm")}function ev(i,e){if(1&i){const n=U.RV6();U.j41(0,"figure"),U.nrm(1,"img",34),U.j41(2,"figcaption"),U.EFF(3),U.k0s(),U.j41(4,"app-button",35),U.bIt("clickEvent",function(){const u=U.eBV(n).index,l=U.XpG();return U.Njj(l.removeFile(u))}),U.k0s()()}if(2&i){const n=e.$implicit;U.R7$(),U.Y8G("src",n,U.B4B),U.R7$(2),U.JRh(n),U.R7$(),U.Y8G("severity","danger")("variant","outline")("icon","trash-can")("direction","none")("label","")("type","button")}}function y1(i,e){1&i&&U.nrm(0,"app-scan")}function ch(i,e){1&i&&(U.j41(0,"small",29),U.EFF(1," Debe seleccionar una fecha "),U.k0s())}function kg(i,e){1&i&&(U.j41(0,"small",29),U.EFF(1," Debe seleccionar un horario "),U.k0s())}function tv(i,e){1&i&&(U.j41(0,"div",6),U.nrm(1,"app-required",7)(2,"input",36),U.k0s()),2&i&&(U.R7$(),U.Y8G("label","Miembro equipo de Salud")("control","validador"))}function E1(i,e){1&i&&U.nrm(0,"app-button",25),2&i&&U.Y8G("severity","warning")("variant","outline")("icon","arrows-rotate")("direction","row")("label","Reset")("type","reset")}function Fg(i,e){if(1&i){const n=U.RV6();U.j41(0,"app-button",37),U.bIt("clickEvent",function(){U.eBV(n);const u=U.XpG();return U.Njj(u.showQrRegister())}),U.k0s()}2&i&&U.Y8G("type","button")("severity","primary")("variant","link")("icon","mobile-screen-button")("direction","row")("label","Registro QR")}let C_=(()=>{class i{constructor(n,s,u,l,g,m){this.QrService=n,this.storage=s,this.firestore=u,this._activatedRoute=l,this.router=g,this.location=m,this.qrResultString=null,this.subscription=new hn.yU,this.validado=!0,this.registroId=null,this.hasChange=!1,this.uploadedImages=[],this.uploadedFileNames=[],this.categorias=["Consulta general","Laboratorios","Consulta pedi\xe1trica","Vacunaci\xf3n","Alergia e Inmunolog\xeda","Cardiolog\xeda"],this.categoriaMap={"Consulta general":{icon:"user",color:"blue"},Laboratorios:{icon:"vial",color:"purple"},"Consulta pedi\xe1trica":{icon:"child",color:"green"},Vacunaci\u00f3n:{icon:"syringe",color:"orange"},"Alergia e Inmunolog\xeda":{icon:"allergies",color:"yellow"},Cardiolog\u00eda:{icon:"heart",color:"red"}},this.editableTitle="",this.editableCategory="",this.editableIcon="heart",this.editableColor="",this.categoriaOptions=Object.keys(this.categoriaMap).map(y=>({value:y,label:y.replace(/([A-Z])/g," $1").trim()})),this._formBuilder=(0,U.WQX)(Te.ok).nonNullable,this._router=(0,U.WQX)(O.Ix),this._registrosService=(0,U.WQX)(Me.m),this.auth=(0,U.WQX)(Et.Nj),this.form=this._formBuilder.group({paciente:this._formBuilder.control(""),titulo:this._formBuilder.control("",Te.k0.required),descripcion:this._formBuilder.control("",Te.k0.required),categoria:this._formBuilder.control("",Te.k0.required),estado:this._formBuilder.control(""),validado:this._formBuilder.control(!1),lugar:this._formBuilder.control("",Te.k0.required),validador:this._formBuilder.control(""),fecha:this._formBuilder.control(new Date,Te.k0.required),hora:this._formBuilder.control("",Te.k0.required),adjuntos:this._formBuilder.control([])})}ngOnInit(){this.registroId=this._activatedRoute.snapshot.paramMap.get("id"),this.registroId&&this.loadRegistroData(this.registroId),this.setTitle(),this.onCategoryChange(),this.subscription=this.QrService.qrData$.subscribe(m=>{this.qrResultString=m,this.setPacienteValue(m??"")});const n=new Date,s=n.toISOString().split("T")[0];this.form.controls.fecha.setValue(s);const u=n.getHours().toString().padStart(2,"0"),l=n.getMinutes().toString().padStart(2,"0");this.form.controls.hora.setValue(`${u}:${l}`)}ngOnDestroy(){this.subscription.unsubscribe(),this.form.get("adjuntos")?.value.forEach(n=>URL.revokeObjectURL(n))}onTitleChange(){return this.hasChange=!0}setTitle(){return this.form.controls.titulo.value}validateRecord(){this.validado=!this.validado,this.form.controls.validado.setValue(this.validado)}onCategoryChange(){const n=this.form.controls.categoria.value;if(n){const{icon:s,color:u}=this.categoriaMap[n];this.editableIcon=s,this.editableColor=u,this.editableCategory=n}this.hasChange=!0}clearResult(){this.qrResultString=""}getPacienteControl(){return this.form.get("paciente")}getPacienteValue(){return this.getPacienteControl()?.value}setPacienteValue(n){this.getPacienteControl()?.setValue(n)}onCodeResult(n){this.qrResultString=n,this.setPacienteValue(n)}loadRegistroData(n){var s=this;return(0,Ee.A)(function*(){try{const u=yield s._registrosService.getRegistro(n);u&&s.form.patchValue({paciente:u.paciente,titulo:u.titulo,descripcion:u.descripcion,categoria:u.categoria,validado:u.validado,estado:u.estado,validador:u.validador,fecha:u.fecha,hora:u.hora,adjuntos:u.adjuntos||[]})}catch(u){console.error("Error loading registro:",u)}})()}createRegistro(){var n=this;return(0,Ee.A)(function*(){const s=yield n.auth.currentUser;if(!n.form.invalid)try{const u=n.form.value;u.adjuntos=u.adjuntos.filter(l=>n.isValidUrl(l)),s&&(u.userId=s.uid),n.registroId?yield n._registrosService.updateRegistro(n.registroId,u):yield n._registrosService.createRegistro(u),n._router.navigate(["/"])}catch(u){console.error("Error saving record:",u)}})()}isValidUrl(n){try{return new URL(n),!0}catch{return!1}}setFormValues(n){var s=this;return(0,Ee.A)(function*(){try{const u=yield s._registrosService.getRegistro(n);if(!u)return;s.form.setValue({paciente:u.paciente||"",titulo:u.titulo||"",descripcion:u.descripcion||"",categoria:u.categoria||"",estado:u.estado||"",validado:u.validado??!1,lugar:u.validador||"",validador:u.validador||"",fecha:u.fecha||new Date,hora:u.hora||"",adjuntos:u.adjuntos||[]})}catch{}})()}showQrRegister(){this.qrRegister=!this.qrRegister}goBack(){window.history.length>1?this.location.back():this.router.navigate(["/"])}cancel(){this.form&&this.form.reset(),this.goBack()}uploadFiles(n){var s=this;const u=n.target.files;u.length&&Array.from(u).forEach(l=>{const g=`images/${Date.now()}_${l.name}`,m=To(this.storage,g),y=Y(m,l);var T;this.uploadedFileNames.push(l.name),y.on("state_changed",{next:T=>{},error:T=>console.error("Upload error:",T),complete:(T=(0,Ee.A)(function*(){try{const P=yield Yi(m);s.uploadedImages.push(P),s.form.get("adjuntos")?.setValue([...s.uploadedImages]),n.target.value=""}catch(P){console.error("Error getting download URL:",P)}}),function(){return T.apply(this,arguments)})})})}saveImageMetadata(n,s){var u=this;return(0,Ee.A)(function*(){const l=(0,H.rJ)(u.firestore,"images");yield(0,H.gS)(l,{url:n,name:s,uploadedAt:new Date})})()}removeFile(n){const s=this.form.get("adjuntos")?.value||[];s.splice(n,1),this.form.get("adjuntos")?.setValue(s)}trackByFn(n,s){return s}get adjuntosControl(){return this.form.get("adjuntos")}static#e=this.\u0275fac=function(s){return new(s||i)(U.rXU(Ed),U.rXU(Ls),U.rXU(H._7),U.rXU(O.nX),U.rXU(O.Ix),U.rXU(Wt.aZ))};static#t=this.\u0275cmp=U.VBU({type:i,selectors:[["app-crear-registro"]],standalone:!0,features:[U.aNF],decls:50,vars:42,consts:[[1,"panel__main",3,"ngSubmit","formGroup"],[1,"panel__header--row"],["size","lg","subtitle","Completa los campos requeridos (*)","direction","row",3,"label","prefix","severity"],["severity","warning","label","Campos requeridos sin completar","size","md"],["severity","success","label","Campos requeridos completos","size","md"],[1,"panel__inner--main"],[1,"form__input-wrapper--col"],[3,"label","control"],["type","text","formControlName","titulo",3,"keyup"],["class","required",4,"ngIf"],["id","categoria","formControlName","categoria",1,"form__select--custom",3,"change"],["value","","disabled","","selected",""],[3,"value"],["for","adjuntos"],["type","file","id","adjuntos","formControlName","adjuntos","multiple","",3,"change"],[1,"img__wrapper--grid"],[4,"ngFor","ngForOf"],[1,"panel__inner--aside"],["type","date","formControlName","fecha"],["type","time","formControlName","hora"],["type","text","formControlName","lugar"],["size","md","offLabel","No validado por equipo de Salud","labelPosition","right",3,"toggle","on","onLabel"],[1,"panel__footer"],[1,"panel__footer--left"],["size","xs",3,"clickEvent","severity","variant","icon","direction","label","type"],["size","xs",3,"severity","variant","icon","direction","label","type"],[1,"panel__footer--right"],["size","xs",3,"type","severity","variant","icon","direction","label"],["type","submit","size","xs",3,"severity","variant","label","direction","icon","disabled","path"],[1,"required"],["rows","5","type","text","id","descripcion","placeholder","Describa su registro de Salud","formControlName","descripcion"],["id","paciente","formControlName","paciente"],[3,"click"],["prefix","Adjuntos","label","Mis archivos","direction","row",3,"size"],["alt","Uploaded Image",3,"src"],["size","xxs",3,"clickEvent","severity","variant","icon","direction","label","type"],["type","text","formControlName","validador"],["size","xs",3,"clickEvent","type","severity","variant","icon","direction","label"]],template:function(s,u){1&s&&(U.j41(0,"form",0),U.bIt("ngSubmit",function(){return u.createRegistro()}),U.j41(1,"header",1),U.nrm(2,"app-label",2),U.DNE(3,v_,1,0,"app-badge",3)(4,Ng,1,0,"app-badge",4),U.k0s(),U.j41(5,"section",5)(6,"div",6),U.nrm(7,"app-required",7),U.j41(8,"input",8),U.bIt("keyup",function(){return u.onTitleChange()}),U.k0s(),U.DNE(9,y_,2,0,"small",9),U.k0s(),U.DNE(10,gf,3,4,"div",6)(11,J0,6,3,"div",6),U.j41(12,"div",6),U.nrm(13,"app-required",7),U.j41(14,"select",10),U.bIt("change",function(){return u.onCategoryChange()}),U.j41(15,"option",11),U.EFF(16,"Seleccionar categor\xeda"),U.k0s(),U.Z7z(17,E_,2,2,"option",12,U.fX1),U.k0s(),U.DNE(19,v1,2,0,"small",9),U.k0s(),U.j41(20,"div",6)(21,"label",13),U.EFF(22,"Adjuntar archivos"),U.k0s(),U.j41(23,"input",14),U.bIt("change",function(g){return u.uploadFiles(g)}),U.k0s()(),U.j41(24,"div"),U.DNE(25,uh,2,1),U.j41(26,"div",15),U.DNE(27,ev,5,8,"figure",16),U.k0s()()(),U.j41(28,"section",17),U.DNE(29,y1,1,0,"app-scan"),U.j41(30,"div",6),U.nrm(31,"app-required",7)(32,"input",18),U.DNE(33,ch,2,0,"small",9),U.k0s(),U.j41(34,"div",6),U.nrm(35,"app-required",7)(36,"input",19),U.DNE(37,kg,2,0,"small",9),U.k0s(),U.j41(38,"div",6),U.nrm(39,"app-required",7)(40,"input",20),U.k0s(),U.j41(41,"app-switcher",21),U.bIt("toggle",function(){return u.validateRecord()}),U.k0s(),U.DNE(42,tv,3,2,"div",6),U.k0s(),U.j41(43,"footer",22)(44,"div",23)(45,"app-button",24),U.bIt("clickEvent",function(){return u.cancel()}),U.k0s(),U.DNE(46,E1,1,6,"app-button",25),U.k0s(),U.j41(47,"div",26),U.DNE(48,Fg,1,6,"app-button",27),U.nrm(49,"app-button",28),U.k0s()()()),2&s&&(U.Y8G("formGroup",u.form),U.R7$(2),U.Y8G("label",u.registroId?u.setTitle():"Nuevo registro de Salud")("prefix","Autoregistro")("severity","info"),U.R7$(),U.vxM(u.form.invalid?3:u.form.invalid?-1:4),U.R7$(4),U.Y8G("label","T\xedtulo")("control","titulo"),U.R7$(2),U.Y8G("ngIf",(null==u.form.controls.titulo?null:u.form.controls.titulo.invalid)&&(null==u.form.controls.titulo?null:u.form.controls.titulo.touched)),U.R7$(),U.vxM(u.qrResultString?-1:10),U.R7$(),U.vxM(u.qrResultString?11:-1),U.R7$(2),U.Y8G("label","Categor\xeda")("control","categoria"),U.R7$(4),U.Dyx(u.categorias),U.R7$(2),U.Y8G("ngIf",(null==u.form.controls.categoria?null:u.form.controls.categoria.invalid)&&(null==u.form.controls.categoria?null:u.form.controls.categoria.touched)),U.R7$(6),U.vxM(u.uploadedImages.length>0?25:-1),U.R7$(2),U.Y8G("ngForOf",u.uploadedFileNames),U.R7$(2),U.vxM(u.qrRegister?29:-1),U.R7$(2),U.Y8G("label","Fecha")("control","fecha"),U.R7$(2),U.Y8G("ngIf",(null==u.form.controls.fecha?null:u.form.controls.fecha.invalid)&&(null==u.form.controls.fecha?null:u.form.controls.fecha.touched)),U.R7$(2),U.Y8G("label","Hora")("control","hora"),U.R7$(2),U.Y8G("ngIf",(null==u.form.controls.hora?null:u.form.controls.hora.invalid)&&(null==u.form.controls.hora?null:u.form.controls.hora.touched)),U.R7$(2),U.Y8G("label","Establecimiento")("control","lugar"),U.R7$(2),U.Y8G("on",u.validado)("onLabel","Validado por equipo de Salud"),U.R7$(),U.vxM(u.validado?42:-1),U.R7$(3),U.Y8G("severity","danger")("variant","outline")("icon","xmark")("direction","row")("label","Cancelar")("type","button"),U.R7$(),U.vxM(u.registroId?-1:46),U.R7$(2),U.vxM(u.registroId?-1:48),U.R7$(),U.Y8G("severity","success")("variant","fill")("label","Guardar cambios")("direction","row")("icon","floppy-disk")("disabled",u.form.invalid)("path","item/"+u.registroId))},dependencies:[Te.X1,Te.qT,Te.xH,Te.y7,Te.me,Te.wz,Te.BC,Te.cb,Te.j4,Te.JD,We.U,It.n,Ut.Q,An,Pg,__.d,Wt.MD,Wt.Sq,Wt.bT]})}return i})();var w_=ie(4908),C1=ie(5023),w1=ie(7587);function vp(i,e){if(1&i){const n=U.RV6();U.j41(0,"figure",23),U.bIt("click",function(){const u=U.eBV(n).$implicit,l=U.XpG(3);return U.Njj(l.openModal(u))}),U.nrm(1,"img",24),U.j41(2,"figcaption"),U.EFF(3),U.k0s()()}if(2&i){const n=e.$implicit;U.R7$(),U.Y8G("src",n,U.B4B),U.R7$(2),U.JRh(n)}}function nv(i,e){if(1&i){const n=U.RV6();U.j41(0,"app-modal",25),U.bIt("closeModal",function(){U.eBV(n);const u=U.XpG(3);return U.Njj(u.isModalOpen=!1)}),U.j41(1,"app-button",26),U.bIt("click",function(){U.eBV(n);const u=U.XpG(3);return U.Njj(u.isModalOpen=!1)}),U.k0s(),U.nrm(2,"app-button",27),U.k0s()}if(2&i){const n=U.XpG(3);U.Y8G("prefix","Previsualizar")("title",n.selectedFile)("subtitle","Modal Subtitle")("img",n.selectedFile)("closeable",!0)}}function I1(i,e){if(1&i&&(U.nrm(0,"app-label",19)(1,"hr"),U.j41(2,"section",20),U.DNE(3,vp,4,2,"figure",21),U.k0s(),U.DNE(4,nv,3,5,"app-modal",22)),2&i){const n=U.XpG(2);U.Y8G("size",n.isMobile?"sm":"md"),U.R7$(3),U.Y8G("ngForOf",n.registro.adjuntos)("ngForTrackBy",n.trackByFn),U.R7$(),U.vxM(n.isModalOpen?4:-1)}}function A1(i,e){1&i&&U.nrm(0,"hr")}function rv(i,e){if(1&i&&U.nrm(0,"img",10),2&i){const n=U.XpG(2);U.Y8G("src",n.qrCodeUrl,U.B4B)}}function T1(i,e){if(1&i&&U.nrm(0,"app-label",12),2&i){const n=U.XpG(2);U.Y8G("label",n.registro.lugar)("prefix","Establecimiento de Salud")("direction","row")}}function iv(i,e){if(1&i&&U.nrm(0,"app-label",12),2&i){const n=U.XpG(2);U.Y8G("label",n.registro.validador)("prefix","Miembro equipo de Salud")("direction","row")}}function b1(i,e){if(1&i){const n=U.RV6();U.j41(0,"section",0)(1,"header",1)(2,"app-label",2),U.nrm(3,"app-badge",3)(4,"app-dropdown",4),U.k0s()(),U.j41(5,"div",5)(6,"article",6),U.EFF(7),U.k0s(),U.DNE(8,I1,5,4),U.k0s(),U.DNE(9,A1,1,0,"hr"),U.j41(10,"div",7)(11,"article",8)(12,"figure",9),U.DNE(13,rv,1,1,"img",10),U.nrm(14,"app-label",11),U.k0s(),U.nrm(15,"app-label",12),U.DNE(16,T1,1,3,"app-label",12),U.nrm(17,"app-switcher",13),U.DNE(18,iv,1,3,"app-label",12),U.k0s()(),U.j41(19,"footer",14)(20,"div",15)(21,"app-button",16),U.bIt("clickEvent",function(){U.eBV(n);const u=U.XpG();return U.Njj(u.goBack())}),U.k0s()(),U.j41(22,"div",17),U.nrm(23,"app-button",18),U.k0s()()()}if(2&i){const n=U.XpG();U.R7$(2),U.Y8G("size",n.isMobile?"md":"lg")("label",n.registro.titulo)("prefix",n.registro.categoria)("icon",n.getIconForCategoria(n.registro.categoria))("severity","custom")("color",n.getColorForCategoria(n.registro.categoria)),U.R7$(),U.FS9("label",n.registro.validado),U.R7$(),U.Y8G("items",n.getMenuItems(n.registro))("position",n.dropdownPosition),U.R7$(3),U.Lme(" ",n.registro.descripcion," ",n.registro.paciente," "),U.R7$(),U.vxM(n.registro.adjuntos.length>0?8:-1),U.R7$(),U.vxM(n.isMobile?9:-1),U.R7$(4),U.vxM(n.qrCodeUrl?13:-1),U.R7$(),U.Y8G("size","sm")("prefix","Para escanear el c\xf3digo, accede a tu cuenta experienciaPaciente.org.")("direction","row")("severity","neutral")("icon",n.isMobile?"":"info-circle"),U.R7$(),U.Y8G("label",n.registro.fecha)("prefix","Fecha del registro")("direction","row"),U.R7$(),U.vxM(n.registro.lugar?16:-1),U.R7$(),U.Y8G("on",n.registro.validado)("disabled",!0),U.R7$(),U.vxM(n.registro.validador?18:-1),U.R7$(3),U.Y8G("severity","primary")("variant","link")("icon","arrow-left")("direction","row")("label","volver")("disabled",!1),U.R7$(2),U.Y8G("severity","warning")("variant","fill")("icon","pencil")("direction","row")("label","Editar")("path","actualizar/"+n.id)("disabled",!1)}}function x1(i,e){1&i&&(U.j41(0,"p"),U.EFF(1,"Sin registros!"),U.k0s())}let S1=(()=>{class i{getMenuItems(n){return[{label:"Editar",icon:"user",disabled:!1,callback:()=>this.navigateToEdit(n)},{label:"Gestionar permisos",icon:"star",disabled:!0},{label:"Eliminar",icon:"trash",disabled:!1,callback:()=>this.navigateToDelete(n)}]}constructor(n,s,u,l){this.route=n,this.registroService=s,this.router=u,this.location=l,this.disabled=!1,this.isModalOpen=!1,this.categoriaMap={"Consulta general":{icon:"user-md",color:"#FD5B71"},Laboratorios:{icon:"vial",color:"#6DDDFC"},"Consulta pedi\xe1trica":{icon:"baby",color:"#A2BDFF"},Vacunaci\u00f3n:{icon:"syringe",color:"#FF9110"},"Alergia e Inmunolog\xeda":{icon:"allergies",color:"#208AF2"},Cardiolog\u00eda:{icon:"heart",color:"#1BC5DD"}},this.dropdownPosition={top:"35px",left:"-190px"}}ngOnInit(){this.route.params.subscribe(n=>{this.id=n.id,this.fetchDetails(this.id)}),this.checkIfMobile(window.innerWidth)}onResize(n){this.checkIfMobile(n.target.innerWidth)}checkIfMobile(n){this.isMobile=n<980}generateQRCode(n){if(n){const u=encodeURIComponent(`T\xedtulo: ${n.titulo}\nDescripci\xf3n: ${n.descripcion}\nFecha: ${n.fecha}\nHora: ${n.hora}\nCategoria: ${n.categoria}\nValidado: ${n.validado}\nEstado: ${n.estado}\nEmisor: ${n.validador}\nAdjuntos: ${n.adjuntos}`);this.qrCodeUrl=`https://quickchart.io/qr?text=${u}`}}fetchDetails(n){n?(this.loadRegistro(n),this.registro&&this.generateQRCode(this.registro)):this.registro=null}loadRegistro(n){var s=this;return(0,Ee.A)(function*(){try{const u=yield s.registroService.getRegistro(n);s.registro=u||null,s.generateQRCode(u)}catch(u){s.registro=null,console.error("Error fetching registro:",u)}})()}getIconForCategoria(n){return this.categoriaMap[n]?.icon||"question-circle"}getColorForCategoria(n){return this.categoriaMap[n]?.color||"gray"}trackByFn(n){return n.id}goBack(){window.history.length>1?this.location.back():this.router.navigate(["/"])}navigateToEdit(n){this.router.navigate([`/actualizar/${n.id}`])}navigateToDelete(n){var s=this;return(0,Ee.A)(function*(){try{yield s.registroService.deleteRegistro(n.id),s.router.navigate(["/"])}catch(u){console.error("Error deleting registro",u)}})()}openModal(n){this.selectedFile=n,this.isModalOpen=!this.isModalOpen}static#e=this.\u0275fac=function(s){return new(s||i)(U.rXU(O.nX),U.rXU(Me.m),U.rXU(O.Ix),U.rXU(Wt.aZ))};static#t=this.\u0275cmp=U.VBU({type:i,selectors:[["app-detail"]],hostBindings:function(s,u){1&s&&U.bIt("resize",function(g){return u.onResize(g)},!1,U.tSv)},standalone:!0,features:[U.aNF],decls:2,vars:1,consts:[[1,"panel__main"],[1,"panel__header--row"],["direction","row",3,"size","label","prefix","icon","severity","color"],["severity","success","size","xs",3,"label"],["buttonLabel","","buttonIcon","ellipsis-vertical",3,"items","position"],[1,"panel__inner--main"],[1,"panel__text--article"],[1,"panel__inner--aside"],[1,"panel__inner--left"],[1,"panel__qr--wrapper"],["alt","QR Code","alt","",1,"panel__qr--aside",3,"src"],[3,"size","prefix","direction","severity","icon"],["size","md",3,"label","prefix","direction"],["size","lg","onLabel","Validado","offLabel","No validado","colorOn","green","colorOff","red","labelPosition","right",3,"on","disabled"],[1,"panel__footer"],[1,"panel__footer--left"],["size","xs",3,"clickEvent","severity","variant","icon","direction","label","disabled"],[1,"panel__footer--right"],["size","xs",3,"severity","variant","icon","direction","label","path","disabled"],["prefix","Adjuntos","label","Mis archivos","direction","row",3,"size"],["role","navigation",1,"img__wrapper--grid"],[3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["icon","info-circle",3,"prefix","title","subtitle","img","closeable"],[3,"click"],["alt","Uploaded Image",3,"src"],["icon","info-circle",3,"closeModal","prefix","title","subtitle","img","closeable"],["direction","none","size","sm","label","Eliminar","variant","outline","severity","danger",3,"click"],["direction","none","size","sm","label","Editar","variant","fill","severity","success"]],template:function(s,u){1&s&&U.DNE(0,b1,24,39,"section",0)(1,x1,2,0,"p"),2&s&&U.vxM(null!=u.registro?0:1)},dependencies:[It.n,Ut.Q,We.U,An,C1.P,w1.z,Wt.MD,Wt.Sq]})}return i})();var D1=ie(903);const I_=[{path:"",canActivate:[()=>{const i=ye();return xt().pipe((0,nt.T)(e=>!!e||(i.navigateByUrl("auth/sign-in"),!1)))}],loadComponent:()=>ie.e(556).then(ie.bind(ie,6556)),children:[{path:"item/:id",component:S1},{path:"registrar",component:C_},{path:"scan",component:Pg},{path:"registros",component:w_.s},{path:"actualizar/:id",component:C_}]},{path:"registrarse",component:D1.default},{path:"**",loadComponent:()=>ie.e(553).then(ie.bind(ie,6553)).then(i=>i.default)},{path:"auth",canActivate:[()=>{const i=ye();return xt().pipe((0,nt.T)(e=>!e||(i.navigateByUrl("/"),!1)))}],children:[{path:"sign-in",loadComponent:()=>ie.e(553).then(ie.bind(ie,6553)).then(i=>i.default)},{path:"sign-up",loadComponent:()=>Promise.resolve().then(ie.bind(ie,903)).then(i=>i.default)}]}],R1_firebaseConfig={apiKey:"AIzaSyBpsJfN6s6cNBJhbOeI-uZMu_-3gM7Z8zc",authDomain:"experienciapaciente-2024.firebaseapp.com",databaseURL:"https://experienciapaciente-2024-default-rtdb.firebaseio.com",projectId:"experienciapaciente-2024",storageBucket:"experienciapaciente-2024.appspot.com",messagingSenderId:"893869065647",appId:"1:893869065647:web:346d367ab8f1e3556f9b5a"},A_=[(0,Je.MW)(()=>(0,Je.Wp)(R1_firebaseConfig)),(0,H.hV)(()=>(0,H.aU)()),(0,Et._q)(()=>(0,Et.xI)()),function Tr(i,...e){return(0,it.KO)("angularfire",Pt.xv.full,"gcs"),(0,U.EmA)([zr,ju,{provide:Vs,useFactory:Uu(i),multi:!0,deps:[U.SKi,U.zZn,Pt.u0,Je.gL,[new U.Xx1,Et.DF],[new U.Xx1,Pt.Jv],...e]}])}(()=>Bo())],mE={providers:[(0,O.lh)(I_,(0,O.qQ)(),(0,O.lG)()),A_,h_]};(0,D.B8)((()=>{class i{static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275cmp=U.VBU({type:i,selectors:[["app-root"]],standalone:!0,features:[U.aNF],decls:1,vars:0,template:function(s,u){1&s&&U.nrm(0,"router-outlet")},dependencies:[O.n3]})}return i})(),mE).catch(i=>console.error(i))},4412:(Cn,bt,ie)=>{ie.d(bt,{t:()=>O});var D=ie(1413);class O extends D.B{constructor(Oe){super(),this._value=Oe}get value(){return this.getValue()}_subscribe(Oe){const nt=super._subscribe(Oe);return!nt.closed&&Oe.next(this._value),nt}getValue(){const{hasError:Oe,thrownError:nt,_value:ye}=this;if(Oe)throw nt;return this._throwIfClosed(),ye}next(Oe){super.next(this._value=Oe)}}},1985:(Cn,bt,ie)=>{ie.d(bt,{c:()=>Xe});var D=ie(7707),O=ie(8359),U=ie(3494),Oe=ie(1203),nt=ie(1026),ye=ie(8071),xt=ie(9786);let Xe=(()=>{class Me{constructor(We){We&&(this._subscribe=We)}lift(We){const It=new Me;return It.source=this,It.operator=We,It}subscribe(We,It,Ut){const hn=function Te(Me){return Me&&Me instanceof D.vU||function Ee(Me){return Me&&(0,ye.T)(Me.next)&&(0,ye.T)(Me.error)&&(0,ye.T)(Me.complete)}(Me)&&(0,O.Uv)(Me)}(We)?We:new D.Ms(We,It,Ut);return(0,xt.Y)(()=>{const{operator:Wt,source:Kn}=this;hn.add(Wt?Wt.call(hn,Kn):Kn?this._subscribe(hn):this._trySubscribe(hn))}),hn}_trySubscribe(We){try{return this._subscribe(We)}catch(It){We.error(It)}}forEach(We,It){return new(It=lt(It))((Ut,hn)=>{const Wt=new D.Ms({next:Kn=>{try{We(Kn)}catch(An){hn(An),Wt.unsubscribe()}},error:hn,complete:Ut});this.subscribe(Wt)})}_subscribe(We){var It;return null===(It=this.source)||void 0===It?void 0:It.subscribe(We)}[U.s](){return this}pipe(...We){return(0,Oe.m)(We)(this)}toPromise(We){return new(We=lt(We))((It,Ut)=>{let hn;this.subscribe(Wt=>hn=Wt,Wt=>Ut(Wt),()=>It(hn))})}}return Me.create=Et=>new Me(Et),Me})();function lt(Me){var Et;return null!==(Et=Me??nt.$.Promise)&&void 0!==Et?Et:Promise}},1413:(Cn,bt,ie)=>{ie.d(bt,{B:()=>xt});var D=ie(1985),O=ie(8359);const Oe=(0,ie(1853).L)(lt=>function(){lt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=ie(7908),ye=ie(9786);let xt=(()=>{class lt extends D.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Te){const Me=new Xe(this,this);return Me.operator=Te,Me}_throwIfClosed(){if(this.closed)throw new Oe}next(Te){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(Te)}})}error(Te){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Te;const{observers:Me}=this;for(;Me.length;)Me.shift().error(Te)}})}complete(){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Te}=this;for(;Te.length;)Te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Te;return(null===(Te=this.observers)||void 0===Te?void 0:Te.length)>0}_trySubscribe(Te){return this._throwIfClosed(),super._trySubscribe(Te)}_subscribe(Te){return this._throwIfClosed(),this._checkFinalizedStatuses(Te),this._innerSubscribe(Te)}_innerSubscribe(Te){const{hasError:Me,isStopped:Et,observers:We}=this;return Me||Et?O.Kn:(this.currentObservers=null,We.push(Te),new O.yU(()=>{this.currentObservers=null,(0,nt.o)(We,Te)}))}_checkFinalizedStatuses(Te){const{hasError:Me,thrownError:Et,isStopped:We}=this;Me?Te.error(Et):We&&Te.complete()}asObservable(){const Te=new D.c;return Te.source=this,Te}}return lt.create=(Ee,Te)=>new Xe(Ee,Te),lt})();class Xe extends xt{constructor(Ee,Te){super(),this.destination=Ee,this.source=Te}next(Ee){var Te,Me;null===(Me=null===(Te=this.destination)||void 0===Te?void 0:Te.next)||void 0===Me||Me.call(Te,Ee)}error(Ee){var Te,Me;null===(Me=null===(Te=this.destination)||void 0===Te?void 0:Te.error)||void 0===Me||Me.call(Te,Ee)}complete(){var Ee,Te;null===(Te=null===(Ee=this.destination)||void 0===Ee?void 0:Ee.complete)||void 0===Te||Te.call(Ee)}_subscribe(Ee){var Te,Me;return null!==(Me=null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(Ee))&&void 0!==Me?Me:O.Kn}}},7707:(Cn,bt,ie)=>{ie.d(bt,{Ms:()=>Ut,vU:()=>Me});var D=ie(8071),O=ie(8359),U=ie(1026),Oe=ie(5334),nt=ie(5343);const ye=lt("C",void 0,void 0);function lt(Pt,Je,it){return{kind:Pt,value:Je,error:it}}var Ee=ie(9270),Te=ie(9786);class Me extends O.yU{constructor(Je){super(),this.isStopped=!1,Je?(this.destination=Je,(0,O.Uv)(Je)&&Je.add(this)):this.destination=An}static create(Je,it,_t){return new Ut(Je,it,_t)}next(Je){this.isStopped?Kn(function Xe(Pt){return lt("N",Pt,void 0)}(Je),this):this._next(Je)}error(Je){this.isStopped?Kn(function xt(Pt){return lt("E",void 0,Pt)}(Je),this):(this.isStopped=!0,this._error(Je))}complete(){this.isStopped?Kn(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Je){this.destination.next(Je)}_error(Je){try{this.destination.error(Je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Et=Function.prototype.bind;function We(Pt,Je){return Et.call(Pt,Je)}class It{constructor(Je){this.partialObserver=Je}next(Je){const{partialObserver:it}=this;if(it.next)try{it.next(Je)}catch(_t){hn(_t)}}error(Je){const{partialObserver:it}=this;if(it.error)try{it.error(Je)}catch(_t){hn(_t)}else hn(Je)}complete(){const{partialObserver:Je}=this;if(Je.complete)try{Je.complete()}catch(it){hn(it)}}}class Ut extends Me{constructor(Je,it,_t){let ut;if(super(),(0,D.T)(Je)||!Je)ut={next:Je??void 0,error:it??void 0,complete:_t??void 0};else{let Mt;this&&U.$.useDeprecatedNextContext?(Mt=Object.create(Je),Mt.unsubscribe=()=>this.unsubscribe(),ut={next:Je.next&&We(Je.next,Mt),error:Je.error&&We(Je.error,Mt),complete:Je.complete&&We(Je.complete,Mt)}):ut=Je}this.destination=new It(ut)}}function hn(Pt){U.$.useDeprecatedSynchronousErrorHandling?(0,Te.l)(Pt):(0,Oe.m)(Pt)}function Kn(Pt,Je){const{onStoppedNotification:it}=U.$;it&&Ee.f.setTimeout(()=>it(Pt,Je))}const An={closed:!0,next:nt.l,error:function Wt(Pt){throw Pt},complete:nt.l}},8359:(Cn,bt,ie)=>{ie.d(bt,{Kn:()=>ye,yU:()=>nt,Uv:()=>xt});var D=ie(8071);const U=(0,ie(1853).L)(lt=>function(Te){lt(this),this.message=Te?`${Te.length} errors occurred during unsubscription:\n${Te.map((Me,Et)=>`${Et+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Te});var Oe=ie(7908);class nt{constructor(Ee){this.initialTeardown=Ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ee;if(!this.closed){this.closed=!0;const{_parentage:Te}=this;if(Te)if(this._parentage=null,Array.isArray(Te))for(const We of Te)We.remove(this);else Te.remove(this);const{initialTeardown:Me}=this;if((0,D.T)(Me))try{Me()}catch(We){Ee=We instanceof U?We.errors:[We]}const{_finalizers:Et}=this;if(Et){this._finalizers=null;for(const We of Et)try{Xe(We)}catch(It){Ee=Ee??[],It instanceof U?Ee=[...Ee,...It.errors]:Ee.push(It)}}if(Ee)throw new U(Ee)}}add(Ee){var Te;if(Ee&&Ee!==this)if(this.closed)Xe(Ee);else{if(Ee instanceof nt){if(Ee.closed||Ee._hasParent(this))return;Ee._addParent(this)}(this._finalizers=null!==(Te=this._finalizers)&&void 0!==Te?Te:[]).push(Ee)}}_hasParent(Ee){const{_parentage:Te}=this;return Te===Ee||Array.isArray(Te)&&Te.includes(Ee)}_addParent(Ee){const{_parentage:Te}=this;this._parentage=Array.isArray(Te)?(Te.push(Ee),Te):Te?[Te,Ee]:Ee}_removeParent(Ee){const{_parentage:Te}=this;Te===Ee?this._parentage=null:Array.isArray(Te)&&(0,Oe.o)(Te,Ee)}remove(Ee){const{_finalizers:Te}=this;Te&&(0,Oe.o)(Te,Ee),Ee instanceof nt&&Ee._removeParent(this)}}nt.EMPTY=(()=>{const lt=new nt;return lt.closed=!0,lt})();const ye=nt.EMPTY;function xt(lt){return lt instanceof nt||lt&&"closed"in lt&&(0,D.T)(lt.remove)&&(0,D.T)(lt.add)&&(0,D.T)(lt.unsubscribe)}function Xe(lt){(0,D.T)(lt)?lt():lt.unsubscribe()}},1026:(Cn,bt,ie)=>{ie.d(bt,{$:()=>D});const D={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Cn,bt,ie)=>{ie.d(bt,{z:()=>Ee});var D=ie(1985),O=ie(3073),U=ie(8455),Oe=ie(3669),nt=ie(6450),ye=ie(3794),xt=ie(8496),Xe=ie(4360),lt=ie(5225);function Ee(...Et){const We=(0,ye.lI)(Et),It=(0,ye.ms)(Et),{args:Ut,keys:hn}=(0,O.D)(Et);if(0===Ut.length)return(0,U.H)([],We);const Wt=new D.c(function Te(Et,We,It=Oe.D){return Ut=>{Me(We,()=>{const{length:hn}=Et,Wt=new Array(hn);let Kn=hn,An=hn;for(let Pt=0;Pt<hn;Pt++)Me(We,()=>{const Je=(0,U.H)(Et[Pt],We);let it=!1;Je.subscribe((0,Xe._)(Ut,_t=>{Wt[Pt]=_t,it||(it=!0,An--),An||Ut.next(It(Wt.slice()))},()=>{--Kn||Ut.complete()}))},Ut)},Ut)}}(Ut,We,hn?Kn=>(0,xt.e)(hn,Kn):Oe.D));return It?Wt.pipe((0,nt.I)(It)):Wt}function Me(Et,We,It){Et?(0,lt.N)(It,Et,We):We()}},8793:(Cn,bt,ie)=>{ie.d(bt,{x:()=>nt});var D=ie(6365),U=ie(3794),Oe=ie(8455);function nt(...ye){return function O(){return(0,D.U)(1)}()((0,Oe.H)(ye,(0,U.lI)(ye)))}},8455:(Cn,bt,ie)=>{ie.d(bt,{H:()=>Je});var D=ie(8750),O=ie(941),U=ie(6745),ye=ie(1985),Xe=ie(4761),lt=ie(8071),Ee=ie(5225);function Me(it,_t){if(!it)throw new Error("Iterable cannot be null");return new ye.c(ut=>{(0,Ee.N)(ut,_t,()=>{const Mt=it[Symbol.asyncIterator]();(0,Ee.N)(ut,_t,()=>{Mt.next().then(He=>{He.done?ut.complete():ut.next(He.value)})},0,!0)})})}var Et=ie(5055),We=ie(9858),It=ie(7441),Ut=ie(5397),hn=ie(7953),Wt=ie(591),Kn=ie(5196);function Je(it,_t){return _t?function Pt(it,_t){if(null!=it){if((0,Et.l)(it))return function Oe(it,_t){return(0,D.Tg)(it).pipe((0,U._)(_t),(0,O.Q)(_t))}(it,_t);if((0,It.X)(it))return function xt(it,_t){return new ye.c(ut=>{let Mt=0;return _t.schedule(function(){Mt===it.length?ut.complete():(ut.next(it[Mt++]),ut.closed||this.schedule())})})}(it,_t);if((0,We.y)(it))return function nt(it,_t){return(0,D.Tg)(it).pipe((0,U._)(_t),(0,O.Q)(_t))}(it,_t);if((0,hn.T)(it))return Me(it,_t);if((0,Ut.x)(it))return function Te(it,_t){return new ye.c(ut=>{let Mt;return(0,Ee.N)(ut,_t,()=>{Mt=it[Xe.l](),(0,Ee.N)(ut,_t,()=>{let He,Yt;try{({value:He,done:Yt}=Mt.next())}catch(yn){return void ut.error(yn)}Yt?ut.complete():ut.next(He)},0,!0)}),()=>(0,lt.T)(Mt?.return)&&Mt.return()})}(it,_t);if((0,Kn.U)(it))return function An(it,_t){return Me((0,Kn.C)(it),_t)}(it,_t)}throw(0,Wt.L)(it)}(it,_t):(0,D.Tg)(it)}},8750:(Cn,bt,ie)=>{ie.d(bt,{Tg:()=>Et});var D=ie(1635),O=ie(7441),U=ie(9858),Oe=ie(1985),nt=ie(5055),ye=ie(7953),xt=ie(591),Xe=ie(5397),lt=ie(5196),Ee=ie(8071),Te=ie(5334),Me=ie(3494);function Et(Pt){if(Pt instanceof Oe.c)return Pt;if(null!=Pt){if((0,nt.l)(Pt))return function We(Pt){return new Oe.c(Je=>{const it=Pt[Me.s]();if((0,Ee.T)(it.subscribe))return it.subscribe(Je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pt);if((0,O.X)(Pt))return function It(Pt){return new Oe.c(Je=>{for(let it=0;it<Pt.length&&!Je.closed;it++)Je.next(Pt[it]);Je.complete()})}(Pt);if((0,U.y)(Pt))return function Ut(Pt){return new Oe.c(Je=>{Pt.then(it=>{Je.closed||(Je.next(it),Je.complete())},it=>Je.error(it)).then(null,Te.m)})}(Pt);if((0,ye.T)(Pt))return Wt(Pt);if((0,Xe.x)(Pt))return function hn(Pt){return new Oe.c(Je=>{for(const it of Pt)if(Je.next(it),Je.closed)return;Je.complete()})}(Pt);if((0,lt.U)(Pt))return function Kn(Pt){return Wt((0,lt.C)(Pt))}(Pt)}throw(0,xt.L)(Pt)}function Wt(Pt){return new Oe.c(Je=>{(function An(Pt,Je){var it,_t,ut,Mt;return(0,D.sH)(this,void 0,void 0,function*(){try{for(it=(0,D.xN)(Pt);!(_t=yield it.next()).done;)if(Je.next(_t.value),Je.closed)return}catch(He){ut={error:He}}finally{try{_t&&!_t.done&&(Mt=it.return)&&(yield Mt.call(it))}finally{if(ut)throw ut.error}}Je.complete()})})(Pt,Je).catch(it=>Je.error(it))})}},4360:(Cn,bt,ie)=>{ie.d(bt,{_:()=>O});var D=ie(7707);function O(Oe,nt,ye,xt,Xe){return new U(Oe,nt,ye,xt,Xe)}class U extends D.vU{constructor(nt,ye,xt,Xe,lt,Ee){super(nt),this.onFinalize=lt,this.shouldUnsubscribe=Ee,this._next=ye?function(Te){try{ye(Te)}catch(Me){nt.error(Me)}}:super._next,this._error=Xe?function(Te){try{Xe(Te)}catch(Me){nt.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=xt?function(){try{xt()}catch(Te){nt.error(Te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var nt;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(nt=this.onFinalize)||void 0===nt||nt.call(this))}}}},6354:(Cn,bt,ie)=>{ie.d(bt,{T:()=>U});var D=ie(9974),O=ie(4360);function U(Oe,nt){return(0,D.N)((ye,xt)=>{let Xe=0;ye.subscribe((0,O._)(xt,lt=>{xt.next(Oe.call(nt,lt,Xe++))}))})}},6365:(Cn,bt,ie)=>{ie.d(bt,{U:()=>U});var D=ie(1397),O=ie(3669);function U(Oe=1/0){return(0,D.Z)(O.D,Oe)}},1397:(Cn,bt,ie)=>{ie.d(bt,{Z:()=>Xe});var D=ie(6354),O=ie(8750),U=ie(9974),Oe=ie(5225),nt=ie(4360),xt=ie(8071);function Xe(lt,Ee,Te=1/0){return(0,xt.T)(Ee)?Xe((Me,Et)=>(0,D.T)((We,It)=>Ee(Me,We,Et,It))((0,O.Tg)(lt(Me,Et))),Te):("number"==typeof Ee&&(Te=Ee),(0,U.N)((Me,Et)=>function ye(lt,Ee,Te,Me,Et,We,It,Ut){const hn=[];let Wt=0,Kn=0,An=!1;const Pt=()=>{An&&!hn.length&&!Wt&&Ee.complete()},Je=_t=>Wt<Me?it(_t):hn.push(_t),it=_t=>{We&&Ee.next(_t),Wt++;let ut=!1;(0,O.Tg)(Te(_t,Kn++)).subscribe((0,nt._)(Ee,Mt=>{Et?.(Mt),We?Je(Mt):Ee.next(Mt)},()=>{ut=!0},void 0,()=>{if(ut)try{for(Wt--;hn.length&&Wt<Me;){const Mt=hn.shift();It?(0,Oe.N)(Ee,It,()=>it(Mt)):it(Mt)}Pt()}catch(Mt){Ee.error(Mt)}}))};return lt.subscribe((0,nt._)(Ee,Je,()=>{An=!0,Pt()})),()=>{Ut?.()}}(Me,Et,lt,Te)))}},941:(Cn,bt,ie)=>{ie.d(bt,{Q:()=>Oe});var D=ie(5225),O=ie(9974),U=ie(4360);function Oe(nt,ye=0){return(0,O.N)((xt,Xe)=>{xt.subscribe((0,U._)(Xe,lt=>(0,D.N)(Xe,nt,()=>Xe.next(lt),ye),()=>(0,D.N)(Xe,nt,()=>Xe.complete(),ye),lt=>(0,D.N)(Xe,nt,()=>Xe.error(lt),ye)))})}},9172:(Cn,bt,ie)=>{ie.d(bt,{Z:()=>Oe});var D=ie(8793),O=ie(3794),U=ie(9974);function Oe(...nt){const ye=(0,O.lI)(nt);return(0,U.N)((xt,Xe)=>{(ye?(0,D.x)(nt,xt,ye):(0,D.x)(nt,xt)).subscribe(Xe)})}},6745:(Cn,bt,ie)=>{ie.d(bt,{_:()=>O});var D=ie(9974);function O(U,Oe=0){return(0,D.N)((nt,ye)=>{ye.add(U.schedule(()=>nt.subscribe(ye),Oe))})}},8141:(Cn,bt,ie)=>{ie.d(bt,{M:()=>nt});var D=ie(8071),O=ie(9974),U=ie(4360),Oe=ie(3669);function nt(ye,xt,Xe){const lt=(0,D.T)(ye)||xt||Xe?{next:ye,error:xt,complete:Xe}:ye;return lt?(0,O.N)((Ee,Te)=>{var Me;null===(Me=lt.subscribe)||void 0===Me||Me.call(lt);let Et=!0;Ee.subscribe((0,U._)(Te,We=>{var It;null===(It=lt.next)||void 0===It||It.call(lt,We),Te.next(We)},()=>{var We;Et=!1,null===(We=lt.complete)||void 0===We||We.call(lt),Te.complete()},We=>{var It;Et=!1,null===(It=lt.error)||void 0===It||It.call(lt,We),Te.error(We)},()=>{var We,It;Et&&(null===(We=lt.unsubscribe)||void 0===We||We.call(lt)),null===(It=lt.finalize)||void 0===It||It.call(lt)}))}):Oe.D}},9270:(Cn,bt,ie)=>{ie.d(bt,{f:()=>D});const D={setTimeout(O,U,...Oe){const{delegate:nt}=D;return nt?.setTimeout?nt.setTimeout(O,U,...Oe):setTimeout(O,U,...Oe)},clearTimeout(O){const{delegate:U}=D;return(U?.clearTimeout||clearTimeout)(O)},delegate:void 0}},4761:(Cn,bt,ie)=>{ie.d(bt,{l:()=>O});const O=function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Cn,bt,ie)=>{ie.d(bt,{s:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(Cn,bt,ie)=>{ie.d(bt,{ms:()=>Oe,lI:()=>nt});var D=ie(8071);function U(xt){return xt[xt.length-1]}function Oe(xt){return(0,D.T)(U(xt))?xt.pop():void 0}function nt(xt){return function O(xt){return xt&&(0,D.T)(xt.schedule)}(U(xt))?xt.pop():void 0}},3073:(Cn,bt,ie)=>{ie.d(bt,{D:()=>nt});const{isArray:D}=Array,{getPrototypeOf:O,prototype:U,keys:Oe}=Object;function nt(xt){if(1===xt.length){const Xe=xt[0];if(D(Xe))return{args:Xe,keys:null};if(function ye(xt){return xt&&"object"==typeof xt&&O(xt)===U}(Xe)){const lt=Oe(Xe);return{args:lt.map(Ee=>Xe[Ee]),keys:lt}}}return{args:xt,keys:null}}},7908:(Cn,bt,ie)=>{function D(O,U){if(O){const Oe=O.indexOf(U);0<=Oe&&O.splice(Oe,1)}}ie.d(bt,{o:()=>D})},1853:(Cn,bt,ie)=>{function D(O){const Oe=O(nt=>{Error.call(nt),nt.stack=(new Error).stack});return Oe.prototype=Object.create(Error.prototype),Oe.prototype.constructor=Oe,Oe}ie.d(bt,{L:()=>D})},8496:(Cn,bt,ie)=>{function D(O,U){return O.reduce((Oe,nt,ye)=>(Oe[nt]=U[ye],Oe),{})}ie.d(bt,{e:()=>D})},9786:(Cn,bt,ie)=>{ie.d(bt,{Y:()=>U,l:()=>Oe});var D=ie(1026);let O=null;function U(nt){if(D.$.useDeprecatedSynchronousErrorHandling){const ye=!O;if(ye&&(O={errorThrown:!1,error:null}),nt(),ye){const{errorThrown:xt,error:Xe}=O;if(O=null,xt)throw Xe}}else nt()}function Oe(nt){D.$.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=nt)}},5225:(Cn,bt,ie)=>{function D(O,U,Oe,nt=0,ye=!1){const xt=U.schedule(function(){Oe(),ye?O.add(this.schedule(null,nt)):this.unsubscribe()},nt);if(O.add(xt),!ye)return xt}ie.d(bt,{N:()=>D})},3669:(Cn,bt,ie)=>{function D(O){return O}ie.d(bt,{D:()=>D})},7441:(Cn,bt,ie)=>{ie.d(bt,{X:()=>D});const D=O=>O&&"number"==typeof O.length&&"function"!=typeof O},7953:(Cn,bt,ie)=>{ie.d(bt,{T:()=>O});var D=ie(8071);function O(U){return Symbol.asyncIterator&&(0,D.T)(U?.[Symbol.asyncIterator])}},8071:(Cn,bt,ie)=>{function D(O){return"function"==typeof O}ie.d(bt,{T:()=>D})},5055:(Cn,bt,ie)=>{ie.d(bt,{l:()=>U});var D=ie(3494),O=ie(8071);function U(Oe){return(0,O.T)(Oe[D.s])}},5397:(Cn,bt,ie)=>{ie.d(bt,{x:()=>U});var D=ie(4761),O=ie(8071);function U(Oe){return(0,O.T)(Oe?.[D.l])}},9858:(Cn,bt,ie)=>{ie.d(bt,{y:()=>O});var D=ie(8071);function O(U){return(0,D.T)(U?.then)}},5196:(Cn,bt,ie)=>{ie.d(bt,{C:()=>U,U:()=>Oe});var D=ie(1635),O=ie(8071);function U(nt){return(0,D.AQ)(this,arguments,function*(){const xt=nt.getReader();try{for(;;){const{value:Xe,done:lt}=yield(0,D.N3)(xt.read());if(lt)return yield(0,D.N3)(void 0);yield yield(0,D.N3)(Xe)}}finally{xt.releaseLock()}})}function Oe(nt){return(0,O.T)(nt?.getReader)}},9974:(Cn,bt,ie)=>{ie.d(bt,{N:()=>U,S:()=>O});var D=ie(8071);function O(Oe){return(0,D.T)(Oe?.lift)}function U(Oe){return nt=>{if(O(nt))return nt.lift(function(ye){try{return Oe(ye,this)}catch(xt){this.error(xt)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Cn,bt,ie)=>{ie.d(bt,{I:()=>Oe});var D=ie(6354);const{isArray:O}=Array;function Oe(nt){return(0,D.T)(ye=>function U(nt,ye){return O(ye)?nt(...ye):nt(ye)}(nt,ye))}},5343:(Cn,bt,ie)=>{function D(){}ie.d(bt,{l:()=>D})},1203:(Cn,bt,ie)=>{ie.d(bt,{F:()=>O,m:()=>U});var D=ie(3669);function O(...Oe){return U(Oe)}function U(Oe){return 0===Oe.length?D.D:1===Oe.length?Oe[0]:function(ye){return Oe.reduce((xt,Xe)=>Xe(xt),ye)}}},5334:(Cn,bt,ie)=>{ie.d(bt,{m:()=>U});var D=ie(1026),O=ie(9270);function U(Oe){O.f.setTimeout(()=>{const{onUnhandledError:nt}=D.$;if(!nt)throw Oe;nt(Oe)})}},591:(Cn,bt,ie)=>{function D(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}ie.d(bt,{L:()=>D})},177:(Cn,bt,ie)=>{ie.d(bt,{AJ:()=>Na,B3:()=>di,Jj:()=>ko,MD:()=>_o,N0:()=>hi,QT:()=>U,Sm:()=>Ut,Sq:()=>gu,VF:()=>nt,Vy:()=>vo,Xr:()=>Wa,YU:()=>Ur,ZD:()=>Oe,_b:()=>Dn,aZ:()=>Wt,bT:()=>Ha,fw:()=>hn,hb:()=>We,hj:()=>lt,qQ:()=>xt});var D=ie(3953);let O=null;function U(){return O}function Oe(F){O??=F}class nt{}const xt=new D.nKC("");let Xe=(()=>{class F{historyGo(W){throw new Error("")}static#e=this.\u0275fac=function(ne){return new(ne||F)};static#t=this.\u0275prov=D.jDH({token:F,factory:()=>(0,D.WQX)(Ee),providedIn:"platform"})}return F})();const lt=new D.nKC("");let Ee=(()=>{class F extends Xe{constructor(){super(),this._doc=(0,D.WQX)(xt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(W){const ne=U().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("popstate",W,!1),()=>ne.removeEventListener("popstate",W)}onHashChange(W){const ne=U().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("hashchange",W,!1),()=>ne.removeEventListener("hashchange",W)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(W){this._location.pathname=W}pushState(W,ne,we){this._history.pushState(W,ne,we)}replaceState(W,ne,we){this._history.replaceState(W,ne,we)}forward(){this._history.forward()}back(){this._history.back()}historyGo(W=0){this._history.go(W)}getState(){return this._history.state}static#e=this.\u0275fac=function(ne){return new(ne||F)};static#t=this.\u0275prov=D.jDH({token:F,factory:()=>new F,providedIn:"platform"})}return F})();function Te(F,re){if(0==F.length)return re;if(0==re.length)return F;let W=0;return F.endsWith("/")&&W++,re.startsWith("/")&&W++,2==W?F+re.substring(1):1==W?F+re:F+"/"+re}function Me(F){const re=F.match(/#|\?|$/),W=re&&re.index||F.length;return F.slice(0,W-("/"===F[W-1]?1:0))+F.slice(W)}function Et(F){return F&&"?"!==F[0]?"?"+F:F}let We=(()=>{class F{historyGo(W){throw new Error("")}static#e=this.\u0275fac=function(ne){return new(ne||F)};static#t=this.\u0275prov=D.jDH({token:F,factory:()=>(0,D.WQX)(Ut),providedIn:"root"})}return F})();const It=new D.nKC("");let Ut=(()=>{class F extends We{constructor(W,ne){super(),this._platformLocation=W,this._removeListenerFns=[],this._baseHref=ne??this._platformLocation.getBaseHrefFromDOM()??(0,D.WQX)(xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}prepareExternalUrl(W){return Te(this._baseHref,W)}path(W=!1){const ne=this._platformLocation.pathname+Et(this._platformLocation.search),we=this._platformLocation.hash;return we&&W?`${ne}${we}`:ne}pushState(W,ne,we,dt){const mt=this.prepareExternalUrl(we+Et(dt));this._platformLocation.pushState(W,ne,mt)}replaceState(W,ne,we,dt){const mt=this.prepareExternalUrl(we+Et(dt));this._platformLocation.replaceState(W,ne,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}static#e=this.\u0275fac=function(ne){return new(ne||F)(D.KVO(Xe),D.KVO(It,8))};static#t=this.\u0275prov=D.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),hn=(()=>{class F extends We{constructor(W,ne){super(),this._platformLocation=W,this._baseHref="",this._removeListenerFns=[],null!=ne&&(this._baseHref=ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}path(W=!1){const ne=this._platformLocation.hash??"#";return ne.length>0?ne.substring(1):ne}prepareExternalUrl(W){const ne=Te(this._baseHref,W);return ne.length>0?"#"+ne:ne}pushState(W,ne,we,dt){let mt=this.prepareExternalUrl(we+Et(dt));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.pushState(W,ne,mt)}replaceState(W,ne,we,dt){let mt=this.prepareExternalUrl(we+Et(dt));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.replaceState(W,ne,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}static#e=this.\u0275fac=function(ne){return new(ne||F)(D.KVO(Xe),D.KVO(It,8))};static#t=this.\u0275prov=D.jDH({token:F,factory:F.\u0275fac})}return F})(),Wt=(()=>{class F{constructor(W){this._subject=new D.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=W;const ne=this._locationStrategy.getBaseHref();this._basePath=function Je(F){if(new RegExp("^(https?:)?//").test(F)){const[,W]=F.split(/\/\/[^\/]+/);return W}return F}(Me(Pt(ne))),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(W=!1){return this.normalize(this._locationStrategy.path(W))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(W,ne=""){return this.path()==this.normalize(W+Et(ne))}normalize(W){return F.stripTrailingSlash(function An(F,re){if(!F||!re.startsWith(F))return re;const W=re.substring(F.length);return""===W||["/",";","?","#"].includes(W[0])?W:re}(this._basePath,Pt(W)))}prepareExternalUrl(W){return W&&"/"!==W[0]&&(W="/"+W),this._locationStrategy.prepareExternalUrl(W)}go(W,ne="",we=null){this._locationStrategy.pushState(we,"",W,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+Et(ne)),we)}replaceState(W,ne="",we=null){this._locationStrategy.replaceState(we,"",W,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+Et(ne)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(W=0){this._locationStrategy.historyGo?.(W)}onUrlChange(W){return this._urlChangeListeners.push(W),this._urlChangeSubscription??=this.subscribe(ne=>{this._notifyUrlChangeListeners(ne.url,ne.state)}),()=>{const ne=this._urlChangeListeners.indexOf(W);this._urlChangeListeners.splice(ne,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(W="",ne){this._urlChangeListeners.forEach(we=>we(W,ne))}subscribe(W,ne,we){return this._subject.subscribe({next:W,error:ne,complete:we})}static#e=this.normalizeQueryParams=Et;static#t=this.joinWithSlash=Te;static#n=this.stripTrailingSlash=Me;static#r=this.\u0275fac=function(ne){return new(ne||F)(D.KVO(We))};static#i=this.\u0275prov=D.jDH({token:F,factory:()=>function Kn(){return new Wt((0,D.KVO)(We))}(),providedIn:"root"})}return F})();function Pt(F){return F.replace(/\/index.html$/,"")}function Dn(F,re){re=encodeURIComponent(re);for(const W of F.split(";")){const ne=W.indexOf("="),[we,dt]=-1==ne?[W,""]:[W.slice(0,ne),W.slice(ne+1)];if(we.trim()===re)return decodeURIComponent(dt)}return null}const Nn=/\s+/,Cr=[];let Ur=(()=>{class F{constructor(W,ne){this._ngEl=W,this._renderer=ne,this.initialClasses=Cr,this.stateMap=new Map}set klass(W){this.initialClasses=null!=W?W.trim().split(Nn):Cr}set ngClass(W){this.rawClass="string"==typeof W?W.trim().split(Nn):W}ngDoCheck(){for(const ne of this.initialClasses)this._updateState(ne,!0);const W=this.rawClass;if(Array.isArray(W)||W instanceof Set)for(const ne of W)this._updateState(ne,!0);else if(null!=W)for(const ne of Object.keys(W))this._updateState(ne,!!W[ne]);this._applyStateDiff()}_updateState(W,ne){const we=this.stateMap.get(W);void 0!==we?(we.enabled!==ne&&(we.changed=!0,we.enabled=ne),we.touched=!0):this.stateMap.set(W,{enabled:ne,changed:!0,touched:!0})}_applyStateDiff(){for(const W of this.stateMap){const ne=W[0],we=W[1];we.changed?(this._toggleClass(ne,we.enabled),we.changed=!1):we.touched||(we.enabled&&this._toggleClass(ne,!1),this.stateMap.delete(ne)),we.touched=!1}}_toggleClass(W,ne){(W=W.trim()).length>0&&W.split(Nn).forEach(we=>{ne?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}static#e=this.\u0275fac=function(ne){return new(ne||F)(D.rXU(D.aKT),D.rXU(D.sFG))};static#t=this.\u0275dir=D.FsC({type:F,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return F})();class Xr{constructor(re,W,ne,we){this.$implicit=re,this.ngForOf=W,this.index=ne,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gu=(()=>{class F{set ngForOf(W){this._ngForOf=W,this._ngForOfDirty=!0}set ngForTrackBy(W){this._trackByFn=W}get ngForTrackBy(){return this._trackByFn}constructor(W,ne,we){this._viewContainer=W,this._template=ne,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(W){W&&(this._template=W)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const W=this._ngForOf;!this._differ&&W&&(this._differ=this._differs.find(W).create(this.ngForTrackBy))}if(this._differ){const W=this._differ.diff(this._ngForOf);W&&this._applyChanges(W)}}_applyChanges(W){const ne=this._viewContainer;W.forEachOperation((we,dt,mt)=>{if(null==we.previousIndex)ne.createEmbeddedView(this._template,new Xr(we.item,this._ngForOf,-1,-1),null===mt?void 0:mt);else if(null==mt)ne.remove(null===dt?void 0:dt);else if(null!==dt){const pn=ne.get(dt);ne.move(pn,mt),aa(pn,we)}});for(let we=0,dt=ne.length;we<dt;we++){const pn=ne.get(we).context;pn.index=we,pn.count=dt,pn.ngForOf=this._ngForOf}W.forEachIdentityChange(we=>{aa(ne.get(we.currentIndex),we)})}static ngTemplateContextGuard(W,ne){return!0}static#e=this.\u0275fac=function(ne){return new(ne||F)(D.rXU(D.c1b),D.rXU(D.C4Q),D.rXU(D._q3))};static#t=this.\u0275dir=D.FsC({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return F})();function aa(F,re){F.context.$implicit=re.item}let Ha=(()=>{class F{constructor(W,ne){this._viewContainer=W,this._context=new Fu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ne}set ngIf(W){this._context.$implicit=this._context.ngIf=W,this._updateView()}set ngIfThen(W){Lu("ngIfThen",W),this._thenTemplateRef=W,this._thenViewRef=null,this._updateView()}set ngIfElse(W){Lu("ngIfElse",W),this._elseTemplateRef=W,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(W,ne){return!0}static#e=this.\u0275fac=function(ne){return new(ne||F)(D.rXU(D.c1b),D.rXU(D.C4Q))};static#t=this.\u0275dir=D.FsC({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return F})();class Fu{constructor(){this.$implicit=null,this.ngIf=null}}function Lu(F,re){if(re&&!re.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,D.Tbb)(re)}'.`)}let di=(()=>{class F{constructor(W,ne,we){this._ngEl=W,this._differs=ne,this._renderer=we,this._ngStyle=null,this._differ=null}set ngStyle(W){this._ngStyle=W,!this._differ&&W&&(this._differ=this._differs.find(W).create())}ngDoCheck(){if(this._differ){const W=this._differ.diff(this._ngStyle);W&&this._applyChanges(W)}}_setStyle(W,ne){const[we,dt]=W.split("."),mt=-1===we.indexOf("-")?void 0:D.czy.DashCase;null!=ne?this._renderer.setStyle(this._ngEl.nativeElement,we,dt?`${ne}${dt}`:ne,mt):this._renderer.removeStyle(this._ngEl.nativeElement,we,mt)}_applyChanges(W){W.forEachRemovedItem(ne=>this._setStyle(ne.key,null)),W.forEachAddedItem(ne=>this._setStyle(ne.key,ne.currentValue)),W.forEachChangedItem(ne=>this._setStyle(ne.key,ne.currentValue))}static#e=this.\u0275fac=function(ne){return new(ne||F)(D.rXU(D.aKT),D.rXU(D.MKu),D.rXU(D.sFG))};static#t=this.\u0275dir=D.FsC({type:F,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return F})();class Di{createSubscription(re,W){return(0,D.O8t)(()=>re.subscribe({next:W,error:ne=>{throw ne}}))}dispose(re){(0,D.O8t)(()=>re.unsubscribe())}}class ks{createSubscription(re,W){return re.then(W,ne=>{throw ne})}dispose(re){}}const jl=new ks,Ui=new Di;let ko=(()=>{class F{constructor(W){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=W}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(W){if(!this._obj){if(W)try{this.markForCheckOnValueUpdate=!1,this._subscribe(W)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return W!==this._obj?(this._dispose(),this.transform(W)):this._latestValue}_subscribe(W){this._obj=W,this._strategy=this._selectStrategy(W),this._subscription=this._strategy.createSubscription(W,ne=>this._updateLatestValue(W,ne))}_selectStrategy(W){if((0,D.jNT)(W))return jl;if((0,D.zjR)(W))return Ui;throw function $i(F,re){return new D.wOt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(W,ne){W===this._obj&&(this._latestValue=ne,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(ne){return new(ne||F)(D.rXU(D.gRc,16))};static#t=this.\u0275pipe=D.EJ8({name:"async",type:F,pure:!1,standalone:!0})}return F})(),_o=(()=>{class F{static#e=this.\u0275fac=function(ne){return new(ne||F)};static#t=this.\u0275mod=D.$C({type:F});static#n=this.\u0275inj=D.G2t({})}return F})();const Na="browser",rs="server";function vo(F){return F===rs}let Wa=(()=>{class F{static#e=this.\u0275prov=(0,D.jDH)({token:F,providedIn:"root",factory:()=>function la(F){return F===Na}((0,D.WQX)(D.Agw))?new Xo((0,D.WQX)(xt),window):new vu})}return F})();class Xo{constructor(re,W){this.document=re,this.window=W,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(re){this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){const W=function Qi(F,re){const W=F.getElementById(re)||F.getElementsByName(re)[0];if(W)return W;if("function"==typeof F.createTreeWalker&&F.body&&"function"==typeof F.body.attachShadow){const ne=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let we=ne.currentNode;for(;we;){const dt=we.shadowRoot;if(dt){const mt=dt.getElementById(re)||dt.querySelector(`[name="${re}"]`);if(mt)return mt}we=ne.nextNode()}}return null}(this.document,re);W&&(this.scrollToElement(W),W.focus())}setHistoryScrollRestoration(re){this.window.history.scrollRestoration=re}scrollToElement(re){const W=re.getBoundingClientRect(),ne=W.left+this.window.pageXOffset,we=W.top+this.window.pageYOffset,dt=this.offset();this.window.scrollTo(ne-dt[0],we-dt[1])}}class vu{setOffset(re){}getScrollPosition(){return[0,0]}scrollToPosition(re){}scrollToAnchor(re){}setHistoryScrollRestoration(re){}}class hi{}},3953:(Cn,bt,ie)=>{ie.d(bt,{iLQ:()=>Qy,sZ2:()=>Jr,hnV:()=>vb,o8S:()=>Dd,BIS:()=>Jh,gRc:()=>Mb,Ql9:()=>fM,Ocv:()=>CM,Z63:()=>us,aKT:()=>Jd,uvJ:()=>jo,zcH:()=>kc,bkB:()=>Ii,$GK:()=>re,nKC:()=>er,zZn:()=>Ms,_q3:()=>lw,MKu:()=>dw,xe9:()=>Jy,Co$:()=>pI,Vns:()=>gm,SKi:()=>zo,Xx1:()=>xo,Agw:()=>ih,PLl:()=>Zm,sFG:()=>oo,_9s:()=>ln,czy:()=>Kt,kdw:()=>ia,C4Q:()=>Ap,NYb:()=>aM,giA:()=>mb,xvI:()=>kR,RxE:()=>ub,c1b:()=>Ty,gXe:()=>ma,mal:()=>Rw,L39:()=>EO,Ol2:()=>aC,w6W:()=>dS,Rfq:()=>ta,WQX:()=>vn,QuC:()=>Rn,EmA:()=>$s,HJs:()=>SO,N4e:()=>bu,O8t:()=>wO,H3F:()=>cb,H8p:()=>Xl,KH2:()=>g0,TgB:()=>mm,wOt:()=>nn,WHO:()=>pb,e01:()=>gb,H5H:()=>OC,Zy3:()=>Hn,mq5:()=>TA,JZv:()=>Ar,TL3:()=>JM,LfX:()=>js,plB:()=>Rp,jNT:()=>JC,zjR:()=>_b,TL$:()=>ap,Tbb:()=>Tr,Vt3:()=>iC,GFd:()=>fI,OA$:()=>ot,Jv_:()=>PT,aNF:()=>NT,R7$:()=>ue,BMQ:()=>yC,HbH:()=>nA,ZvI:()=>cA,STu:()=>lA,ZWY:()=>dA,AVh:()=>bC,vxM:()=>gA,wni:()=>uT,VBU:()=>B,FsC:()=>Ie,jDH:()=>Tn,G2t:()=>Us,$C:()=>X,EJ8:()=>ht,rXU:()=>Fe,nrm:()=>MC,bVm:()=>Hy,qex:()=>jy,k0s:()=>Uy,j41:()=>By,RV6:()=>wA,xGo:()=>Vm,KVO:()=>Mi,kS0:()=>si,QTQ:()=>gt,bIt:()=>kC,lsd:()=>dT,XpG:()=>YA,nI1:()=>$T,bMT:()=>zT,SdG:()=>JA,NAR:()=>ZA,Y8G:()=>IC,FS9:()=>LC,eq3:()=>FT,l_i:()=>LT,sMw:()=>VT,mGM:()=>lT,sdS:()=>hT,Dyx:()=>vA,Z7z:()=>_A,fX1:()=>mA,Njj:()=>Ff,EBC:()=>P,tSv:()=>T,eBV:()=>ft,B4B:()=>ch,n$t:()=>w_,xc7:()=>TC,DNE:()=>cC,C5r:()=>WT,EFF:()=>wT,JRh:()=>BC,SpI:()=>Wy,Lme:()=>UC,DH7:()=>MT,mxI:()=>HC,R50:()=>jC,GBs:()=>cT});let O=null,Oe=1;const nt=Symbol("SIGNAL");function ye(t){const r=O;return O=t,r}function Et(t){if((!it(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Oe)){if(!t.producerMustRecompute(t)&&!Kn(t))return t.dirty=!1,void(t.lastCleanEpoch=Oe);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Oe}}function Kn(t){_t(t);for(let r=0;r<t.producerNode.length;r++){const a=t.producerNode[r],d=t.producerLastReadVersion[r];if(d!==a.version||(Et(a),d!==a.version))return!0}return!1}function Je(t,r){if(function ut(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),1===t.liveConsumerNode.length&&function Mt(t){return void 0!==t.producerNode}(t))for(let d=0;d<t.producerNode.length;d++)Je(t.producerNode[d],t.producerIndexOfThis[d]);const a=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[a],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[a],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const d=t.liveConsumerIndexOfThis[r],f=t.liveConsumerNode[r];_t(f),f.producerIndexOfThis[d]=r}}function it(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _t(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let en=null;var no=ie(1413),pr=ie(8359),Lr=ie(4412),Fi=ie(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Bu="https://g.co/ng/security#xss";class nn extends Error{constructor(r,a){super(Hn(r,a)),this.code=r}}function Hn(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}function ro(t){return{toString:t}.toString()}const Cs="__parameters__";function Xa(t,r,a){return ro(()=>{const d=function yu(t){return function(...a){if(t){const d=t(...a);for(const f in d)this[f]=d[f]}}}(r);function f(...v){if(this instanceof f)return d.apply(this,v),this;const w=new f(...v);return x.annotation=w,x;function x(N,K,J){const he=N.hasOwnProperty(Cs)?N[Cs]:Object.defineProperty(N,Cs,{value:[]})[Cs];for(;he.length<=J;)he.push(null);return(he[J]=he[J]||[]).push(w),N}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}const Ar=globalThis;function zr(t){for(let r in t)if(t[r]===zr)return r;throw Error("Could not find renamed property on target object.")}function Hu(t,r){for(const a in r)r.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(t[a]=r[a])}function Tr(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Tr).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const a=r.indexOf("\n");return-1===a?r:r.substring(0,a)}function is(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const $u=zr({__forward_ref__:zr});function ta(t){return t.__forward_ref__=ta,t.toString=function(){return Tr(this())},t}function Mn(t){return ws(t)?t():t}function ws(t){return"function"==typeof t&&t.hasOwnProperty($u)&&t.__forward_ref__===ta}function Tn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Us(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wr(t){return Cu(t,vc)||Cu(t,Rd)}function js(t){return null!==Wr(t)}function Cu(t,r){return t.hasOwnProperty(r)?t[r]:null}function As(t){return t&&(t.hasOwnProperty(Qn)||t.hasOwnProperty(mi))?t[Qn]:null}const vc=zr({\u0275prov:zr}),Qn=zr({\u0275inj:zr}),Rd=zr({ngInjectableDef:zr}),mi=zr({ngInjectorDef:zr});class er{constructor(r,a){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Tn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Iu(t){return t&&!!t.\u0275providers}const Qr=zr({\u0275cmp:zr}),Wu=zr({\u0275dir:zr}),sr=zr({\u0275pipe:zr}),Ya=zr({\u0275mod:zr}),_i=zr({\u0275fac:zr}),Za=zr({__NG_ELEMENT_ID__:zr}),Ln=zr({__NG_ENV_ID__:zr});function qn(t){return"string"==typeof t?t:null==t?"":String(t)}function F(t,r){throw new nn(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{});let W;function ne(){return W}function we(t){const r=W;return W=t,r}function dt(t,r,a){const d=Wr(t);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:a&re.Optional?null:void 0!==r?r:void F()}const fn={},qr="__NG_DI_FLAG__",tr="ngTempTokenPath",cr=/\n/gm,Wi="__source";let Qo;function Yo(t){const r=Qo;return Qo=t,r}function na(t,r=re.Default){if(void 0===Qo)throw new nn(-203,!1);return null===Qo?dt(t,void 0,r):Qo.get(t,r&re.Optional?null:void 0,r)}function Mi(t,r=re.Default){return(ne()||na)(Mn(t),r)}function vn(t,r=re.Default){return Mi(t,Ts(r))}function Ts(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function bs(t){const r=[];for(let a=0;a<t.length;a++){const d=Mn(t[a]);if(Array.isArray(d)){if(0===d.length)throw new nn(900,!1);let f,v=re.Default;for(let w=0;w<d.length;w++){const x=d[w],N=qu(x);"number"==typeof N?-1===N?f=x.token:v|=N:f=x}r.push(Mi(f,v))}else r.push(Mi(d))}return r}function xs(t,r){return t[qr]=r,t.prototype[qr]=r,t}function qu(t){return t[qr]}const xo=xs(Xa("Optional"),8),ia=xs(Xa("SkipSelf"),4);function qi(t,r){return t.hasOwnProperty(_i)?t[_i]:null}function ka(t,r){t.forEach(a=>Array.isArray(a)?ka(a,r):r(a))}function Zi(t,r,a){r>=t.length?t.push(a):t.splice(r,0,a)}function gl(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function vi(t,r,a){let d=Ku(t,r);return d>=0?t[1|d]=a:(d=~d,function Xc(t,r,a,d){let f=t.length;if(f==r)t.push(a,d);else if(1===f)t.push(d,t[0]),t[0]=a;else{for(f--,t.push(t[f-1],t[f]);f>r;)t[f]=t[f-2],f--;t[r]=a,t[r+1]=d}}(t,d,r,a)),d}function as(t,r){const a=Ku(t,r);if(a>=0)return t[1|a]}function Ku(t,r){return function $l(t,r,a){let d=0,f=t.length>>a;for(;f!==d;){const v=d+(f-d>>1),w=t[v<<a];if(r===w)return v<<a;w>r?f=v:d=v+1}return~(f<<a)}(t,r,1)}const fi={},Pr=[],us=new er(""),Qc=new er("",-1),zl=new er("");class Au{get(r,a=fn){if(a===fn){const d=new Error(`NullInjectorError: No provider for ${Tr(r)}!`);throw d.name="NullInjectorError",d}return a}}var Zo=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Zo||{}),ma=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ma||{}),Fa=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Fa||{});function Ji(t,r,a){let d=t.length;for(;;){const f=t.indexOf(r,a);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const v=r.length;if(f+v===d||t.charCodeAt(f+v)<=32)return f}a=f+1}}function Tc(t,r,a){let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const v=a[d++],w=a[d++],x=a[d++];t.setAttribute(r,w,x,v)}else{const v=f,w=a[++d];Zc(v)?t.setProperty(r,v,w):t.setAttribute(r,v,w),d++}}return d}function Yc(t){return 3===t||4===t||6===t}function Zc(t){return 64===t.charCodeAt(0)}function wr(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let a=-1;for(let d=0;d<r.length;d++){const f=r[d];"number"==typeof f?a=f:0===a||Jc(t,a,f,null,-1===a||2===a?r[++d]:null)}}return t}function Jc(t,r,a,d,f){let v=0,w=t.length;if(-1===r)w=-1;else for(;v<t.length;){const x=t[v++];if("number"==typeof x){if(x===r){w=-1;break}if(x>r){w=v-1;break}}}for(;v<t.length;){const x=t[v];if("number"==typeof x)break;if(x===a){if(null===d)return void(null!==f&&(t[v+1]=f));if(d===t[v+1])return void(t[v+2]=f)}v++,null!==d&&v++,null!==f&&v++}-1!==w&&(t.splice(w,0,r),v=w+1),t.splice(v++,0,a),null!==d&&t.splice(v++,0,d),null!==f&&t.splice(v++,0,f)}const ml="ng-template";function Wl(t,r,a,d){let f=0;if(d){for(;f<r.length&&"string"==typeof r[f];f+=2)if("class"===r[f]&&-1!==Ji(r[f+1].toLowerCase(),a,0))return!0}else if(gn(t))return!1;if(f=r.indexOf(1,f),f>-1){let v;for(;++f<r.length&&"string"==typeof(v=r[f]);)if(v.toLowerCase()===a)return!0}return!1}function gn(t){return 4===t.type&&t.value!==ml}function bc(t,r,a){return r===(4!==t.type||a?t.value:ml)}function _l(t,r,a){let d=4;const f=t.attrs,v=null!==f?function Nd(t){for(let r=0;r<t.length;r++)if(Yc(t[r]))return r;return t.length}(f):0;let w=!1;for(let x=0;x<r.length;x++){const N=r[x];if("number"!=typeof N){if(!w)if(4&d){if(d=2|1&d,""!==N&&!bc(t,N,a)||""===N&&1===r.length){if(La(d))return!1;w=!0}}else if(8&d){if(null===f||!Wl(t,f,N,a)){if(La(d))return!1;w=!0}}else{const K=r[++x],J=Od(N,f,gn(t),a);if(-1===J){if(La(d))return!1;w=!0;continue}if(""!==K){let he;if(he=J>v?"":f[J+1].toLowerCase(),2&d&&K!==he){if(La(d))return!1;w=!0}}}}else{if(!w&&!La(d)&&!La(N))return!1;if(w&&La(N))continue;w=!1,d=N|1&d}}return La(d)||w}function La(t){return!(1&t)}function Od(t,r,a,d){if(null===r)return-1;let f=0;if(d||!a){let v=!1;for(;f<r.length;){const w=r[f];if(w===t)return f;if(3===w||6===w)v=!0;else{if(1===w||2===w){let x=r[++f];for(;"string"==typeof x;)x=r[++f];continue}if(4===w)break;if(0===w){f+=4;continue}}f+=v?1:2}return-1}return function wh(t,r){let a=t.indexOf(4);if(a>-1)for(a++;a<t.length;){const d=t[a];if("number"==typeof d)return-1;if(d===r)return a;a++}return-1}(r,t)}function _a(t,r,a=!1){for(let d=0;d<r.length;d++)if(_l(t,r[d],a))return!0;return!1}function vl(t,r){e:for(let a=0;a<r.length;a++){const d=r[a];if(t.length===d.length){for(let f=0;f<t.length;f++)if(t[f]!==d[f])continue e;return!0}}return!1}function Va(t,r){return t?":not("+r.trim()+")":r}function Xu(t){let r=t[0],a=1,d=2,f="",v=!1;for(;a<t.length;){let w=t[a];if("string"==typeof w)if(2&d){const x=t[++a];f+="["+w+(x.length>0?'="'+x+'"':"")+"]"}else 8&d?f+="."+w:4&d&&(f+=" "+w);else""!==f&&!La(w)&&(r+=Va(v,f),f=""),d=w,v=v||!La(d);a++}return""!==f&&(r+=Va(v,f)),r}function B(t){return ro(()=>{const r=va(t),a={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Zo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ma.Emulated,styles:t.styles||Pr,_:null,schemas:t.schemas||null,tView:null,id:""};So(a);const d=t.dependencies;return a.directiveDefs=ya(d,!1),a.pipeDefs=ya(d,!0),a.id=function Gs(t){let r=0;const a=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of a)r=Math.imul(31,r)+f.charCodeAt(0)|0;return r+=2147483648,"c"+r}(a),a})}function R(t){return ke(t)||Bt(t)}function j(t){return null!==t}function X(t){return ro(()=>({type:t.type,bootstrap:t.bootstrap||Pr,declarations:t.declarations||Pr,imports:t.imports||Pr,exports:t.exports||Pr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ae(t,r){if(null==t)return fi;const a={};for(const d in t)if(t.hasOwnProperty(d)){const f=t[d];let v,w,x=Fa.None;Array.isArray(f)?(x=f[0],v=f[1],w=f[2]??v):(v=f,w=f),r?(a[v]=x!==Fa.None?[d,x]:d,r[v]=w):a[v]=d}return a}function Ie(t){return ro(()=>{const r=va(t);return So(r),r})}function ht(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ke(t){return t[Qr]||null}function Bt(t){return t[Wu]||null}function dn(t){return t[sr]||null}function Rn(t){const r=ke(t)||Bt(t)||dn(t);return null!==r&&r.standalone}function On(t,r){const a=t[Ya]||null;if(!a&&!0===r)throw new Error(`Type ${Tr(t)} does not have '\u0275mod' property.`);return a}function va(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||fi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Pr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ae(t.inputs,r),outputs:ae(t.outputs),debugInfo:null}}function So(t){t.features?.forEach(r=>r(t))}function ya(t,r){if(!t)return null;const a=r?dn:R;return()=>("function"==typeof t?t():t).map(d=>a(d)).filter(j)}function $s(t){return{\u0275providers:t}}function Ea(...t){return{\u0275providers:yl(0,t),\u0275fromNgModule:!0}}function yl(t,...r){const a=[],d=new Set;let f;const v=w=>{a.push(w)};return ka(r,w=>{const x=w;eu(x,v,[],d)&&(f||=[],f.push(x))}),void 0!==f&&kd(f,v),a}function kd(t,r){for(let a=0;a<t.length;a++){const{ngModule:d,providers:f}=t[a];ql(f,v=>{r(v,d)})}}function eu(t,r,a,d){if(!(t=Mn(t)))return!1;let f=null,v=As(t);const w=!v&&ke(t);if(v||w){if(w&&!w.standalone)return!1;f=t}else{const N=t.ngModule;if(v=As(N),!v)return!1;f=N}const x=d.has(f);if(w){if(x)return!1;if(d.add(f),w.dependencies){const N="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const K of N)eu(K,r,a,d)}}else{if(!v)return!1;{if(null!=v.imports&&!x){let K;d.add(f);try{ka(v.imports,J=>{eu(J,r,a,d)&&(K||=[],K.push(J))})}finally{}void 0!==K&&kd(K,r)}if(!x){const K=qi(f)||(()=>new f);r({provide:f,useFactory:K,deps:Pr},f),r({provide:zl,useValue:f,multi:!0},f),r({provide:us,useValue:()=>Mi(f),multi:!0},f)}const N=v.providers;if(null!=N&&!x){const K=t;ql(N,J=>{r(J,K)})}}}return f!==t&&void 0!==t.providers}function ql(t,r){for(let a of t)Iu(a)&&(a=a.\u0275providers),Array.isArray(a)?ql(a,r):r(a)}const Ah=zr({provide:String,useValue:zr});function Fd(t){return null!==t&&"object"==typeof t&&Ah in t}function Sc(t){return"function"==typeof t}const Xl=new er(""),Ql={},El={};let If;function tl(){return void 0===If&&(If=new Au),If}class jo{}class Tu extends jo{get destroyed(){return this._destroyed}constructor(r,a,d,f){super(),this.parent=a,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,tu(r,w=>this.processProvider(w)),this.records.set(Qc,Yu(void 0,this)),f.has("environment")&&this.records.set(jo,Yu(void 0,this));const v=this.records.get(Xl);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(zl,Pr,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const r=ye(null);try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of a)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const a=Yo(this),d=we(void 0);try{return r()}finally{Yo(a),we(d)}}get(r,a=fn,d=re.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Ln))return r[Ln](this);d=Ts(d);const v=Yo(this),w=we(void 0);try{if(!(d&re.SkipSelf)){let N=this.records.get(r);if(void 0===N){const K=function Ld(t){return"function"==typeof t||"object"==typeof t&&t instanceof er}(r)&&Wr(r);N=K&&this.injectableDefInScope(K)?Yu(Ba(r),Ql):null,this.records.set(r,N)}if(null!=N)return this.hydrate(r,N)}return(d&re.Self?tl():this.parent).get(r,a=d&re.Optional&&a===fn?null:a)}catch(x){if("NullInjectorError"===x.name){if((x[tr]=x[tr]||[]).unshift(Tr(r)),v)throw x;return function Hl(t,r,a,d){const f=t[tr];throw r[Wi]&&f.unshift(r[Wi]),t.message=function Md(t,r,a,d=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=Tr(r);if(Array.isArray(r))f=r.map(Tr).join(" -> ");else if("object"==typeof r){let v=[];for(let w in r)if(r.hasOwnProperty(w)){let x=r[w];v.push(w+":"+("string"==typeof x?JSON.stringify(x):Tr(x)))}f=`{${v.join(", ")}}`}return`${a}${d?"("+d+")":""}[${f}]: ${t.replace(cr,"\n  ")}`}("\n"+t.message,f,a,d),t.ngTokenPath=f,t[tr]=null,t}(x,r,"R3InjectorError",this.source)}throw x}finally{we(w),Yo(v)}}resolveInjectorInitializers(){const r=ye(null),a=Yo(this),d=we(void 0);try{const v=this.get(us,Pr,re.Self);for(const w of v)w()}finally{Yo(a),we(d),ye(r)}}toString(){const r=[],a=this.records;for(const d of a.keys())r.push(Tr(d));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nn(205,!1)}processProvider(r){let a=Sc(r=Mn(r))?r:Mn(r&&r.provide);const d=function Tf(t){return Fd(t)?Yu(void 0,t.useValue):Yu(Nr(t),Ql)}(r);if(!Sc(r)&&!0===r.multi){let f=this.records.get(a);f||(f=Yu(void 0,Ql,!0),f.factory=()=>bs(f.multi),this.records.set(a,f)),a=r,f.multi.push(r)}this.records.set(a,d)}hydrate(r,a){const d=ye(null);try{return a.value===Ql&&(a.value=El,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Th(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}finally{ye(d)}}injectableDefInScope(r){if(!r.providedIn)return!1;const a=Mn(r.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(r){const a=this._onDestroyHooks.indexOf(r);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Ba(t){const r=Wr(t),a=null!==r?r.factory:qi(t);if(null!==a)return a;if(t instanceof er)throw new nn(204,!1);if(t instanceof Function)return function Af(t){if(t.length>0)throw new nn(204,!1);const a=function _n(t){return t&&(t[vc]||t[Rd])||null}(t);return null!==a?()=>a.factory(t):()=>new t}(t);throw new nn(204,!1)}function Nr(t,r,a){let d;if(Sc(t)){const f=Mn(t);return qi(f)||Ba(f)}if(Fd(t))d=()=>Mn(t.useValue);else if(function Kl(t){return!(!t||!t.useFactory)}(t))d=()=>t.useFactory(...bs(t.deps||[]));else if(function el(t){return!(!t||!t.useExisting)}(t))d=()=>Mi(Mn(t.useExisting));else{const f=Mn(t&&(t.useClass||t.provide));if(!function nl(t){return!!t.deps}(t))return qi(f)||Ba(f);d=()=>new f(...bs(t.deps))}return d}function Yu(t,r,a=!1){return{factory:t,value:r,multi:a?[]:void 0}}function tu(t,r){for(const a of t)Array.isArray(a)?tu(a,r):a&&Iu(a)?tu(a.\u0275providers,r):r(a)}function bu(t,r){t instanceof Tu&&t.assertNotDestroyed();const d=Yo(t),f=we(void 0);try{return r()}finally{Yo(d),we(f)}}function bf(){return void 0!==ne()||null!=function os(){return Qo}()}const ji=0,$t=1,bn=2,Eo=3,cs=4,ls=5,ds=6,Cl=7,Ei=8,Pi=9,Ni=10,Zn=11,Jl=12,ru=13,wl=14,Ci=15,rl=16,Ju=17,lo=18,Il=19,Dh=20,Ss=21,Mc=22,iu=23,Pn=25,Oc=1,xu=7,ec=9,ho=10;var Tl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Tl||{});function Do(t){return Array.isArray(t)&&"object"==typeof t[Oc]}function Ds(t){return Array.isArray(t)&&!0===t[Oc]}function zs(t){return!!(4&t.flags)}function tc(t){return t.componentOffset>-1}function ed(t){return!(1&~t.flags)}function Ca(t){return!!t.template}function Su(t){return!!(512&t[bn])}class ce{constructor(r,a,d){this.previousValue=r,this.currentValue=a,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ge(t,r,a,d){null!==r?r.applyValueToInputSignal(r,d):t[a]=d}function ot(){return Vt}function Vt(t){return t.type.prototype.ngOnChanges&&(t.setInput=In),En}function En(){const t=hs(this),r=t?.current;if(r){const a=t.previous;if(a===fi)t.previous=r;else for(let d in r)a[d]=r[d];t.current=null,this.ngOnChanges(r)}}function In(t,r,a,d,f){const v=this.declaredInputs[d],w=hs(t)||function nc(t,r){return t[gr]=r}(t,{previous:fi,current:null}),x=w.current||(w.current={}),N=w.previous,K=N[v];x[v]=new ce(K&&K.currentValue,a,N===fi),Ge(t,r,f,a)}ot.ngInherit=!0;const gr="__ngSimpleChanges__";function hs(t){return t[gr]||null}const Ua=function(t,r,a){};function xr(t){for(;Array.isArray(t);)t=t[ji];return t}function ou(t,r){return xr(r[t])}function eo(t,r){return xr(r[t.index])}function rc(t,r){return t.data[r]}function su(t,r){return t[r]}function fr(t,r){const a=r[t];return Do(a)?a:a[ji]}function Ph(t){return!(128&~t[bn])}function au(t,r){return null==r?null:t[r]}function Im(t){t[Ju]=0}function Nf(t){1024&t[bn]||(t[bn]|=1024,Ph(t)&&id(t))}function rd(t){return!!(9216&t[bn]||t[iu]?.dirty)}function Up(t){t[Ni].changeDetectionScheduler?.notify(7),64&t[bn]&&(t[bn]|=1024),rd(t)&&id(t)}function id(t){t[Ni].changeDetectionScheduler?.notify(0);let r=Pc(t);for(;null!==r&&!(8192&r[bn])&&(r[bn]|=8192,Ph(r));)r=Pc(r)}function Ho(t,r){if(!(256&~t[bn]))throw new nn(911,!1);null===t[Ss]&&(t[Ss]=[]),t[Ss].push(r)}function Pc(t){const r=t[Eo];return Ds(r)?r[Eo]:r}const nr={lFrame:Dm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let kf=!1;function C0(){return nr.bindingsEnabled}function uu(){return null!==nr.skipHydrationRootTNode}function Dt(){return nr.lFrame.lView}function kr(){return nr.lFrame.tView}function ft(t){return nr.lFrame.contextLView=t,t[Ei]}function Ff(t){return nr.lFrame.contextLView=null,t}function _e(){let t=od();for(;null!==t&&64===t.type;)t=t.parent;return t}function od(){return nr.lFrame.currentTNode}function Rs(t,r){const a=nr.lFrame;a.currentTNode=t,a.isParent=r}function fo(){return nr.lFrame.isParent}function Pl(){nr.lFrame.isParent=!1}function Lf(){return kf}function Vf(t){kf=t}function Ki(){const t=nr.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function oc(){return nr.lFrame.bindingIndex}function sc(){return nr.lFrame.bindingIndex++}function ac(t){const r=nr.lFrame,a=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,a}function Uf(t,r){const a=nr.lFrame;a.bindingIndex=a.bindingRootIndex=t,jf(r)}function jf(t){nr.lFrame.currentDirectiveIndex=t}function Hf(){return nr.lFrame.currentQueryIndex}function Vh(t){nr.lFrame.currentQueryIndex=t}function xm(t){const r=t[$t];return 2===r.type?r.declTNode:1===r.type?t[ls]:null}function Wp(t,r,a){if(a&re.SkipSelf){let f=r,v=t;for(;!(f=f.parent,null!==f||a&re.Host||(f=xm(v),null===f||(v=v[wl],10&f.type))););if(null===f)return!1;r=f,t=v}const d=nr.lFrame=Sm();return d.currentTNode=r,d.lView=t,!0}function qp(t){const r=Sm(),a=t[$t];nr.lFrame=r,r.currentTNode=a.firstChild,r.lView=t,r.tView=a,r.contextLView=t,r.bindingIndex=a.bindingStartIndex,r.inI18n=!1}function Sm(){const t=nr.lFrame,r=null===t?null:t.child;return null===r?Dm(t):r}function Dm(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Rm(){const t=nr.lFrame;return nr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Gf=Rm;function Kp(){const t=Rm();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ws(){return nr.lFrame.selectedIndex}function sl(t){nr.lFrame.selectedIndex=t}function Hi(){const t=nr.lFrame;return rc(t.tView,t.selectedIndex)}let Zr=!0;function ad(){return Zr}function uc(t){Zr=t}function Bh(t,r){for(let a=r.directiveStart,d=r.directiveEnd;a<d;a++){const v=t.data[a].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:x,ngAfterViewInit:N,ngAfterViewChecked:K,ngOnDestroy:J}=v;w&&(t.contentHooks??=[]).push(-a,w),x&&((t.contentHooks??=[]).push(a,x),(t.contentCheckHooks??=[]).push(a,x)),N&&(t.viewHooks??=[]).push(-a,N),K&&((t.viewHooks??=[]).push(a,K),(t.viewCheckHooks??=[]).push(a,K)),null!=J&&(t.destroyHooks??=[]).push(a,J)}}function zf(t,r,a){Nc(t,r,3,a)}function Wd(t,r,a,d){(3&t[bn])===a&&Nc(t,r,a,d)}function Yp(t,r){let a=t[bn];(3&a)===r&&(a&=16383,a+=1,t[bn]=a)}function Nc(t,r,a,d){const v=d??-1,w=r.length-1;let x=0;for(let N=void 0!==d?65535&t[Ju]:0;N<w;N++)if("number"==typeof r[N+1]){if(x=r[N],null!=d&&x>=d)break}else r[N]<0&&(t[Ju]+=65536),(x<v||-1==v)&&(Zp(t,a,r,N),t[Ju]=(4294901760&t[Ju])+N+2),N++}function Mm(t,r){Ua(4,t,r);const a=ye(null);try{r.call(t)}finally{ye(a),Ua(5,t,r)}}function Zp(t,r,a,d){const f=a[d]<0,v=a[d+1],x=t[f?-a[d]:a[d]];f?t[bn]>>14<t[Ju]>>16&&(3&t[bn])===r&&(t[bn]+=16384,Mm(x,v)):Mm(x,v)}const qd=-1;class ud{constructor(r,a,d){this.factory=r,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=d}}function cc(t){return t!==qd}function cd(t){return 32767&t}function ld(t,r){let a=function tg(t){return t>>16}(t),d=r;for(;a>0;)d=d[wl],a--;return d}let ng=!0;function jh(t){const r=ng;return ng=t,r}const Fm=255,Wf=5;let Hh=0;const Ru={};function Xd(t,r){const a=qf(t,r);if(-1!==a)return a;const d=r[$t];d.firstCreatePass&&(t.injectorIndex=r.length,Gh(d.data,t),Gh(r,null),Gh(d.blueprint,null));const f=$h(t,r),v=t.injectorIndex;if(cc(f)){const w=cd(f),x=ld(f,r),N=x[$t].data;for(let K=0;K<8;K++)r[v+K]=x[w+K]|N[w+K]}return r[v+8]=f,v}function Gh(t,r){t.push(0,0,0,0,0,0,0,0,r)}function qf(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function $h(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let a=0,d=null,f=r;for(;null!==f;){if(d=Wh(f),null===d)return qd;if(a++,f=f[wl],-1!==d.injectorIndex)return d.injectorIndex|a<<16}return qd}function ig(t,r,a){!function rg(t,r,a){let d;"string"==typeof a?d=a.charCodeAt(0)||0:a.hasOwnProperty(Za)&&(d=a[Za]),null==d&&(d=a[Za]=Hh++);const f=d&Fm;r.data[t+(f>>Wf)]|=1<<f}(t,r,a)}function Kf(t,r,a){if(a&re.Optional||void 0!==t)return t;F()}function Lm(t,r,a,d){if(a&re.Optional&&void 0===d&&(d=null),!(a&(re.Self|re.Host))){const f=t[Pi],v=we(void 0);try{return f?f.get(r,d,a&re.Optional):dt(r,d,a&re.Optional)}finally{we(v)}}return Kf(d,0,a)}function Xf(t,r,a,d=re.Default,f){if(null!==t){if(2048&r[bn]&&!(d&re.Self)){const w=function R0(t,r,a,d,f){let v=t,w=r;for(;null!==v&&null!==w&&2048&w[bn]&&!(512&w[bn]);){const x=zh(v,w,a,d|re.Self,Ru);if(x!==Ru)return x;let N=v.parent;if(!N){const K=w[Dh];if(K){const J=K.get(a,Ru,d);if(J!==Ru)return J}N=Wh(w),w=w[wl]}v=N}return f}(t,r,a,d,Ru);if(w!==Ru)return w}const v=zh(t,r,a,d,Ru);if(v!==Ru)return v}return Lm(r,a,d,f)}function zh(t,r,a,d,f){const v=function S0(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Za)?t[Za]:void 0;return"number"==typeof r?r>=0?r&Fm:D0:r}(a);if("function"==typeof v){if(!Wp(r,t,d))return d&re.Host?Kf(f,0,d):Lm(r,a,d,f);try{let w;if(w=v(d),null!=w||d&re.Optional)return w;F()}finally{Gf()}}else if("number"==typeof v){let w=null,x=qf(t,r),N=qd,K=d&re.Host?r[Ci][ls]:null;for((-1===x||d&re.SkipSelf)&&(N=-1===x?$h(t,r):r[x+8],N!==qd&&sg(d,!1)?(w=r[$t],x=cd(N),r=ld(N,r)):x=-1);-1!==x;){const J=r[$t];if(Yf(v,x,J.data)){const he=og(x,r,a,w,d,K);if(he!==Ru)return he}N=r[x+8],N!==qd&&sg(d,r[$t].data[x+8]===K)&&Yf(v,x,r)?(w=J,x=cd(N),r=ld(N,r)):x=-1}}return f}function og(t,r,a,d,f,v){const w=r[$t],x=w.data[t+8],J=Qf(x,w,a,null==d?tc(x)&&ng:d!=w&&!!(3&x.type),f&re.Host&&v===x);return null!==J?cu(r,w,J,x):Ru}function Qf(t,r,a,d,f){const v=t.providerIndexes,w=r.data,x=1048575&v,N=t.directiveStart,J=v>>20,xe=f?x+J:t.directiveEnd;for(let je=d?x:x+J;je<xe;je++){const rt=w[je];if(je<N&&a===rt||je>=N&&rt.type===a)return je}if(f){const je=w[N];if(je&&Ca(je)&&je.type===a)return N}return null}function cu(t,r,a,d){let f=t[a];const v=r.data;if(function Jp(t){return t instanceof ud}(f)){const w=f;w.resolving&&function vr(t,r){throw r&&r.join(" > "),new nn(-200,t)}(function br(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():qn(t)}(v[a]));const x=jh(w.canSeeViewProviders);w.resolving=!0;const K=w.injectImpl?we(w.injectImpl):null;Wp(t,d,re.Default);try{f=t[a]=w.factory(void 0,v,t,d),r.firstCreatePass&&a>=d.directiveStart&&function Qp(t,r,a){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:v}=r.type.prototype;if(d){const w=Vt(r);(a.preOrderHooks??=[]).push(t,w),(a.preOrderCheckHooks??=[]).push(t,w)}f&&(a.preOrderHooks??=[]).push(0-t,f),v&&((a.preOrderHooks??=[]).push(t,v),(a.preOrderCheckHooks??=[]).push(t,v))}(a,v[a],r)}finally{null!==K&&we(K),jh(x),w.resolving=!1,Gf()}}return f}function Yf(t,r,a){return!!(a[r+(t>>Wf)]&1<<t)}function sg(t,r){return!(t&re.Self||t&re.Host&&r)}class Ro{constructor(r,a){this._tNode=r,this._lView=a}get(r,a,d){return Xf(this._tNode,this._lView,r,Ts(d),a)}}function D0(){return new Ro(_e(),Dt())}function Vm(t){return ro(()=>{const r=t.prototype.constructor,a=r[_i]||ag(r),d=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==d;){const v=f[_i]||ag(f);if(v&&v!==a)return v;f=Object.getPrototypeOf(f)}return v=>new v})}function ag(t){return ws(t)?()=>{const r=ag(Mn(t));return r&&r()}:qi(t)}function Wh(t){const r=t[$t],a=r.type;return 2===a?r.declTNode:1===a?t[ls]:null}function si(t){return function x0(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const a=t.attrs;if(a){const d=a.length;let f=0;for(;f<d;){const v=a[f];if(Yc(v))break;if(0===v)f+=2;else if("number"==typeof v)for(f++;f<d&&"string"==typeof a[f];)f++;else{if(v===r)return a[f+1];f+=2}}}return null}(_e(),t)}function ug(t,r=null,a=null,d){const f=cg(t,r,a,d);return f.resolveInjectorInitializers(),f}function cg(t,r=null,a=null,d,f=new Set){const v=[a||Pr,Ea(t)];return d=d||("object"==typeof t?void 0:Tr(t)),new Tu(v,r||tl(),d||null,f)}class Ms{static#e=this.THROW_IF_NOT_FOUND=fn;static#t=this.NULL=new Au;static create(r,a){if(Array.isArray(r))return ug({name:""},a,r,"");{const d=r.name??"";return ug({name:d},r.parent,r.providers,d)}}static#n=this.\u0275prov=Tn({token:Ms,providedIn:"any",factory:()=>Mi(Qc)});static#r=this.__NG_ELEMENT_ID__=-1}new er("").__NG_ELEMENT_ID__=t=>{const r=_e();if(null===r)throw new nn(204,!1);if(2&r.type)return r.value;if(t&re.Optional)return null;throw new nn(204,!1)};function lg(t){return t.ngOriginalError}class kc{constructor(){this._console=console}handleError(r){const a=this._findOriginalError(r);this._console.error("ERROR",r),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(r){let a=r&&lg(r);for(;a&&lg(a);)a=lg(a);return a||null}}const dg=new er("",{providedIn:"root",factory:()=>vn(kc).handleError.bind(void 0)});let Er=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=hg;static#t=this.__NG_ENV_ID__=a=>a}return t})();class O0 extends Er{constructor(r){super(),this._lView=r}onDestroy(r){return Ho(this._lView,r),()=>function Nh(t,r){if(null===t[Ss])return;const a=t[Ss].indexOf(r);-1!==a&&t[Ss].splice(a,1)}(this._lView,r)}}function hg(){return new O0(Dt())}function Sr(){return gd(_e(),Dt())}function gd(t,r){return new Jd(eo(t,r))}let Jd=(()=>{class t{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=Sr}return t})();function wi(t){return t instanceof Jd?t.nativeElement:t}function Jo(t){return r=>{setTimeout(t,void 0,r)}}const Ii=class N0 extends no.B{constructor(r=!1){super(),this.destroyRef=void 0,this.__isAsync=r,bf()&&(this.destroyRef=vn(Er,{optional:!0})??void 0)}emit(r){const a=ye(null);try{super.next(r)}finally{ye(a)}}subscribe(r,a,d){let f=r,v=a||(()=>null),w=d;if(r&&"object"==typeof r){const N=r;f=N.next?.bind(N),v=N.error?.bind(N),w=N.complete?.bind(N)}this.__isAsync&&(v=Jo(v),f&&(f=Jo(f)),w&&(w=Jo(w)));const x=super.subscribe({next:f,error:v,complete:w});return r instanceof pr.yU&&r.add(x),x}};function Fc(){return this._results[Symbol.iterator]()}class np{static#e=Symbol.iterator;get changes(){return this._changes??=new Ii}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const a=np.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Fc)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,a){return this._results.reduce(r,a)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,a){this.dirty=!1;const d=function cn(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Kc(t,r,a){if(t.length!==r.length)return!1;for(let d=0;d<t.length;d++){let f=t[d],v=r[d];if(a&&(f=a(f),v=a(v)),v!==f)return!1}return!0}(this._results,d,a))&&(this._results=d,this.length=d.length,this.last=d[this.length-1],this.first=d[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function ip(t){return!(128&~t.flags)}const zm=new Map;let s1=0;const mg="__ngContext__";function wa(t,r){Do(r)?(t[mg]=r[Il],function cE(t){zm.set(t[Il],t)}(r)):t[mg]=r}function vg(t){return Yh(t[Jl])}function yg(t){return Yh(t[cs])}function Yh(t){for(;null!==t&&!Ds(t);)t=t[cs];return t}let Cg;function ap(t){Cg=t}const Jr=new er("",{providedIn:"root",factory:()=>rh}),rh="ng",Zm=new er(""),ih=new er("",{providedIn:"platform",factory:()=>"unknown"}),Jh=new er("",{providedIn:"root",factory:()=>function hc(){if(void 0!==Cg)return Cg;if(typeof document<"u")return document;throw new nn(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ag=()=>null;function Tg(t,r,a=!1){return Ag(t,r,a)}const K0=new er("",{providedIn:"root",factory:()=>!1});let a_;function l_(t){return function u_(){if(void 0===a_&&(a_=null,Ar.trustedTypes))try{a_=Ar.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return a_}()?.createScriptURL(t)||t}class Q0{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bu})`}}function Xs(t){return t instanceof Q0?t.changingThisBreaksApplicationSecurity:t}function mp(t,r){const a=function dE(t){return t instanceof Q0&&t.getTypeName()||null}(t);if(null!=a&&a!==r){if("ResourceURL"===a&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${a} (see ${Bu})`)}return a===r}const gE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var uh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(uh||{});function ch(t){const r=vp();return r?r.sanitize(uh.URL,t)||"":mp(t,"URL")?Xs(t):function Nu(t){return(t=String(t)).match(gE)?t:"unsafe:"+t}(qn(t))}function kg(t){const r=vp();if(r)return l_(r.sanitize(uh.RESOURCE_URL,t)||"");if(mp(t,"ResourceURL"))return l_(Xs(t));throw new nn(904,!1)}function w_(t,r,a){return function C_(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?kg:ch}(r,a)(t)}function vp(){const t=Dt();return t&&t[Ni].sanitizer}const nv=/^>|^->|<!--|-->|--!>|<!-$/g,I1=/(<|>)/g,A1="\u200b$1\u200b";function T(t){return t.ownerDocument.defaultView}function P(t){return t.ownerDocument}function q(t){return t instanceof Function?t():t}var Kt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Kt||{});let mn;function Jn(t,r){return mn(t,r)}function io(t,r,a,d,f){if(null!=d){let v,w=!1;Ds(d)?v=d:Do(d)&&(w=!0,d=d[ji]);const x=xr(d);0===t&&null!==a?null==f?N1(r,a,x):yp(r,a,x,f||null,!0):1===t&&null!==a?yp(r,a,x,f||null,!0):2===t?function Vg(t,r,a){const d=sv(t,r);d&&function ww(t,r,a,d){t.removeChild(r,a,d)}(t,d,r,a)}(r,x,w):3===t&&r.destroyNode(x),null!=v&&function _(t,r,a,d,f){const v=a[xu];v!==xr(a)&&io(r,t,d,v,f);for(let x=ho;x<a.length;x++){const N=a[x];o(N[$t],N,t,r,d,v)}}(r,t,v,a,f)}}function du(t,r){return t.createComment(function rv(t){return t.replace(nv,r=>r.replace(I1,A1))}(r))}function Uc(t,r,a){return t.createElement(r,a)}function Lg(t,r){r[Ni].changeDetectionScheduler?.notify(8),o(t,r,r[Zn],2,null,null)}function vE(t,r){const a=t[ec],d=r[Eo];(Do(d)||r[Ci]!==d[Eo][Ci])&&(t[bn]|=Tl.HasTransplantedViews),null===a?t[ec]=[r]:a.push(r)}function M1(t,r){const a=t[ec],d=a.indexOf(r);a.splice(d,1)}function x_(t,r){if(t.length<=ho)return;const a=ho+r,d=t[a];if(d){const f=d[rl];null!==f&&f!==t&&M1(f,d),r>0&&(t[a-1][cs]=d[cs]);const v=gl(t,ho+r);!function T_(t,r){Lg(t,r),r[ji]=null,r[ls]=null}(d[$t],d);const w=v[lo];null!==w&&w.detachView(v[$t]),d[Eo]=null,d[cs]=null,d[bn]&=-129}return d}function ov(t,r){if(!(256&r[bn])){const a=r[Zn];a.destroyNode&&o(t,r,a,3,null,null),function vw(t){let r=t[Jl];if(!r)return O1(t[$t],t);for(;r;){let a=null;if(Do(r))a=r[Jl];else{const d=r[ho];d&&(a=d)}if(!a){for(;r&&!r[cs]&&r!==t;)Do(r)&&O1(r[$t],r),r=r[Eo];null===r&&(r=t),Do(r)&&O1(r[$t],r),a=r&&r[cs]}r=a}}(r)}}function O1(t,r){if(256&r[bn])return;const a=ye(null);try{r[bn]&=-129,r[bn]|=256,r[iu]&&function An(t){if(_t(t),it(t))for(let r=0;r<t.producerNode.length;r++)Je(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(r[iu]),function Cw(t,r){let a;if(null!=t&&null!=(a=t.destroyHooks))for(let d=0;d<a.length;d+=2){const f=r[a[d]];if(!(f instanceof ud)){const v=a[d+1];if(Array.isArray(v))for(let w=0;w<v.length;w+=2){const x=f[v[w]],N=v[w+1];Ua(4,x,N);try{N.call(x)}finally{Ua(5,x,N)}}else{Ua(4,f,v);try{v.call(f)}finally{Ua(5,f,v)}}}}}(t,r),function Ew(t,r){const a=t.cleanup,d=r[Cl];if(null!==a)for(let v=0;v<a.length-1;v+=2)if("string"==typeof a[v]){const w=a[v+3];w>=0?d[w]():d[-w].unsubscribe(),v+=2}else a[v].call(d[a[v+1]]);null!==d&&(r[Cl]=null);const f=r[Ss];if(null!==f){r[Ss]=null;for(let v=0;v<f.length;v++)(0,f[v])()}}(t,r),1===r[$t].type&&r[Zn].destroy();const d=r[rl];if(null!==d&&Ds(r[Eo])){d!==r[Eo]&&M1(d,r);const f=r[lo];null!==f&&f.detachView(t)}!function Mo(t){zm.delete(t[Il])}(r)}finally{ye(a)}}function P1(t,r,a){return function yE(t,r,a){let d=r;for(;null!==d&&40&d.type;)d=(r=d).parent;if(null===d)return a[ji];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:v}=t.data[d.directiveStart+f];if(v===ma.None||v===ma.Emulated)return null}return eo(d,a)}}(t,r.parent,a)}function yp(t,r,a,d,f){t.insertBefore(r,a,d,f)}function N1(t,r,a){t.appendChild(r,a)}function EE(t,r,a,d,f){null!==d?yp(t,r,a,d,f):N1(t,r,a)}function sv(t,r){return t.parentNode(r)}function CE(t,r,a){return IE(t,r,a)}let k1,IE=function wE(t,r,a){return 40&t.type?eo(t,a):null};function av(t,r,a,d){const f=P1(t,d,r),v=r[Zn],x=CE(d.parent||r[ls],d,r);if(null!=f)if(Array.isArray(a))for(let N=0;N<a.length;N++)EE(v,f,a[N],x,!1);else EE(v,f,a,x,!1);void 0!==k1&&k1(v,d,r,a,f)}function S_(t,r){if(null!==r){const a=r.type;if(3&a)return eo(r,t);if(4&a)return L1(-1,t[r.index]);if(8&a){const d=r.child;if(null!==d)return S_(t,d);{const f=t[r.index];return Ds(f)?L1(-1,f):xr(f)}}if(32&a)return Jn(r,t)()||xr(t[r.index]);{const d=F1(t,r);return null!==d?Array.isArray(d)?d[0]:S_(Pc(t[Ci]),d):S_(t,r.next)}}return null}function F1(t,r){return null!==r?t[Ci][ls].projection[r.projection]:null}function L1(t,r){const a=ho+t+1;if(a<r.length){const d=r[a],f=d[$t].firstChild;if(null!==f)return S_(d,f)}return r[xu]}function p(t,r,a,d,f,v,w){for(;null!=a;){const x=d[a.index],N=a.type;if(w&&0===r&&(x&&wa(xr(x),d),a.flags|=2),32&~a.flags)if(8&N)p(t,r,a.child,d,f,v,!1),io(r,t,f,x,v);else if(32&N){const K=Jn(a,d);let J;for(;J=K();)io(r,t,f,J,v);io(r,t,f,x,v)}else 16&N?h(t,r,d,a,f,v):io(r,t,f,x,v);a=w?a.projectionNext:a.next}}function o(t,r,a,d,f,v){p(a,d,t.firstChild,r,f,v,!1)}function h(t,r,a,d,f,v){const w=a[Ci],N=w[ls].projection[d.projection];if(Array.isArray(N))for(let K=0;K<N.length;K++)io(r,t,f,N[K],v);else{let K=N;const J=w[Eo];ip(d)&&(K.flags|=128),p(t,r,K,J,f,v,!0)}}function L(t,r,a){""===a?t.removeAttribute(r,"class"):t.setAttribute(r,"class",a)}function G(t,r,a){const{mergedAttrs:d,classes:f,styles:v}=a;null!==d&&Tc(t,r,d),null!==f&&L(t,r,f),null!==v&&function b(t,r,a){t.setAttribute(r,"style",a)}(t,r,v)}const Q={};function ue(t=1){Ce(kr(),Dt(),Ws()+t,!1)}function Ce(t,r,a,d){if(!d)if(3&~r[bn]){const v=t.preOrderHooks;null!==v&&Wd(r,v,0,a)}else{const v=t.preOrderCheckHooks;null!==v&&zf(r,v,a)}sl(a)}function Fe(t,r=re.Default){const a=Dt();return null===a?Mi(t,r):Xf(_e(),a,Mn(t),r)}function gt(){throw new Error("invalid")}function Lt(t,r,a,d,f,v){const w=ye(null);try{let x=null;f&Fa.SignalBased&&(x=r[d][nt]),null!==x&&void 0!==x.transformFn&&(v=x.transformFn(v)),f&Fa.HasDecoratorInputTransform&&(v=t.inputTransforms[d].call(r,v)),null!==t.setInput?t.setInput(r,x,v,a,d):Ge(r,x,d,v)}finally{ye(w)}}function jt(t,r,a,d,f,v,w,x,N,K,J){const he=r.blueprint.slice();return he[ji]=f,he[bn]=204|d,(null!==K||t&&2048&t[bn])&&(he[bn]|=2048),Im(he),he[Eo]=he[wl]=t,he[Ei]=a,he[Ni]=w||t&&t[Ni],he[Zn]=x||t&&t[Zn],he[Pi]=N||t&&t[Pi]||null,he[ls]=v,he[Il]=function Xi(){return s1++}(),he[ds]=J,he[Dh]=K,he[Ci]=2==r.type?t[Ci]:he,he}function xn(t,r,a,d,f){let v=t.data[r];if(null===v)v=function $n(t,r,a,d,f){const v=od(),w=fo(),N=t.data[r]=function Ug(t,r,a,d,f,v){let w=r?r.injectorIndex:-1,x=0;return uu()&&(x|=128),{type:a,index:d,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:x,providerIndexes:0,value:f,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?v:v&&v.parent,a,r,d,f);return null===t.firstChild&&(t.firstChild=N),null!==v&&(w?null==v.child&&null!==N.parent&&(v.child=N):null===v.next&&(v.next=N,N.prev=v)),N}(t,r,a,d,f),function $p(){return nr.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=a,v.value=d,v.attrs=f;const w=function Du(){const t=nr.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();v.injectorIndex=null===w?-1:w.injectorIndex}return Rs(v,!0),v}function kn(t,r,a,d){if(0===a)return-1;const f=r.length;for(let v=0;v<a;v++)r.push(d),t.blueprint.push(d),t.data.push(null);return f}function mr(t,r,a,d,f){const v=Ws(),w=2&d;try{sl(-1),w&&r.length>Pn&&Ce(t,r,Pn,!1),Ua(w?2:0,f),a(d,f)}finally{sl(v),Ua(w?3:1,f)}}function ai(t,r,a){if(zs(r)){const d=ye(null);try{const v=r.directiveEnd;for(let w=r.directiveStart;w<v;w++){const x=t.data[w];x.contentQueries&&x.contentQueries(1,a[w],w)}}finally{ye(d)}}}function Dr(t,r,a){C0()&&(function M_(t,r,a,d){const f=a.directiveStart,v=a.directiveEnd;tc(a)&&function j1(t,r,a){const d=eo(r,t),f=Re(a);let w=16;a.signals?w=4096:a.onPush&&(w=64);const x=wp(t,jt(t,f,null,w,d,r,null,t[Ni].rendererFactory.createRenderer(d,a),null,null,null));t[r.index]=x}(r,a,t.data[f+a.componentOffset]),t.firstCreatePass||Xd(a,r),wa(d,r);const w=a.initialInputs;for(let x=f;x<v;x++){const N=t.data[x],K=cu(r,t,x,a);wa(K,r),null!==w&&H1(0,x-f,K,N,0,w),Ca(N)&&(fr(a.index,r)[Ei]=cu(r,t,x,a))}}(t,r,a,eo(a,r)),!(64&~a.flags)&&jg(t,r,a))}function Ze(t,r,a=eo){const d=r.localNames;if(null!==d){let f=r.index+1;for(let v=0;v<d.length;v+=2){const w=d[v+1],x=-1===w?a(r,t):t[w];t[f++]=x}}}function Re(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=$e(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function $e(t,r,a,d,f,v,w,x,N,K,J){const he=Pn+d,xe=he+f,je=function et(t,r){const a=[];for(let d=0;d<r;d++)a.push(d<t?null:Q);return a}(he,xe),rt="function"==typeof K?K():K;return je[$t]={type:t,blueprint:je,template:a,queries:null,viewQuery:x,declTNode:r,data:je.slice().fill(null,he),bindingStartIndex:he,expandoStartIndex:xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:N,consts:rt,incompleteFirstPass:!1,ssrId:J}}let Be=()=>null;function Ep(t,r,a,d,f){for(let v in r){if(!r.hasOwnProperty(v))continue;const w=r[v];if(void 0===w)continue;d??={};let x,N=Fa.None;Array.isArray(w)?(x=w[0],N=w[1]):x=w;let K=v;if(null!==f){if(!f.hasOwnProperty(v))continue;K=f[v]}0===t?D_(d,a,K,x,N):D_(d,a,K,x)}return d}function D_(t,r,a,d,f){let v;t.hasOwnProperty(a)?(v=t[a]).push(r,d):v=t[a]=[r,d],void 0!==f&&v.push(f)}function gs(t,r,a,d,f,v,w,x){const N=eo(r,a);let J,K=r.inputs;!x&&null!=K&&(J=K[d])?(mf(t,a,J,d,f),tc(r)&&function ja(t,r){const a=fr(r,t);16&a[bn]||(a[bn]|=64)}(a,r.index)):3&r.type&&(d=function xE(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(d),f=null!=w?w(f,r.value||"",d):f,v.setProperty(N,d,f))}function uv(t,r,a,d){if(C0()){const f=null===d?null:{"":-1},v=function lv(t,r){const a=t.directiveRegistry;let d=null,f=null;if(a)for(let v=0;v<a.length;v++){const w=a[v];if(_a(r,w.selectors,!1))if(d||(d=[]),Ca(w))if(null!==w.findHostDirectiveDefs){const x=[];f=f||new Map,w.findHostDirectiveDefs(w,x,f),d.unshift(...x,w),Hg(t,r,x.length)}else d.unshift(w),Hg(t,r,0);else f=f||new Map,w.findHostDirectiveDefs?.(w,d,f),d.push(w)}return null===d?null:[d,f]}(t,a);let w,x;null===v?w=x=null:[w,x]=v,null!==w&&Cp(t,r,a,w,f,x),f&&function dv(t,r,a){if(r){const d=t.localNames=[];for(let f=0;f<r.length;f+=2){const v=a[r[f+1]];if(null==v)throw new nn(-301,!1);d.push(r[f],v)}}}(a,d,f)}a.mergedAttrs=wr(a.mergedAttrs,a.attrs)}function Cp(t,r,a,d,f,v){for(let K=0;K<d.length;K++)ig(Xd(a,r),t,d[K].type);!function U1(t,r,a){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+a,t.providerIndexes=r}(a,t.data.length,d.length);for(let K=0;K<d.length;K++){const J=d[K];J.providersResolver&&J.providersResolver(J)}let w=!1,x=!1,N=kn(t,r,d.length,null);for(let K=0;K<d.length;K++){const J=d[K];a.mergedAttrs=wr(a.mergedAttrs,J.hostAttrs),ME(t,a,r,N,J),B1(N,J,f),null!==J.contentQueries&&(a.flags|=4),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(a.flags|=64);const he=J.type.prototype;!w&&(he.ngOnChanges||he.ngOnInit||he.ngDoCheck)&&((t.preOrderHooks??=[]).push(a.index),w=!0),!x&&(he.ngOnChanges||he.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(a.index),x=!0),N++}!function V1(t,r,a){const f=r.directiveEnd,v=t.data,w=r.attrs,x=[];let N=null,K=null;for(let J=r.directiveStart;J<f;J++){const he=v[J],xe=a?a.get(he):null,rt=xe?xe.outputs:null;N=Ep(0,he.inputs,J,N,xe?xe.inputs:null),K=Ep(1,he.outputs,J,K,rt);const Rt=null===N||null===w||gn(r)?null:OE(N,J,w);x.push(Rt)}null!==N&&(N.hasOwnProperty("class")&&(r.flags|=8),N.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=x,r.inputs=N,r.outputs=K}(t,a,v)}function jg(t,r,a){const d=a.directiveStart,f=a.directiveEnd,v=a.index,w=function A0(){return nr.lFrame.currentDirectiveIndex}();try{sl(v);for(let x=d;x<f;x++){const N=t.data[x],K=r[x];jf(x),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&cv(N,K)}}finally{sl(-1),jf(w)}}function cv(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Hg(t,r,a){r.componentOffset=a,(t.components??=[]).push(r.index)}function B1(t,r,a){if(a){if(r.exportAs)for(let d=0;d<r.exportAs.length;d++)a[r.exportAs[d]]=t;Ca(r)&&(a[""]=t)}}function ME(t,r,a,d,f){t.data[d]=f;const v=f.factory||(f.factory=qi(f.type)),w=new ud(v,Ca(f),Fe);t.blueprint[d]=w,a[d]=w,function DE(t,r,a,d,f){const v=f.hostBindings;if(v){let w=t.hostBindingOpCodes;null===w&&(w=t.hostBindingOpCodes=[]);const x=~r.index;(function RE(t){let r=t.length;for(;r>0;){const a=t[--r];if("number"==typeof a&&a<0)return a}return 0})(w)!=x&&w.push(x),w.push(a,d,v)}}(t,r,d,kn(t,a,f.hostVars,Q),f)}function dl(t,r,a,d,f,v){const w=eo(t,r);!function Gg(t,r,a,d,f,v,w){if(null==v)t.removeAttribute(r,f,a);else{const x=null==w?qn(v):w(v,d||"",f);t.setAttribute(r,f,x,a)}}(r[Zn],w,v,t.value,a,d,f)}function H1(t,r,a,d,f,v){const w=v[r];if(null!==w)for(let x=0;x<w.length;)Lt(d,a,w[x++],w[x++],w[x++],w[x++])}function OE(t,r,a){let d=null,f=0;for(;f<a.length;){const v=a[f];if(0!==v)if(5!==v){if("number"==typeof v)break;if(t.hasOwnProperty(v)){null===d&&(d=[]);const w=t[v];for(let x=0;x<w.length;x+=3)if(w[x]===r){d.push(v,w[x+1],w[x+2],a[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function O_(t,r,a,d){return[t,!0,0,r,null,d,null,a,null,null]}function P_(t,r){const a=t.contentQueries;if(null!==a){const d=ye(null);try{for(let f=0;f<a.length;f+=2){const w=a[f+1];if(-1!==w){const x=t.data[w];Vh(a[f]),x.contentQueries(2,r[w],w)}}}finally{ye(d)}}}function wp(t,r){return t[Jl]?t[ru][cs]=r:t[Jl]=r,t[ru]=r,r}function oa(t,r,a){Vh(0);const d=ye(null);try{r(t,a)}finally{ye(d)}}function $g(t){return t[Cl]??=[]}function hv(t){return t.cleanup??=[]}function N_(t,r){const a=t[Pi],d=a?a.get(kc,null):null;d&&d.handleError(r)}function mf(t,r,a,d,f){for(let v=0;v<a.length;){const w=a[v++],x=a[v++],N=a[v++];Lt(t.data[w],r[w],d,x,N,f)}}function Ll(t,r,a){const d=ou(r,t);!function po(t,r,a){t.setValue(r,a)}(t[Zn],d,a)}function G1(t,r){const a=fr(r,t),d=a[$t];!function pv(t,r){for(let a=r.length;a<t.blueprint.length;a++)r.push(t.blueprint[a])}(d,a);const f=a[ji];null!==f&&null===a[ds]&&(a[ds]=Tg(f,a[Pi])),gv(d,a,a[Ei])}function gv(t,r,a){qp(r);try{const d=t.viewQuery;null!==d&&oa(1,d,a);const f=t.template;null!==f&&mr(t,r,f,1,a),t.firstCreatePass&&(t.firstCreatePass=!1),r[lo]?.finishViewCreation(t),t.staticContentQueries&&P_(t,r),t.staticViewQueries&&oa(2,t.viewQuery,a);const v=t.components;null!==v&&function PE(t,r){for(let a=0;a<r.length;a++)G1(t,r[a])}(r,v)}catch(d){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),d}finally{r[bn]&=-5,Kp()}}function lh(t,r,a,d){const f=ye(null);try{const v=r.tView,N=jt(t,v,a,4096&t[bn]?4096:16,null,r,null,null,d?.injector??null,d?.embeddedViewInjector??null,d?.dehydratedView??null);N[rl]=t[r.index];const J=t[lo];return null!==J&&(N[lo]=J.createEmbeddedView(v)),gv(v,N,a),N}finally{ye(f)}}function mv(t,r){const a=ho+r;if(a<t.length)return t[a]}function dh(t,r){return!r||null===r.firstChild||ip(t)}function Vl(t,r,a,d=!0){const f=r[$t];if(function yw(t,r,a,d){const f=ho+d,v=a.length;d>0&&(a[f-1][cs]=r),d<v-ho?(r[cs]=a[f],Zi(a,ho+d,r)):(a.push(r),r[cs]=null),r[Eo]=a;const w=r[rl];null!==w&&a!==w&&vE(w,r);const x=r[lo];null!==x&&x.insertView(t),Up(r),r[bn]|=128}(f,r,t,a),d){const w=L1(a,t),x=r[Zn],N=sv(x,t[xu]);null!==N&&function b_(t,r,a,d,f,v){d[ji]=f,d[ls]=r,o(t,d,a,1,f,v)}(f,t[ls],x,r,N,w)}const v=r[ds];null!==v&&null!==v.firstChild&&(v.firstChild=null)}function zg(t,r){const a=x_(t,r);return void 0!==a&&ov(a[$t],a),a}function _f(t,r,a,d,f=!1){for(;null!==a;){const v=r[a.index];null!==v&&d.push(xr(v)),Ds(v)&&hh(v,d);const w=a.type;if(8&w)_f(t,r,a.child,d);else if(32&w){const x=Jn(a,r);let N;for(;N=x();)d.push(N)}else if(16&w){const x=F1(r,a);if(Array.isArray(x))d.push(...x);else{const N=Pc(r[Ci]);_f(N[$t],N,x,d,!0)}}a=f?a.projectionNext:a.next}return d}function hh(t,r){for(let a=ho;a<t.length;a++){const d=t[a],f=d[$t].firstChild;null!==f&&_f(d[$t],d,f,r)}t[xu]!==t[ji]&&r.push(t[xu])}let _v=[];const z1={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{id(t.lView)},consumerOnSignalRead(){this.lView[iu]=this}},hu=100;function qg(t,r=!0,a=0){const d=t[Ni],f=d.rendererFactory;f.begin?.();try{!function Kg(t,r){const a=Lf();try{Vf(!0),F_(t,r);let d=0;for(;rd(t);){if(d===hu)throw new nn(103,!1);d++,F_(t,1)}}finally{Vf(a)}}(t,a)}catch(w){throw r&&N_(t,w),w}finally{f.end?.(),d.inlineEffectRunner?.flush()}}function NE(t,r,a,d){const f=r[bn];if(!(256&~f))return;r[Ni].inlineEffectRunner?.flush(),qp(r);let x=null,N=null;(function kE(t){return 2!==t.type})(t)&&(N=function k_(t){return t[iu]??function $1(t){const r=_v.pop()??Object.create(z1);return r.lView=t,r}(t)}(r),x=function hn(t){return t&&(t.nextProducerIndex=0),ye(t)}(N));try{Im(r),function to(t){return nr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==a&&mr(t,r,a,2,d);const K=!(3&~f);if(K){const xe=t.preOrderCheckHooks;null!==xe&&zf(r,xe,null)}else{const xe=t.preOrderHooks;null!==xe&&Wd(r,xe,0,null),Yp(r,0)}if(function FE(t){for(let r=vg(t);null!==r;r=yg(r)){if(!(r[bn]&Tl.HasTransplantedViews))continue;const a=r[ec];for(let d=0;d<a.length;d++)Nf(a[d])}}(r),vf(r,0),null!==t.contentQueries&&P_(t,r),K){const xe=t.contentCheckHooks;null!==xe&&zf(r,xe)}else{const xe=t.contentHooks;null!==xe&&Wd(r,xe,1),Yp(r,1)}!function Zt(t,r){const a=t.hostBindingOpCodes;if(null!==a)try{for(let d=0;d<a.length;d++){const f=a[d];if(f<0)sl(~f);else{const v=f,w=a[++d],x=a[++d];Uf(w,v),x(2,r[v])}}}finally{sl(-1)}}(t,r);const J=t.components;null!==J&&L_(r,J,0);const he=t.viewQuery;if(null!==he&&oa(2,he,d),K){const xe=t.viewCheckHooks;null!==xe&&zf(r,xe)}else{const xe=t.viewHooks;null!==xe&&Wd(r,xe,2),Yp(r,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Mc]){for(const xe of r[Mc])xe();r[Mc]=null}r[bn]&=-73}catch(K){throw id(r),K}finally{null!==N&&(function Wt(t,r){if(ye(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(it(t))for(let a=t.nextProducerIndex;a<t.producerNode.length;a++)Je(t.producerNode[a],t.producerIndexOfThis[a]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(N,x),function Wg(t){t.lView[iu]!==t&&(t.lView=null,_v.push(t))}(N)),Kp()}}function vf(t,r){for(let a=vg(t);null!==a;a=yg(a))for(let d=ho;d<a.length;d++)Xg(a[d],r)}function LE(t,r,a){Xg(fr(r,t),a)}function Xg(t,r){Ph(t)&&F_(t,r)}function F_(t,r){const d=t[$t],f=t[bn],v=t[iu];let w=!!(0===r&&16&f);if(w||=!!(64&f&&0===r),w||=!!(1024&f),w||=!(!v?.dirty||!Kn(v)),w||=!1,v&&(v.dirty=!1),t[bn]&=-9217,w)NE(d,t,d.template,t[Ei]);else if(8192&f){vf(t,1);const x=d.components;null!==x&&L_(t,x,1)}}function L_(t,r,a){for(let d=0;d<r.length;d++)LE(t,r[d],a)}function fh(t,r){const a=Lf()?64:1088;for(t[Ni].changeDetectionScheduler?.notify(r);t;){t[bn]|=a;const d=Pc(t);if(Su(t)&&!d)return t;t=d}return null}class jc{get rootNodes(){const r=this._lView,a=r[$t];return _f(a,r,a.firstChild,[])}constructor(r,a,d=!0){this._lView=r,this._cdRefInjectingView=a,this.notifyErrorHandler=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ei]}set context(r){this._lView[Ei]=r}get destroyed(){return!(256&~this._lView[bn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Eo];if(Ds(r)){const a=r[8],d=a?a.indexOf(this):-1;d>-1&&(x_(r,d),gl(a,d))}this._attachedToViewContainer=!1}ov(this._lView[$t],this._lView)}onDestroy(r){Ho(this._lView,r)}markForCheck(){fh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[bn]&=-129}reattach(){Up(this._lView),this._lView[bn]|=128}detectChanges(){this._lView[bn]|=1024,qg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new nn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const r=Su(this._lView),a=this._lView[rl];null!==a&&!r&&M1(a,this._lView),Lg(this._lView[$t],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new nn(902,!1);this._appRef=r;const a=Su(this._lView),d=this._lView[rl];null!==d&&!a&&vE(d,this._lView),Up(this._lView)}}let Ap=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=yv}return t})();const W1=Ap,vv=class extends W1{constructor(r,a,d){super(),this._declarationLView=r,this._declarationTContainer=a,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,a){return this.createEmbeddedViewImpl(r,a)}createEmbeddedViewImpl(r,a,d){const f=lh(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:a,dehydratedView:d});return new jc(f)}};function yv(){return Qg(_e(),Dt())}function Qg(t,r){return 4&t.type?new vv(r,t,gd(t,r)):null}let Rv=()=>null;function mh(t,r){return Rv(t,r)}class bd{}const Ia=new er("",{providedIn:"root",factory:()=>!1}),Mv=new er("");class Dp{}class I{}class ct{resolveComponentFactory(r){throw function z(t){const r=Error(`No component factory found for ${Tr(t)}.`);return r.ngComponent=t,r}(r)}}class Tt{static#e=this.NULL=new ct}class ln{}let oo=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Aa(){const t=Dt(),a=fr(_e().index,t);return(Do(a)?a:t)[Zn]}()}return t})(),Ti=(()=>{class t{static#e=this.\u0275prov=Tn({token:t,providedIn:"root",factory:()=>null})}return t})();const sa={},wf=new Set;function $o(t){wf.has(t)||(wf.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function fm(t){let r=!0;return setTimeout(()=>{r&&(r=!1,t())}),"function"==typeof Ar.requestAnimationFrame&&Ar.requestAnimationFrame(()=>{r&&(r=!1,t())}),()=>{r=!1}}function K_(t){let r=!0;return queueMicrotask(()=>{r&&t()}),()=>{r=!1}}function Tw(...t){}class zo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ii(!1),this.onMicrotaskEmpty=new Ii(!1),this.onStable=new Ii(!1),this.onError=new Ii(!1),typeof Zone>"u")throw new nn(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&a,f.shouldCoalesceRunChangeDetection=d,f.callbackScheduled=!1,function _x(t){const r=()=>{!function mx(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{fm(()=>{t.callbackScheduled=!1,GE(t),t.isCheckStableRunning=!0,HE(t),t.isCheckStableRunning=!1})}),GE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,d,f,v,w,x)=>{if(function vx(t){return Sw(t,"__ignore_ng_zone__")}(x))return a.invokeTask(f,v,w,x);try{return bw(t),a.invokeTask(f,v,w,x)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||t.shouldCoalesceRunChangeDetection)&&r(),xw(t)}},onInvoke:(a,d,f,v,w,x,N)=>{try{return bw(t),a.invoke(f,v,w,x,N)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function yx(t){return Sw(t,"__scheduler_tick__")}(x)&&r(),xw(t)}},onHasTask:(a,d,f,v)=>{a.hasTask(f,v),d===f&&("microTask"==v.change?(t._hasPendingMicrotasks=v.microTask,GE(t),HE(t)):"macroTask"==v.change&&(t.hasPendingMacrotasks=v.macroTask))},onHandleError:(a,d,f,v)=>(a.handleError(f,v),t.runOutsideAngular(()=>t.onError.emit(v)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zo.isInAngularZone())throw new nn(909,!1)}static assertNotInAngularZone(){if(zo.isInAngularZone())throw new nn(909,!1)}run(r,a,d){return this._inner.run(r,a,d)}runTask(r,a,d,f){const v=this._inner,w=v.scheduleEventTask("NgZoneEvent: "+f,r,gx,Tw,Tw);try{return v.runTask(w,a,d)}finally{v.cancelTask(w)}}runGuarded(r,a,d){return this._inner.runGuarded(r,a,d)}runOutsideAngular(r){return this._outer.run(r)}}const gx={};function HE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function GE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function bw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xw(t){t._nesting--,HE(t)}class $E{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ii,this.onMicrotaskEmpty=new Ii,this.onStable=new Ii,this.onError=new Ii}run(r,a,d){return r.apply(a,d)}runGuarded(r,a,d){return r.apply(a,d)}runOutsideAngular(r){return r()}runTask(r,a,d,f){return r.apply(a,d)}}function Sw(t,r){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[r]}var pm=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(pm||{});const Dw={destroy(){}};function Rw(t,r){!r&&function nu(t){if(!bf())throw new nn(-203,!1)}();const a=r?.injector??vn(Ms);if(!function se(t){return"browser"===(t??vn(Ms)).get(ih)}(a))return Dw;$o("NgAfterNextRender");const d=a.get(Ov),f=d.handler??=new Ow,v=r?.phase??pm.MixedReadWrite,w=()=>{f.unregister(N),x()},x=a.get(Er).onDestroy(w),N=bu(a,()=>new Mw(v,()=>{w(),t()}));return f.register(N),{destroy:w}}class Mw{constructor(r,a){this.phase=r,this.callbackFn=a,this.zone=vn(zo),this.errorHandler=vn(kc,{optional:!0}),vn(bd,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(r){this.errorHandler?.handleError(r)}}}class Ow{constructor(){this.executingCallbacks=!1,this.buckets={[pm.EarlyRead]:new Set,[pm.Write]:new Set,[pm.MixedReadWrite]:new Set,[pm.Read]:new Set},this.deferredCallbacks=new Set}register(r){(this.executingCallbacks?this.deferredCallbacks:this.buckets[r.phase]).add(r)}unregister(r){this.buckets[r.phase].delete(r),this.deferredCallbacks.delete(r)}execute(){this.executingCallbacks=!0;for(const r of Object.values(this.buckets))for(const a of r)a.invoke();this.executingCallbacks=!1;for(const r of this.deferredCallbacks)this.buckets[r.phase].add(r);this.deferredCallbacks.clear()}destroy(){for(const r of Object.values(this.buckets))r.clear();this.deferredCallbacks.clear()}}let Ov=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const d of a)d()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Tn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Rp(t){return!!On(t)}function Iy(t,r,a){let d=a?t.styles:null,f=a?t.classes:null,v=0;if(null!==r)for(let w=0;w<r.length;w++){const x=r[w];"number"==typeof x?v=x:1==v?f=is(f,x):2==v&&(d=is(d,x+": "+r[++w]+";"))}a?t.styles=d:t.stylesWithoutHost=d,a?t.classes=f:t.classesWithoutHost=f}class kw extends Tt{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const a=ke(r);return new kv(a,this.ngModule)}}function Fw(t){const r=[];for(const a in t){if(!t.hasOwnProperty(a))continue;const d=t[a];void 0!==d&&r.push({propName:Array.isArray(d)?d[0]:d,templateName:a})}return r}class Ay{constructor(r,a){this.injector=r,this.parentInjector=a}get(r,a,d){d=Ts(d);const f=this.injector.get(r,sa,d);return f!==sa||a===sa?f:this.parentInjector.get(r,a,d)}}class kv extends I{get inputs(){const r=this.componentDef,a=r.inputTransforms,d=Fw(r.inputs);if(null!==a)for(const f of d)a.hasOwnProperty(f.propName)&&(f.transform=a[f.propName]);return d}get outputs(){return Fw(this.componentDef.outputs)}constructor(r,a){super(),this.componentDef=r,this.ngModule=a,this.componentType=r.type,this.selector=function xc(t){return t.map(Xu).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!a}create(r,a,d,f){const v=ye(null);try{let w=(f=f||this.ngModule)instanceof jo?f:f?.injector;w&&null!==this.componentDef.getStandaloneInjector&&(w=this.componentDef.getStandaloneInjector(w)||w);const x=w?new Ay(r,w):r,N=x.get(ln,null);if(null===N)throw new nn(407,!1);const K=x.get(Ti,null),xe={rendererFactory:N,sanitizer:K,inlineEffectRunner:null,afterRenderEventManager:x.get(Ov,null),changeDetectionScheduler:x.get(bd,null)},je=N.createRenderer(null,this.componentDef),rt=this.componentDef.selectors[0][0]||"div",Rt=d?function st(t,r,a,d){const v=d.get(K0,!1)||a===ma.ShadowDom,w=t.selectRootElement(r,v);return function Ct(t){Be(t)}(w),w}(je,d,this.componentDef.encapsulation,x):Uc(je,rt,function Ax(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(rt));let Xt=512;this.componentDef.signals?Xt|=4096:this.componentDef.onPush||(Xt|=16);let sn=null;null!==Rt&&(sn=Tg(Rt,x,!0));const Ft=$e(0,null,null,1,0,null,null,null,null,null,null),ar=jt(null,Ft,null,Xt,null,null,xe,je,x,null,sn);let bi,go;qp(ar);try{const xa=this.componentDef;let Gc,y0=null;xa.findHostDirectiveDefs?(Gc=[],y0=new Map,xa.findHostDirectiveDefs(xa,Gc,y0),Gc.push(xa)):Gc=[xa];const fx=function bx(t,r){const a=t[$t],d=Pn;return t[d]=r,xn(a,d,2,"#host",null)}(ar,Rt),DO=function xx(t,r,a,d,f,v,w){const x=f[$t];!function Sx(t,r,a,d){for(const f of t)r.mergedAttrs=wr(r.mergedAttrs,f.hostAttrs);null!==r.mergedAttrs&&(Iy(r,r.mergedAttrs,!0),null!==a&&G(d,a,r))}(d,t,r,w);let N=null;null!==r&&(N=Tg(r,f[Pi]));const K=v.rendererFactory.createRenderer(r,a);let J=16;a.signals?J=4096:a.onPush&&(J=64);const he=jt(f,Re(a),null,J,f[t.index],t,v,K,null,null,N);return x.firstCreatePass&&Hg(x,t,d.length-1),wp(f,he),f[t.index]=he}(fx,Rt,xa,Gc,ar,xe,je);go=rc(Ft,Pn),Rt&&function Rx(t,r,a,d){if(d)Tc(t,a,["ng-version","18.0.2"]);else{const{attrs:f,classes:v}=function S(t){const r=[],a=[];let d=1,f=2;for(;d<t.length;){let v=t[d];if("string"==typeof v)2===f?""!==v&&r.push(v,t[++d]):8===f&&a.push(v);else{if(!La(f))break;f=v}d++}return{attrs:r,classes:a}}(r.selectors[0]);f&&Tc(t,a,f),v&&v.length>0&&L(t,a,v.join(" "))}}(je,xa,Rt,d),void 0!==a&&function Mx(t,r,a){const d=t.projection=[];for(let f=0;f<r.length;f++){const v=a[f];d.push(null!=v?Array.from(v):null)}}(go,this.ngContentSelectors,a),bi=function Dx(t,r,a,d,f,v){const w=_e(),x=f[$t],N=eo(w,f);Cp(x,f,w,a,null,d);for(let J=0;J<a.length;J++)wa(cu(f,x,w.directiveStart+J,w),f);jg(x,f,w),N&&wa(N,f);const K=cu(f,x,w.directiveStart+w.componentOffset,w);if(t[Ei]=f[Ei]=K,null!==v)for(const J of v)J(K,r);return ai(x,w,f),K}(DO,xa,Gc,y0,ar,[Ox]),gv(Ft,ar,null)}finally{Kp()}return new Tx(this.componentType,bi,gd(go,ar),ar,go)}finally{ye(v)}}}class Tx extends Dp{constructor(r,a,d,f,v){super(),this.location=d,this._rootLView=f,this._tNode=v,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new jc(f,void 0,!1),this.componentType=r}setInput(r,a){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),a))return;const v=this._rootLView;mf(v[$t],v,f,r,a),this.previousInputValues.set(r,a),fh(fr(this._tNode.index,v),1)}}get injector(){return new Ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Ox(){const t=_e();Bh(Dt()[$t],t)}let Ty=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Px}return t})();function Px(){return Bw(_e(),Dt())}const Nx=Ty,Lw=class extends Nx{constructor(r,a,d){super(),this._lContainer=r,this._hostTNode=a,this._hostLView=d}get element(){return gd(this._hostTNode,this._hostLView)}get injector(){return new Ro(this._hostTNode,this._hostLView)}get parentInjector(){const r=$h(this._hostTNode,this._hostLView);if(cc(r)){const a=ld(r,this._hostLView),d=cd(r);return new Ro(a[$t].data[d+8],a)}return new Ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const a=Vw(this._lContainer);return null!==a&&a[r]||null}get length(){return this._lContainer.length-ho}createEmbeddedView(r,a,d){let f,v;"number"==typeof d?f=d:null!=d&&(f=d.index,v=d.injector);const w=mh(this._lContainer,r.ssrId),x=r.createEmbeddedViewImpl(a||{},v,w);return this.insertImpl(x,f,dh(this._hostTNode,w)),x}createComponent(r,a,d,f,v){const w=r&&!function Zu(t){return"function"==typeof t}(r);let x;if(w)x=a;else{const rt=a||{};x=rt.index,d=rt.injector,f=rt.projectableNodes,v=rt.environmentInjector||rt.ngModuleRef}const N=w?r:new kv(ke(r)),K=d||this.parentInjector;if(!v&&null==N.ngModule){const Rt=(w?K:this.parentInjector).get(jo,null);Rt&&(v=Rt)}const J=ke(N.componentType??{}),he=mh(this._lContainer,J?.id??null),je=N.create(K,f,he?.firstChild??null,v);return this.insertImpl(je.hostView,x,dh(this._hostTNode,he)),je}insert(r,a){return this.insertImpl(r,a,!0)}insertImpl(r,a,d){const f=r._lView;if(function Ml(t){return Ds(t[Eo])}(f)){const x=this.indexOf(r);if(-1!==x)this.detach(x);else{const N=f[Eo],K=new Lw(N,N[ls],N[Eo]);K.detach(K.indexOf(r))}}const v=this._adjustIndex(a),w=this._lContainer;return Vl(w,f,v,d),r.attachToViewContainerRef(),Zi(KE(w),v,r),r}move(r,a){return this.insert(r,a)}indexOf(r){const a=Vw(this._lContainer);return null!==a?a.indexOf(r):-1}remove(r){const a=this._adjustIndex(r,-1),d=x_(this._lContainer,a);d&&(gl(KE(this._lContainer),a),ov(d[$t],d))}detach(r){const a=this._adjustIndex(r,-1),d=x_(this._lContainer,a);return d&&null!=gl(KE(this._lContainer),a)?new jc(d):null}_adjustIndex(r,a=0){return r??this.length+a}};function Vw(t){return t[8]}function KE(t){return t[8]||(t[8]=[])}function Bw(t,r){let a;const d=r[t.index];return Ds(d)?a=d:(a=O_(d,r,null,t),r[t.index]=a,wp(r,a)),Uw(a,r,t,d),new Lw(a,t,r)}let Uw=function Hw(t,r,a,d){if(t[xu])return;let f;f=8&a.type?xr(d):function kx(t,r){const a=t[Zn],d=a.createComment(""),f=eo(r,t);return yp(a,sv(a,f),d,function Iw(t,r){return t.nextSibling(r)}(a,f),!1),d}(r,a),t[xu]=f},XE=()=>!1;class QE{constructor(r){this.queryList=r,this.matches=null}clone(){return new QE(this.queryList)}setDirty(){this.queryList.setDirty()}}class YE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const a=r.queries;if(null!==a){const d=null!==r.contentQueries?r.contentQueries[0]:a.length,f=[];for(let v=0;v<d;v++){const w=a.getByIndex(v);f.push(this.queries[w.indexInDeclarationView].clone())}return new YE(f)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let a=0;a<this.queries.length;a++)null!==nC(r,a).matches&&this.queries[a].setDirty()}}class Gw{constructor(r,a,d=null){this.flags=a,this.read=d,this.predicate="string"==typeof r?function Gx(t){return t.split(",").map(r=>r.trim())}(r):r}}class ZE{constructor(r=[]){this.queries=r}elementStart(r,a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(r,a)}elementEnd(r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(r)}embeddedTView(r){let a=null;for(let d=0;d<this.length;d++){const f=null!==a?a.length:0,v=this.getByIndex(d).embeddedTView(r,f);v&&(v.indexInDeclarationView=d,null!==a?a.push(v):a=[v])}return null!==a?new ZE(a):null}template(r,a){for(let d=0;d<this.queries.length;d++)this.queries[d].template(r,a)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class JE{constructor(r,a=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(r,a){this.isApplyingToNode(a)&&this.matchTNode(r,a)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,a){this.elementStart(r,a)}embeddedTView(r,a){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,a),new JE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1&~this.metadata.flags){const a=this._declarationNodeIndex;let d=r.parent;for(;null!==d&&8&d.type&&d.index!==a;)d=d.parent;return a===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(r,a){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const v=d[f];this.matchTNodeWithReadOption(r,a,Bx(a,v)),this.matchTNodeWithReadOption(r,a,Qf(a,r,v,!1,!1))}else d===Ap?4&a.type&&this.matchTNodeWithReadOption(r,a,-1):this.matchTNodeWithReadOption(r,a,Qf(a,r,d,!1,!1))}matchTNodeWithReadOption(r,a,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Jd||f===Ty||f===Ap&&4&a.type)this.addMatch(a.index,-2);else{const v=Qf(a,r,f,!1,!1);null!==v&&this.addMatch(a.index,v)}else this.addMatch(a.index,d)}}addMatch(r,a){null===this.matches?this.matches=[r,a]:this.matches.push(r,a)}}function Bx(t,r){const a=t.localNames;if(null!==a)for(let d=0;d<a.length;d+=2)if(a[d]===r)return a[d+1];return null}function jx(t,r,a,d){return-1===a?function Ux(t,r){return 11&t.type?gd(t,r):4&t.type?Qg(t,r):null}(r,t):-2===a?function Hx(t,r,a){return a===Jd?gd(r,t):a===Ap?Qg(r,t):a===Ty?Bw(r,t):void 0}(t,r,d):cu(t,t[$t],a,r)}function $w(t,r,a,d){const f=r[lo].queries[d];if(null===f.matches){const v=t.data,w=a.matches,x=[];for(let N=0;null!==w&&N<w.length;N+=2){const K=w[N];x.push(K<0?null:jx(r,v[K],w[N+1],a.metadata.read))}f.matches=x}return f.matches}function eC(t,r,a,d){const f=t.queries.getByIndex(a),v=f.matches;if(null!==v){const w=$w(t,r,f,a);for(let x=0;x<v.length;x+=2){const N=v[x];if(N>0)d.push(w[x/2]);else{const K=v[x+1],J=r[-N];for(let he=ho;he<J.length;he++){const xe=J[he];xe[rl]===xe[Eo]&&eC(xe[$t],xe,K,d)}if(null!==J[ec]){const he=J[ec];for(let xe=0;xe<he.length;xe++){const je=he[xe];eC(je[$t],je,K,d)}}}}}return d}function zw(t,r,a){const d=new np(!(4&~a));return function bE(t,r,a,d){const f=$g(r);f.push(a),t.firstCreatePass&&hv(t).push(d,f.length-1)}(t,r,d,d.destroy),(r[lo]??=new YE).queries.push(new QE(d))-1}function Kw(t,r,a){null===t.queries&&(t.queries=new ZE),t.queries.track(new JE(r,a))}function nC(t,r){return t.queries.getByIndex(r)}function Xw(t,r){const a=t[$t],d=nC(a,r);return d.crossesNgTemplate?eC(a,t,r,[]):$w(a,t,d,r)}function Zw(t){return function Qw(t){return"function"==typeof t&&void 0!==t[nt]}(t)&&"function"==typeof t.set}function iC(t){let r=function cI(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),a=!0;const d=[t];for(;r;){let f;if(Ca(t))f=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new nn(903,!1);f=r.\u0275dir}if(f){if(a){d.push(f);const w=t;w.inputs=xy(t.inputs),w.inputTransforms=xy(t.inputTransforms),w.declaredInputs=xy(t.declaredInputs),w.outputs=xy(t.outputs);const x=f.hostBindings;x&&oS(t,x);const N=f.viewQuery,K=f.contentQueries;if(N&&rS(t,N),K&&iS(t,K),tS(t,f),Hu(t.outputs,f.outputs),Ca(f)&&f.data.animation){const J=t.data;J.animation=(J.animation||[]).concat(f.data.animation)}}const v=f.features;if(v)for(let w=0;w<v.length;w++){const x=v[w];x&&x.ngInherit&&x(t),x===iC&&(a=!1)}}r=Object.getPrototypeOf(r)}!function nS(t){let r=0,a=null;for(let d=t.length-1;d>=0;d--){const f=t[d];f.hostVars=r+=f.hostVars,f.hostAttrs=wr(f.hostAttrs,a=wr(a,f.hostAttrs))}}(d)}function tS(t,r){for(const a in r.inputs){if(!r.inputs.hasOwnProperty(a)||t.inputs.hasOwnProperty(a))continue;const d=r.inputs[a];if(void 0!==d&&(t.inputs[a]=d,t.declaredInputs[a]=r.declaredInputs[a],null!==r.inputTransforms)){const f=Array.isArray(d)?d[0]:d;if(!r.inputTransforms.hasOwnProperty(f))continue;t.inputTransforms??={},t.inputTransforms[f]=r.inputTransforms[f]}}}function xy(t){return t===fi?{}:t===Pr?[]:t}function rS(t,r){const a=t.viewQuery;t.viewQuery=a?(d,f)=>{r(d,f),a(d,f)}:r}function iS(t,r){const a=t.contentQueries;t.contentQueries=a?(d,f,v)=>{r(d,f,v),a(d,f,v)}:r}function oS(t,r){const a=t.hostBindings;t.hostBindings=a?(d,f)=>{r(d,f),a(d,f)}:r}function fI(t){const r=t.inputConfig,a={};for(const d in r)if(r.hasOwnProperty(d)){const f=r[d];Array.isArray(f)&&f[3]&&(a[d]=f[3])}t.inputTransforms=a}class gm{}class pI{}function dS(t,r){return new oC(t,r??null,[])}class oC extends gm{constructor(r,a,d){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kw(this);const f=On(r);this._bootstrapComponents=q(f.bootstrap),this._r3Injector=cg(r,a,[{provide:gm,useValue:this},{provide:Tt,useValue:this.componentFactoryResolver},...d],Tr(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class sC extends pI{constructor(r){super(),this.moduleType=r}create(r){return new oC(this.moduleType,r,[])}}class gI extends gm{constructor(r){super(),this.componentFactoryResolver=new kw(this),this.instance=null;const a=new Tu([...r.providers,{provide:gm,useValue:this},{provide:Tt,useValue:this.componentFactoryResolver}],r.parent||tl(),r.debugName,new Set(["environment"]));this.injector=a,r.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function aC(t,r,a=null){return new gI({providers:t,parent:r,debugName:a,runEnvironmentInitializers:!0}).injector}let mm=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Lr.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=Tn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dy(t){return!!uC(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function uC(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function _h(t,r,a){return t[r]=a}function Qs(t,r,a){return!Object.is(t[r],a)&&(t[r]=a,!0)}function _m(t,r,a,d){const f=Qs(t,r,a);return Qs(t,r+1,d)||f}function Ry(t,r,a,d,f){const v=_m(t,r,a,d);return Qs(t,r+2,f)||v}function Vv(t,r,a,d,f,v,w,x,N,K){const J=a+Pn,he=r.firstCreatePass?function vS(t,r,a,d,f,v,w,x,N){const K=r.consts,J=xn(r,t,4,w||null,x||null);uv(r,a,J,au(K,N)),Bh(r,J);const he=J.tView=$e(2,J,d,f,v,r.directiveRegistry,r.pipeRegistry,null,r.schemas,K,null);return null!==r.queries&&(r.queries.template(r,J),he.queries=r.queries.embeddedTView(J)),J}(J,r,t,d,f,v,w,x,N):r.data[J];Rs(he,!1);const xe=_I(r,t,he,a);ad()&&av(r,t,xe,he),wa(xe,t);const je=O_(xe,t,xe,he);return t[J]=je,wp(t,je),function jw(t,r,a){return XE(t,r,a)}(je,he,t),ed(he)&&Dr(r,t,he),null!=N&&Ze(t,he,K),he}function cC(t,r,a,d,f,v,w,x){const N=Dt(),K=kr();return Vv(N,K,t,r,a,d,f,au(K.consts,v),w,x),cC}let _I=function vI(t,r,a,d){return uc(!0),r[Zn].createComment("")};function yC(t,r,a,d){const f=Dt();return Qs(f,sc(),r)&&(kr(),dl(Hi(),f,t,r,a,d)),yC}function o0(t,r,a,d){return Qs(t,sc(),a)?r+qn(a)+d:Q}function s0(t,r,a,d,f,v){const x=_m(t,oc(),a,f);return ac(2),x?r+qn(a)+d+qn(f)+v:Q}function Fy(t,r){return t<<17|r<<2}function Pp(t){return t>>17&32767}function EC(t){return 2|t}function ym(t){return(131068&t)>>2}function CC(t,r){return-131069&t|r<<2}function wC(t){return 1|t}function XI(t,r,a,d){const f=t[a+1],v=null===r;let w=d?Pp(f):ym(f),x=!1;for(;0!==w&&(!1===x||v);){const K=t[w+1];iD(t[w],r)&&(x=!0,t[w+1]=d?wC(K):EC(K)),w=d?Pp(K):ym(K)}x&&(t[a+1]=d?EC(f):wC(f))}function iD(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Ku(t,r)>=0}const Ta={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function QI(t){return t.substring(Ta.key,Ta.keyEnd)}function YI(t,r){const a=Ta.textEnd;return a===r?-1:(r=Ta.keyEnd=function uD(t,r,a){for(;r<a&&t.charCodeAt(r)>32;)r++;return r}(t,Ta.key=r,a),f0(t,r,a))}function f0(t,r,a){for(;r<a&&t.charCodeAt(r)<=32;)r++;return r}function IC(t,r,a){const d=Dt();return Qs(d,sc(),r)&&gs(kr(),Hi(),d,t,r,d[Zn],a,!1),IC}function AC(t,r,a,d,f){const w=f?"class":"style";mf(t,a,r.inputs[w],w,d)}function TC(t,r,a){return xd(t,r,a,!1),TC}function bC(t,r){return xd(t,r,null,!0),bC}function nA(t){Sd(_D,yh,t,!0)}function yh(t,r){for(let a=function sD(t){return function JI(t){Ta.key=0,Ta.keyEnd=0,Ta.value=0,Ta.valueEnd=0,Ta.textEnd=t.length}(t),YI(t,f0(t,0,Ta.textEnd))}(r);a>=0;a=YI(r,a))vi(t,QI(r),!0)}function xd(t,r,a,d){const f=Dt(),v=kr(),w=ac(2);v.firstUpdatePass&&iA(v,t,w,d),r!==Q&&Qs(f,w,r)&&sA(v,v.data[Ws()],f,f[Zn],t,f[w+1]=function yD(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Tr(Xs(t)))),t}(r,a),d,w)}function Sd(t,r,a,d){const f=kr(),v=ac(2);f.firstUpdatePass&&iA(f,null,v,d);const w=Dt();if(a!==Q&&Qs(w,v,a)){const x=f.data[Ws()];if(uA(x,d)&&!rA(f,v)){let N=d?x.classesWithoutHost:x.stylesWithoutHost;null!==N&&(a=is(N,a||"")),AC(f,x,w,a,d)}else!function vD(t,r,a,d,f,v,w,x){f===Q&&(f=Pr);let N=0,K=0,J=0<f.length?f[0]:null,he=0<v.length?v[0]:null;for(;null!==J||null!==he;){const xe=N<f.length?f[N+1]:void 0,je=K<v.length?v[K+1]:void 0;let Rt,rt=null;J===he?(N+=2,K+=2,xe!==je&&(rt=he,Rt=je)):null===he||null!==J&&J<he?(N+=2,rt=J):(K+=2,rt=he,Rt=je),null!==rt&&sA(t,r,a,d,rt,Rt,w,x),J=N<f.length?f[N]:null,he=K<v.length?v[K]:null}}(f,x,w,w[Zn],w[v+1],w[v+1]=function mD(t,r,a){if(null==a||""===a)return Pr;const d=[],f=Xs(a);if(Array.isArray(f))for(let v=0;v<f.length;v++)t(d,f[v],!0);else if("object"==typeof f)for(const v in f)f.hasOwnProperty(v)&&t(d,v,f[v]);else"string"==typeof f&&r(d,f);return d}(t,r,a),d,v)}}function rA(t,r){return r>=t.expandoStartIndex}function iA(t,r,a,d){const f=t.data;if(null===f[a+1]){const v=f[Ws()],w=rA(t,a);uA(v,d)&&null===r&&!w&&(r=!1),r=function hD(t,r,a,d){const f=function zp(t){const r=nr.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let v=d?r.residualClasses:r.residualStyles;if(null===f)0===(d?r.classBindings:r.styleBindings)&&(a=Hv(a=xC(null,t,r,a,d),r.attrs,d),v=null);else{const w=r.directiveStylingLast;if(-1===w||t[w]!==f)if(a=xC(f,t,r,a,d),null===v){let N=function fD(t,r,a){const d=a?r.classBindings:r.styleBindings;if(0!==ym(d))return t[Pp(d)]}(t,r,d);void 0!==N&&Array.isArray(N)&&(N=xC(null,t,r,N[1],d),N=Hv(N,r.attrs,d),function pD(t,r,a,d){t[Pp(a?r.classBindings:r.styleBindings)]=d}(t,r,d,N))}else v=function gD(t,r,a){let d;const f=r.directiveEnd;for(let v=1+r.directiveStylingLast;v<f;v++)d=Hv(d,t[v].hostAttrs,a);return Hv(d,r.attrs,a)}(t,r,d)}return void 0!==v&&(d?r.residualClasses=v:r.residualStyles=v),a}(f,v,r,d),function nD(t,r,a,d,f,v){let w=v?r.classBindings:r.styleBindings,x=Pp(w),N=ym(w);t[d]=a;let J,K=!1;if(Array.isArray(a)?(J=a[1],(null===J||Ku(a,J)>0)&&(K=!0)):J=a,f)if(0!==N){const xe=Pp(t[x+1]);t[d+1]=Fy(xe,x),0!==xe&&(t[xe+1]=CC(t[xe+1],d)),t[x+1]=function eD(t,r){return 131071&t|r<<17}(t[x+1],d)}else t[d+1]=Fy(x,0),0!==x&&(t[x+1]=CC(t[x+1],d)),x=d;else t[d+1]=Fy(N,0),0===x?x=d:t[N+1]=CC(t[N+1],d),N=d;K&&(t[d+1]=EC(t[d+1])),XI(t,J,d,!0),XI(t,J,d,!1),function rD(t,r,a,d,f){const v=f?t.residualClasses:t.residualStyles;null!=v&&"string"==typeof r&&Ku(v,r)>=0&&(a[d+1]=wC(a[d+1]))}(r,J,t,d,v),w=Fy(x,N),v?r.classBindings=w:r.styleBindings=w}(f,v,r,a,w,d)}}function xC(t,r,a,d,f){let v=null;const w=a.directiveEnd;let x=a.directiveStylingLast;for(-1===x?x=a.directiveStart:x++;x<w&&(v=r[x],d=Hv(d,v.hostAttrs,f),v!==t);)x++;return null!==t&&(a.directiveStylingLast=x),d}function Hv(t,r,a){const d=a?1:2;let f=-1;if(null!==r)for(let v=0;v<r.length;v++){const w=r[v];"number"==typeof w?f=w:f===d&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vi(t,w,!!a||r[++v]))}return void 0===t?null:t}function _D(t,r,a){const d=String(r);""!==d&&!d.includes(" ")&&vi(t,d,a)}function sA(t,r,a,d,f,v,w,x){if(!(3&r.type))return;const N=t.data,K=N[x+1],J=function tD(t){return!(1&~t)}(K)?aA(N,r,a,f,ym(K),w):void 0;Ly(J)||(Ly(v)||function JS(t){return!(2&~t)}(K)&&(v=aA(N,null,a,f,x,w)),function C(t,r,a,d,f){if(r)f?t.addClass(a,d):t.removeClass(a,d);else{let v=-1===d.indexOf("-")?void 0:Kt.DashCase;null==f?t.removeStyle(a,d,v):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),v|=Kt.Important),t.setStyle(a,d,f,v))}}(d,w,ou(Ws(),a),f,v))}function aA(t,r,a,d,f,v){const w=null===r;let x;for(;f>0;){const N=t[f],K=Array.isArray(N),J=K?N[1]:N,he=null===J;let xe=a[f+1];xe===Q&&(xe=he?Pr:void 0);let je=he?as(xe,d):J===d?xe:void 0;if(K&&!Ly(je)&&(je=as(N,d)),Ly(je)&&(x=je,w))return x;const rt=t[f+1];f=w?Pp(rt):ym(rt)}if(null!==r){let N=v?r.residualClasses:r.residualStyles;null!=N&&(x=as(N,d))}return x}function Ly(t){return void 0!==t}function uA(t,r){return!!(t.flags&(r?8:16))}function cA(t,r,a){Sd(vi,yh,o0(Dt(),t,r,a),!0)}function lA(t,r,a,d,f){Sd(vi,yh,s0(Dt(),t,r,a,d,f),!0)}function dA(t,r,a,d,f,v,w){Sd(vi,yh,function a0(t,r,a,d,f,v,w,x){const K=Ry(t,oc(),a,f,w);return ac(3),K?r+qn(a)+d+qn(f)+v+qn(w)+x:Q}(Dt(),t,r,a,d,f,v,w),!0)}class xD{destroy(r){}updateValue(r,a){}swap(r,a){const d=Math.min(r,a),f=Math.max(r,a),v=this.detach(f);if(f-d>1){const w=this.detach(d);this.attach(d,v),this.attach(f,w)}else this.attach(d,v)}move(r,a){this.attach(a,this.detach(r))}}function SC(t,r,a,d,f){return t===a&&Object.is(r,d)?1:Object.is(f(t,r),f(a,d))?-1:0}function DC(t,r,a,d){return!(void 0===r||!r.has(d)||(t.attach(a,r.get(d)),r.delete(d),0))}function hA(t,r,a,d,f){if(DC(t,r,d,a(d,f)))t.updateValue(d,f);else{const v=t.create(d,f);t.attach(d,v)}}function fA(t,r,a,d){const f=new Set;for(let v=r;v<=a;v++)f.add(d(v,t.at(v)));return f}class pA{constructor(){this.kvMap=new Map,this._vMap=void 0}has(r){return this.kvMap.has(r)}delete(r){if(!this.has(r))return!1;const a=this.kvMap.get(r);return void 0!==this._vMap&&this._vMap.has(a)?(this.kvMap.set(r,this._vMap.get(a)),this._vMap.delete(a)):this.kvMap.delete(r),!0}get(r){return this.kvMap.get(r)}set(r,a){if(this.kvMap.has(r)){let d=this.kvMap.get(r);void 0===this._vMap&&(this._vMap=new Map);const f=this._vMap;for(;f.has(d);)d=f.get(d);f.set(d,a)}else this.kvMap.set(r,a)}forEach(r){for(let[a,d]of this.kvMap)if(r(d,a),void 0!==this._vMap){const f=this._vMap;for(;f.has(d);)d=f.get(d),r(d,a)}}}function gA(t,r){$o("NgControlFlow");const a=Dt(),d=sc(),f=a[d]!==Q?a[d]:-1,v=-1!==f?Vy(a,Pn+f):void 0;if(Qs(a,d,t)){const x=ye(null);try{if(void 0!==v&&zg(v,0),-1!==t){const N=Pn+t,K=Vy(a,N),J=RC(a[$t],N),he=mh(K,J.tView.ssrId);Vl(K,lh(a,J,r,{dehydratedView:he}),0,dh(J,he))}}finally{ye(x)}}else if(void 0!==v){const x=mv(v,0);void 0!==x&&(x[Ei]=r)}}class DD{constructor(r,a,d){this.lContainer=r,this.$implicit=a,this.$index=d}get $count(){return this.lContainer.length-ho}}function mA(t,r){return r}class MD{constructor(r,a,d){this.hasEmptyBlock=r,this.trackByFn=a,this.liveCollection=d}}function _A(t,r,a,d,f,v,w,x,N,K,J,he,xe){$o("NgControlFlow");const je=Dt(),rt=kr(),Rt=void 0!==N,Xt=Dt(),sn=x?w.bind(Xt[Ci][Ei]):w,Ft=new MD(Rt,sn);Xt[Pn+t]=Ft,Vv(je,rt,t+1,r,a,d,f,au(rt.consts,v)),Rt&&Vv(je,rt,t+2,N,K,J,he,au(rt.consts,xe))}class OD extends xD{constructor(r,a,d){super(),this.lContainer=r,this.hostLView=a,this.templateTNode=d,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ho}at(r){return this.getLView(r)[Ei].$implicit}attach(r,a){const d=a[ds];this.needsIndexUpdate||=r!==this.length,Vl(this.lContainer,a,r,dh(this.templateTNode,d))}detach(r){return this.needsIndexUpdate||=r!==this.length-1,function PD(t,r){return x_(t,r)}(this.lContainer,r)}create(r,a){const d=mh(this.lContainer,this.templateTNode.tView.ssrId),f=lh(this.hostLView,this.templateTNode,new DD(this.lContainer,a,r),{dehydratedView:d});return this.operationsCounter?.recordCreate(),f}destroy(r){ov(r[$t],r),this.operationsCounter?.recordDestroy()}updateValue(r,a){this.getLView(r)[Ei].$implicit=a}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let r=0;r<this.length;r++)this.getLView(r)[Ei].$index=r}getLView(r){return function ND(t,r){return mv(t,r)}(this.lContainer,r)}}function vA(t){const r=ye(null),a=Ws();try{const d=Dt(),f=d[$t],v=d[a],w=a+1,x=Vy(d,w);if(void 0===v.liveCollection){const K=RC(f,w);v.liveCollection=new OD(x,d,K)}else v.liveCollection.reset();const N=v.liveCollection;if(function SD(t,r,a){let d,f,v=0,w=t.length-1;if(Array.isArray(r)){let N=r.length-1;for(;v<=w&&v<=N;){const K=t.at(v),J=r[v],he=SC(v,K,v,J,a);if(0!==he){he<0&&t.updateValue(v,J),v++;continue}const xe=t.at(w),je=r[N],rt=SC(w,xe,N,je,a);if(0!==rt){rt<0&&t.updateValue(w,je),w--,N--;continue}const Rt=a(v,K),Xt=a(w,xe),sn=a(v,J);if(Object.is(sn,Xt)){const Ft=a(N,je);Object.is(Ft,Rt)?(t.swap(v,w),t.updateValue(w,je),N--,w--):t.move(w,v),t.updateValue(v,J),v++}else if(d??=new pA,f??=fA(t,v,w,a),DC(t,d,v,sn))t.updateValue(v,J),v++,w++;else if(f.has(sn))d.set(Rt,t.detach(v)),w--;else{const Ft=t.create(v,r[v]);t.attach(v,Ft),v++,w++}}for(;v<=N;)hA(t,d,a,v,r[v]),v++}else if(null!=r){const N=r[Symbol.iterator]();let K=N.next();for(;!K.done&&v<=w;){const J=t.at(v),he=K.value,xe=SC(v,J,v,he,a);if(0!==xe)xe<0&&t.updateValue(v,he),v++,K=N.next();else{d??=new pA,f??=fA(t,v,w,a);const je=a(v,he);if(DC(t,d,v,je))t.updateValue(v,he),v++,w++,K=N.next();else if(f.has(je)){const rt=a(v,J);d.set(rt,t.detach(v)),w--}else t.attach(v,t.create(v,he)),v++,w++,K=N.next()}}for(;!K.done;)hA(t,d,a,t.length,K.value),K=N.next()}for(;v<=w;)t.destroy(t.detach(w--));d?.forEach(N=>{t.destroy(N)})}(N,t,v.trackByFn),N.updateIndexes(),v.hasEmptyBlock){const K=sc(),J=0===N.length;if(Qs(d,K,J)){const he=a+2,xe=Vy(d,he);if(J){const je=RC(f,he),rt=mh(xe,je.tView.ssrId);Vl(xe,lh(d,je,void 0,{dehydratedView:rt}),0,dh(je,rt))}else zg(xe,0)}}}finally{ye(r)}}function Vy(t,r){return t[r]}function RC(t,r){return rc(t,r)}function By(t,r,a,d){const f=Dt(),v=kr(),w=Pn+t,x=f[Zn],N=v.firstCreatePass?function kD(t,r,a,d,f,v){const w=r.consts,N=xn(r,t,2,d,au(w,f));return uv(r,a,N,au(w,v)),null!==N.attrs&&Iy(N,N.attrs,!1),null!==N.mergedAttrs&&Iy(N,N.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,N),N}(w,v,f,r,a,d):v.data[w],K=yA(v,f,N,x,r,t);f[w]=K;const J=ed(N);return Rs(N,!0),G(x,K,N),!function Q_(t){return!(32&~t.flags)}(N)&&ad()&&av(v,f,K,N),0===function E0(){return nr.lFrame.elementDepthCount}()&&wa(K,f),function Fh(){nr.lFrame.elementDepthCount++}(),J&&(Dr(v,f,N),ai(v,N,f)),null!==d&&Ze(f,N),By}function Uy(){let t=_e();fo()?Pl():(t=t.parent,Rs(t,!1));const r=t;(function w0(t){return nr.skipHydrationRootTNode===t})(r)&&function bm(){nr.skipHydrationRootTNode=null}(),function Tm(){nr.lFrame.elementDepthCount--}();const a=kr();return a.firstCreatePass&&(Bh(a,t),zs(t)&&a.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Om(t){return!!(8&t.flags)}(r)&&AC(a,r,Dt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function eg(t){return!!(16&t.flags)}(r)&&AC(a,r,Dt(),r.stylesWithoutHost,!1),Uy}function MC(t,r,a,d){return By(t,r,a,d),Uy(),MC}let yA=(t,r,a,d,f,v)=>(uc(!0),Uc(d,f,function $f(){return nr.lFrame.currentNamespace}()));function jy(t,r,a){const d=Dt(),f=kr(),v=t+Pn,w=f.firstCreatePass?function VD(t,r,a,d,f){const v=r.consts,w=au(v,d),x=xn(r,t,8,"ng-container",w);return null!==w&&Iy(x,w,!0),uv(r,a,x,au(v,f)),null!==r.queries&&r.queries.elementStart(r,x),x}(v,f,d,r,a):f.data[v];Rs(w,!0);const x=CA(f,d,w,t);return d[v]=x,ad()&&av(f,d,x,w),wa(x,d),ed(w)&&(Dr(f,d,w),ai(f,w,d)),null!=a&&Ze(d,w),jy}function Hy(){let t=_e();const r=kr();return fo()?Pl():(t=t.parent,Rs(t,!1)),r.firstCreatePass&&(Bh(r,t),zs(t)&&r.queries.elementEnd(t)),Hy}let CA=(t,r,a,d)=>(uc(!0),du(r[Zn],""));function wA(){return Dt()}const Em=void 0;var HD=["en",[["a","p"],["AM","PM"],Em],[["AM","PM"],Em,Em],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Em,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Em,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Em,"{1} 'at' {0}",Em],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jD(t){const a=Math.floor(Math.abs(t)),d=t.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===d?1:5}];let p0={};function OC(t){const r=function GD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let a=bA(r);if(a)return a;const d=r.split("-")[0];if(a=bA(d),a)return a;if("en"===d)return HD;throw new nn(701,!1)}function TA(t){return OC(t)[g0.PluralCase]}function bA(t){return t in p0||(p0[t]=Ar.ng&&Ar.ng.common&&Ar.ng.common.locales&&Ar.ng.common.locales[t]),p0[t]}var g0=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(g0||{});const m0="en-US";let xA=m0;let WA=(t,r,a)=>{};function kC(t,r,a,d){const f=Dt(),v=kr(),w=_e();return FC(v,f,f[Zn],w,t,r,d),kC}function FC(t,r,a,d,f,v,w){const x=ed(d),K=t.firstCreatePass&&hv(t),J=r[Ei],he=$g(r);let xe=!0;if(3&d.type||w){const Rt=eo(d,r),Xt=w?w(Rt):Rt,sn=he.length,Ft=w?bi=>w(xr(bi[d.index])):d.index;let ar=null;if(!w&&x&&(ar=function M2(t,r,a,d){const f=t.cleanup;if(null!=f)for(let v=0;v<f.length-1;v+=2){const w=f[v];if(w===a&&f[v+1]===d){const x=r[Cl],N=f[v+2];return x.length>N?x[N]:null}"string"==typeof w&&(v+=2)}return null}(t,r,f,d.index)),null!==ar)(ar.__ngLastListenerFn__||ar).__ngNextListenerFn__=v,ar.__ngLastListenerFn__=v,xe=!1;else{v=QA(d,r,J,v),WA(Rt,f,v);const bi=a.listen(Xt,f,v);he.push(v,bi),K&&K.push(f,Ft,sn,sn+1)}}else v=QA(d,r,J,v);const je=d.outputs;let rt;if(xe&&null!==je&&(rt=je[f])){const Rt=rt.length;if(Rt)for(let Xt=0;Xt<Rt;Xt+=2){const go=r[rt[Xt]][rt[Xt+1]].subscribe(v),xa=he.length;he.push(v,go),K&&K.push(f,d.index,xa,-(xa+1))}}}function XA(t,r,a,d){const f=ye(null);try{return Ua(6,r,a),!1!==a(d)}catch(v){return N_(t,v),!1}finally{Ua(7,r,a),ye(f)}}function QA(t,r,a,d){return function f(v){if(v===Function)return d;fh(t.componentOffset>-1?fr(t.index,r):r,5);let x=XA(r,a,d,v),N=f.__ngNextListenerFn__;for(;N;)x=XA(r,a,N,v)&&x,N=N.__ngNextListenerFn__;return x}}function YA(t=1){return function sd(t){return(nr.lFrame.contextLView=function Am(t,r){for(;t>0;)r=r[wl],t--;return r}(t,nr.lFrame.contextLView))[Ei]}(t)}function O2(t,r){let a=null;const d=function Pd(t){const r=t.attrs;if(null!=r){const a=r.indexOf(5);if(!(1&a))return r[a+1]}return null}(t);for(let f=0;f<r.length;f++){const v=r[f];if("*"!==v){if(null===d?_a(t,v,!0):vl(d,v))return f}else a=f}return a}function ZA(t){const r=Dt()[Ci][ls];if(!r.projection){const d=r.projection=function Ic(t,r){const a=[];for(let d=0;d<t;d++)a.push(r);return a}(t?t.length:1,null),f=d.slice();let v=r.child;for(;null!==v;){const w=t?O2(v,t):0;null!==w&&(f[w]?f[w].projectionNext=v:d[w]=v,f[w]=v),v=v.next}}}function JA(t,r=0,a,d,f,v){const w=Dt(),x=kr(),N=d?t+1:null;null!==N&&Vv(w,x,N,d,f,v,null,a);const K=xn(x,Pn+t,16,null,a||null);null===K.projection&&(K.projection=r),Pl();const he=!w[ds]||uu();null===w[Ci][ls].projection[K.projection]&&null!==N?function P2(t,r,a){const d=Pn+a,f=r.data[d],v=t[d],w=mh(v,f.tView.ssrId);Vl(v,lh(t,f,void 0,{dehydratedView:w}),0,dh(f,w))}(w,x,N):he&&32&~K.flags&&function c(t,r,a){h(r[Zn],0,r,a,P1(t,a,r),CE(a.parent||r[ls],a,r))}(x,w,K)}function LC(t,r,a){return VC(t,"",r,"",a),LC}function VC(t,r,a,d,f){const v=Dt(),w=o0(v,r,a,d);return w!==Q&&gs(kr(),Hi(),v,t,w,v[Zn],f,!1),VC}function uT(t,r,a,d){!function qw(t,r,a,d){const f=kr();if(f.firstCreatePass){const v=_e();Kw(f,new Gw(r,a,d),v.index),function $x(t,r){const a=t.contentQueries||(t.contentQueries=[]);r!==(a.length?a[a.length-1]:-1)&&a.push(t.queries.length-1,r)}(f,t),!(2&~a)&&(f.staticContentQueries=!0)}return zw(f,Dt(),a)}(t,r,a,d)}function cT(t,r,a){!function Ww(t,r,a){const d=kr();return d.firstCreatePass&&(Kw(d,new Gw(t,r,a),-1),!(2&~r)&&(d.staticViewQueries=!0)),zw(d,Dt(),r)}(t,r,a)}function lT(t){const r=Dt(),a=kr(),d=Hf();Vh(d+1);const f=nC(a,d);if(t.dirty&&function ti(t){return!(4&~t[bn])}(r)===!(2&~f.metadata.flags)){if(null===f.matches)t.reset([]);else{const v=Xw(r,d);t.reset(v,wi),t.notifyOnChanges()}return!0}return!1}function dT(){return function tC(t,r){return t[lo].queries[r].queryList}(Dt(),Hf())}function hT(t){return su(function Hp(){return nr.lFrame.contextLView}(),Pn+t)}function wT(t,r=""){const a=Dt(),d=kr(),f=t+Pn,v=d.firstCreatePass?xn(d,f,1,r,null):d.data[f],w=IT(d,a,v,r,t);a[f]=w,ad()&&av(d,a,w,v),Rs(v,!1)}let IT=(t,r,a,d,f)=>(uc(!0),function ei(t,r){return t.createText(r)}(r[Zn],d));function BC(t){return Wy("",t,""),BC}function Wy(t,r,a){const d=Dt(),f=o0(d,t,r,a);return f!==Q&&Ll(d,Ws(),f),Wy}function UC(t,r,a,d,f){const v=Dt(),w=s0(v,t,r,a,d,f);return w!==Q&&Ll(v,Ws(),w),UC}function jC(t,r,a){Zw(r)&&(r=r());const d=Dt();return Qs(d,sc(),r)&&gs(kr(),Hi(),d,t,r,d[Zn],a,!1),jC}function MT(t,r){const a=Zw(t);return a&&t.set(r),a}function HC(t,r){const a=Dt(),d=kr(),f=_e();return FC(d,a,a[Zn],f,t,r),HC}function GC(t,r,a,d,f){if(t=Mn(t),Array.isArray(t))for(let v=0;v<t.length;v++)GC(t[v],r,a,d,f);else{const v=kr(),w=Dt(),x=_e();let N=Sc(t)?t:Mn(t.provide);const K=Nr(t),J=1048575&x.providerIndexes,he=x.directiveStart,xe=x.providerIndexes>>20;if(Sc(t)||!t.multi){const je=new ud(K,f,Fe),rt=zC(N,r,f?J:J+xe,he);-1===rt?(ig(Xd(x,w),v,N),$C(v,t,r.length),r.push(N),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),a.push(je),w.push(je)):(a[rt]=je,w[rt]=je)}else{const je=zC(N,r,J+xe,he),rt=zC(N,r,J,J+xe),Xt=rt>=0&&a[rt];if(f&&!Xt||!f&&!(je>=0&&a[je])){ig(Xd(x,w),v,N);const sn=function Z2(t,r,a,d,f){const v=new ud(t,a,Fe);return v.multi=[],v.index=r,v.componentProviders=0,OT(v,f,d&&!a),v}(f?Y2:Q2,a.length,f,d,K);!f&&Xt&&(a[rt].providerFactory=sn),$C(v,t,r.length,0),r.push(N),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),a.push(sn),w.push(sn)}else $C(v,t,je>-1?je:rt,OT(a[f?rt:je],K,!f&&d));!f&&d&&Xt&&a[rt].componentProviders++}}}function $C(t,r,a,d){const f=Sc(r),v=function Qu(t){return!!t.useClass}(r);if(f||v){const N=(v?Mn(r.useClass):r).prototype.ngOnDestroy;if(N){const K=t.destroyHooks||(t.destroyHooks=[]);if(!f&&r.multi){const J=K.indexOf(a);-1===J?K.push(a,[d,N]):K[J+1].push(d,N)}else K.push(a,N)}}}function OT(t,r,a){return a&&t.componentProviders++,t.multi.push(r)-1}function zC(t,r,a,d){for(let f=a;f<d;f++)if(r[f]===t)return f;return-1}function Q2(t,r,a,d){return WC(this.multi,[])}function Y2(t,r,a,d){const f=this.multi;let v;if(this.providerFactory){const w=this.providerFactory.componentProviders,x=cu(a,a[$t],this.providerFactory.index,d);v=x.slice(0,w),WC(f,v);for(let N=w;N<x.length;N++)v.push(x[N])}else v=[],WC(f,v);return v}function WC(t,r){for(let a=0;a<t.length;a++)r.push((0,t[a])());return r}function PT(t,r=[]){return a=>{a.providersResolver=(d,f)=>function X2(t,r,a){const d=kr();if(d.firstCreatePass){const f=Ca(t);GC(a,d.data,d.blueprint,f,!0),GC(r,d.data,d.blueprint,f,!1)}}(d,f?f(t):t,r)}}let J2=(()=>{class t{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const d=yl(0,a.type),f=d.length>0?aC([d],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,f)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Tn({token:t,providedIn:"environment",factory:()=>new t(Mi(jo))})}return t})();function NT(t){$o("NgStandalone"),t.getStandaloneInjector=r=>r.get(J2).getOrCreateStandaloneInjector(t)}function FT(t,r,a,d){return BT(Dt(),Ki(),t,r,a,d)}function LT(t,r,a,d,f){return function UT(t,r,a,d,f,v,w){const x=r+a;return _m(t,x,f,v)?_h(t,x+2,w?d.call(w,f,v):d(f,v)):Kv(t,x+2)}(Dt(),Ki(),t,r,a,d,f)}function VT(t,r,a,d,f,v){return function jT(t,r,a,d,f,v,w,x){const N=r+a;return Ry(t,N,f,v,w)?_h(t,N+3,x?d.call(x,f,v,w):d(f,v,w)):Kv(t,N+3)}(Dt(),Ki(),t,r,a,d,f,v)}function Kv(t,r){const a=t[r];return a===Q?void 0:a}function BT(t,r,a,d,f,v){const w=r+a;return Qs(t,w,f)?_h(t,w+1,v?d.call(v,f):d(f)):Kv(t,w+1)}function $T(t,r){const a=kr();let d;const f=t+Pn;a.firstCreatePass?(d=function cR(t,r){if(r)for(let a=r.length-1;a>=0;a--){const d=r[a];if(t===d.name)return d}}(r,a.pipeRegistry),a.data[f]=d,d.onDestroy&&(a.destroyHooks??=[]).push(f,d.onDestroy)):d=a.data[f];const v=d.factory||(d.factory=qi(d.type)),x=we(Fe);try{const N=jh(!1),K=v();return jh(N),function L2(t,r,a,d){a>=t.data.length&&(t.data[a]=null,t.blueprint[a]=null),r[a]=d}(a,Dt(),f,K),K}finally{we(x)}}function zT(t,r,a){const d=t+Pn,f=Dt(),v=su(f,d);return function Xv(t,r){return t[$t].data[r].pure}(f,d)?BT(f,Ki(),r,v.transform,a,v):v.transform(a)}function WT(t,r){return Qg(t,r)}class ub{constructor(r){this.full=r;const a=r.split(".");this.major=a[0],this.minor=a[1],this.patch=a.slice(2).join(".")}}const kR=new ub("18.0.2");let cb=(()=>{class t{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=Tn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const pb=new er(""),gb=new er("");let ZC,aM=(()=>{class t{constructor(a,d,f){this._ngZone=a,this.registry=d,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ZC||(function uM(t){ZC=t}(f),f.addToWindow(d)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(a)||(clearTimeout(d.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,d,f){let v=-1;d&&d>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==v),a()},d)),this._callbacks.push({doneCb:a,timeoutId:v,updateCb:f})}whenStable(a,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,d,f),this._runCallbacksIfReady()}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,d,f){return[]}static#e=this.\u0275fac=function(d){return new(d||t)(Mi(zo),Mi(mb),Mi(gb))};static#t=this.\u0275prov=Tn({token:t,factory:t.\u0275fac})}return t})(),mb=(()=>{class t{constructor(){this._applications=new Map}registerApplication(a,d){this._applications.set(a,d)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,d=!0){return ZC?.findTestabilityInTree(this,a,d)??null}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=Tn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function JC(t){return!!t&&"function"==typeof t.then}function _b(t){return!!t&&"function"==typeof t.subscribe}const vb=new er("");let ew=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d}),this.appInits=vn(vb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const f of this.appInits){const v=f();if(JC(v))a.push(v);else if(_b(v)){const w=new Promise((x,N)=>{v.subscribe({complete:x,error:N})});a.push(w)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{d()}).catch(f=>{this.reject(f)}),0===a.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=Tn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Qy=new er("");let Dd=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=vn(dg),this.afterRenderEffectManager=vn(Ov),this.zonelessEnabled=vn(Ia),this.externalTestViews=new Set,this.beforeRender=new no.B,this.afterTick=new no.B,this.componentTypes=[],this.components=[],this.isStable=vn(mm).hasPendingTasks.pipe((0,Fi.T)(a=>!a)),this._injector=vn(jo)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,d){const f=a instanceof I;if(!this._injector.get(ew).done)throw!f&&Rn(a),new nn(405,!1);let w;w=f?a:this._injector.get(Tt).resolveComponentFactory(a),this.componentTypes.push(w.componentType);const x=function cM(t){return t.isBoundToModule}(w)?void 0:this._injector.get(gm),K=w.create(Ms.NULL,[],d||w.selector,x),J=K.location.nativeElement,he=K.injector.get(pb,null);return he?.registerApplication(J),K.onDestroy(()=>{this.detachView(K.hostView),Yy(this.components,K),he?.unregisterApplication(J)}),this._loadComponent(K),K}tick(){this._tick(!0)}_tick(a){if(this._runningTick)throw new nn(101,!1);const d=ye(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(a)}catch(f){this.internalErrorHandler(f)}finally{this._runningTick=!1,ye(d),this.afterTick.next()}}detectChangesInAttachedViews(a){let d=null;this._injector.destroyed||(d=this._injector.get(ln,null,{optional:!0}));let f=0;const v=this.afterRenderEffectManager;for(;f<10;){const w=0===f;if(a||!w){this.beforeRender.next(w);for(let{_lView:x,notifyErrorHandler:N}of this._views)dM(x,N,w,this.zonelessEnabled)}else d?.begin?.(),d?.end?.();if(f++,v.executeInternalCallbacks(),!this.allViews.some(({_lView:x})=>rd(x))&&(v.execute(),!this.allViews.some(({_lView:x})=>rd(x))))break}}attachView(a){const d=a;this._views.push(d),d.attachToAppRef(this)}detachView(a){const d=a;Yy(this._views,d),d.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const d=this._injector.get(Qy,[]);[...this._bootstrapListeners,...d].forEach(f=>f(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Yy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new nn(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=Tn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yy(t,r){const a=t.indexOf(r);a>-1&&t.splice(a,1)}function dM(t,r,a,d){(a||rd(t))&&qg(t,r,a&&!d?0:1)}class hM{constructor(r,a){this.ngModuleFactory=r,this.componentFactories=a}}let fM=(()=>{class t{compileModuleSync(a){return new sC(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const d=this.compileModuleSync(a),v=q(On(a).declarations).reduce((w,x)=>{const N=ke(x);return N&&w.push(new kv(N)),w},[]);return new hM(d,v)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=Tn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mM=(()=>{class t{constructor(){this.zone=vn(zo),this.changeDetectionScheduler=vn(bd),this.applicationRef=vn(Dd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=Tn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tw({ngZoneFactory:t,ignoreChangesOutsideZone:r}){return t??=()=>new zo(function nw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}()),[{provide:zo,useFactory:t},{provide:us,multi:!0,useFactory:()=>{const a=vn(mM,{optional:!0});return()=>a.initialize()}},{provide:us,multi:!0,useFactory:()=>{const a=vn(yM);return()=>{a.initialize()}}},{provide:dg,useFactory:vM},!0===r?{provide:Mv,useValue:!0}:[]]}function vM(){const t=vn(zo),r=vn(kc);return a=>t.runOutsideAngular(()=>r.handleError(a))}let yM=(()=>{class t{constructor(){this.subscription=new pr.yU,this.initialized=!1,this.zone=vn(zo),this.pendingTasks=vn(mm)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{zo.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{zo.assertInAngularZone(),a??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=Tn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Zv=(()=>{class t{constructor(){this.appRef=vn(Dd),this.taskService=vn(mm),this.ngZone=vn(zo),this.zonelessEnabled=vn(Ia),this.disableScheduling=vn(Mv,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new pr.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $E||!this.zoneIsDefined)}notify(a){if(!this.zonelessEnabled&&5===a)return;switch(a){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const d=this.useMicrotaskScheduler?K_:fm;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=d(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=d(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&zo.isInAngularZone())}tick(a){if(this.runningTick||this.appRef.destroyed)return;const d=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(a)},void 0,this.schedulerTickApplyArgs)}catch(f){throw this.taskService.remove(d),f}finally{this.cleanup()}this.useMicrotaskScheduler=!0,K_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(d)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=Tn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Jy=new er("",{providedIn:"root",factory:()=>vn(Jy,re.Optional|re.SkipSelf)||function EM(){return typeof $localize<"u"&&$localize.locale||m0}()}),CM=new er("",{providedIn:"root",factory:()=>"USD"}),iw=new er("");let Np=null;let Mb=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=bM}return t})();function bM(t){return function xM(t,r,a){if(tc(t)&&!a){const d=fr(t.index,r);return new jc(d,d)}return 47&t.type?new jc(r[Ci],r):null}(_e(),Dt(),!(16&~t))}class kb{constructor(){}supports(r){return Dy(r)}create(r){return new OM(r)}}const MM=(t,r)=>r;class OM{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||MM}forEachItem(r){let a;for(a=this._itHead;null!==a;a=a._next)r(a)}forEachOperation(r){let a=this._itHead,d=this._removalsHead,f=0,v=null;for(;a||d;){const w=!d||a&&a.currentIndex<Lb(d,f,v)?a:d,x=Lb(w,f,v),N=w.currentIndex;if(w===d)f--,d=d._nextRemoved;else if(a=a._next,null==w.previousIndex)f++;else{v||(v=[]);const K=x-f,J=N-f;if(K!=J){for(let xe=0;xe<K;xe++){const je=xe<v.length?v[xe]:v[xe]=0,rt=je+xe;J<=rt&&rt<K&&(v[xe]=je+1)}v[w.previousIndex]=J-K}}x!==N&&r(w,x,N)}}forEachPreviousItem(r){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachMovedItem(r){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}forEachIdentityChange(r){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)r(a)}diff(r){if(null==r&&(r=[]),!Dy(r))throw new nn(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let f,v,w,a=this._itHead,d=!1;if(Array.isArray(r)){this.length=r.length;for(let x=0;x<this.length;x++)v=r[x],w=this._trackByFn(x,v),null!==a&&Object.is(a.trackById,w)?(d&&(a=this._verifyReinsertion(a,v,w,x)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,w,x),d=!0),a=a._next}else f=0,function mS(t,r){if(Array.isArray(t))for(let a=0;a<t.length;a++)r(t[a]);else{const a=t[Symbol.iterator]();let d;for(;!(d=a.next()).done;)r(d.value)}}(r,x=>{w=this._trackByFn(f,x),null!==a&&Object.is(a.trackById,w)?(d&&(a=this._verifyReinsertion(a,x,w,f)),Object.is(a.item,x)||this._addIdentityChange(a,x)):(a=this._mismatch(a,x,w,f),d=!0),a=a._next,f++}),this.length=f;return this._truncate(a),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,a,d,f){let v;return null===r?v=this._itTail:(v=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._reinsertAfter(r,v,f)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._moveAfter(r,v,f)):r=this._addAfter(new PM(a,d),v,f),r}_verifyReinsertion(r,a,d,f){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==v?r=this._reinsertAfter(v,r._prev,f):r.currentIndex!=f&&(r.currentIndex=f,this._addToMoves(r,f)),r}_truncate(r){for(;null!==r;){const a=r._next;this._addToRemovals(this._unlink(r)),r=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,a,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const f=r._prevRemoved,v=r._nextRemoved;return null===f?this._removalsHead=v:f._nextRemoved=v,null===v?this._removalsTail=f:v._prevRemoved=f,this._insertAfter(r,a,d),this._addToMoves(r,d),r}_moveAfter(r,a,d){return this._unlink(r),this._insertAfter(r,a,d),this._addToMoves(r,d),r}_addAfter(r,a,d){return this._insertAfter(r,a,d),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,a,d){const f=null===a?this._itHead:a._next;return r._next=f,r._prev=a,null===f?this._itTail=r:f._prev=r,null===a?this._itHead=r:a._next=r,null===this._linkedRecords&&(this._linkedRecords=new Fb),this._linkedRecords.put(r),r.currentIndex=d,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const a=r._prev,d=r._next;return null===a?this._itHead=d:a._next=d,null===d?this._itTail=a:d._prev=a,r}_addToMoves(r,a){return r.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,a){return r.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class PM{constructor(r,a){this.item=r,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class NM{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,a){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===a||a<=d.currentIndex)&&Object.is(d.trackById,r))return d;return null}remove(r){const a=r._prevDup,d=r._nextDup;return null===a?this._head=d:a._nextDup=d,null===d?this._tail=a:d._prevDup=a,null===this._head}}class Fb{constructor(){this.map=new Map}put(r){const a=r.trackById;let d=this.map.get(a);d||(d=new NM,this.map.set(a,d)),d.add(r)}get(r,a){const f=this.map.get(r);return f?f.get(r,a):null}remove(r){const a=r.trackById;return this.map.get(a).remove(r)&&this.map.delete(a),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lb(t,r,a){const d=t.previousIndex;if(null===d)return d;let f=0;return a&&d<a.length&&(f=a[d]),d+r+f}class Vb{constructor(){}supports(r){return r instanceof Map||uC(r)}create(){return new kM}}class kM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let a;for(a=this._mapHead;null!==a;a=a._next)r(a)}forEachPreviousItem(r){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)r(a)}forEachChangedItem(r){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}diff(r){if(r){if(!(r instanceof Map||uC(r)))throw new nn(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(r,(d,f)=>{if(a&&a.key===f)this._maybeAddToChanges(a,d),this._appendAfter=a,a=a._next;else{const v=this._getOrCreateRecordForKey(f,d);a=this._insertBeforeOrAppend(a,v)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let d=a;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,a){if(r){const d=r._prev;return a._next=r,a._prev=d,r._prev=a,d&&(d._next=a),r===this._mapHead&&(this._mapHead=a),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(r,a){if(this._records.has(r)){const f=this._records.get(r);this._maybeAddToChanges(f,a);const v=f._prev,w=f._next;return v&&(v._next=w),w&&(w._prev=v),f._next=null,f._prev=null,f}const d=new FM(r);return this._records.set(r,d),d.currentValue=a,this._addToAdditions(d),d}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,a){Object.is(a,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=a,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,a){r instanceof Map?r.forEach(a):Object.keys(r).forEach(d=>a(r[d],d))}}class FM{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bb(){return new lw([new kb])}let lw=(()=>{class t{static#e=this.\u0275prov=Tn({token:t,providedIn:"root",factory:Bb});constructor(a){this.factories=a}static create(a,d){if(null!=d){const f=d.factories.slice();a=a.concat(f)}return new t(a)}static extend(a){return{provide:t,useFactory:d=>t.create(a,d||Bb()),deps:[[t,new ia,new xo]]}}find(a){const d=this.factories.find(f=>f.supports(a));if(null!=d)return d;throw new nn(901,!1)}}return t})();function Ub(){return new dw([new Vb])}let dw=(()=>{class t{static#e=this.\u0275prov=Tn({token:t,providedIn:"root",factory:Ub});constructor(a){this.factories=a}static create(a,d){if(d){const f=d.factories.slice();a=a.concat(f)}return new t(a)}static extend(a){return{provide:t,useFactory:d=>t.create(a,d||Ub()),deps:[[t,new ia,new xo]]}}find(a){const d=this.factories.find(f=>f.supports(a));if(d)return d;throw new nn(901,!1)}}return t})();function JM(t){try{const{rootComponent:r,appProviders:a,platformProviders:d}=t,f=function TM(t=[]){if(Np)return Np;const r=function Sb(t=[],r){return Ms.create({name:r,providers:[{provide:Xl,useValue:"platform"},{provide:iw,useValue:new Set([()=>Np=null])},...t]})}(t);return Np=r,function yb(){!function ki(t){en=t}(()=>{throw new nn(600,!1)})}(),function Db(t){t.get(Zm,null)?.forEach(a=>a())}(r),r}(d),v=[tw({}),{provide:bd,useExisting:Zv},...a||[]],x=new gI({providers:v,parent:f,debugName:"",runEnvironmentInitializers:!1}).injector,N=x.get(zo);return N.run(()=>{x.resolveInjectorInitializers();const K=x.get(kc,null);let J;N.runOutsideAngular(()=>{J=N.onError.subscribe({next:je=>{K.handleError(je)}})});const he=()=>x.destroy(),xe=f.get(iw);return xe.add(he),x.onDestroy(()=>{J.unsubscribe(),xe.delete(he)}),function Eb(t,r,a){try{const d=a();return JC(d)?d.catch(f=>{throw r.runOutsideAngular(()=>t.handleError(f)),f}):d}catch(d){throw r.runOutsideAngular(()=>t.handleError(d)),d}}(K,N,()=>{const je=x.get(ew);return je.runInitializers(),je.donePromise.then(()=>{!function SA(t){"string"==typeof t&&(xA=t.toLowerCase().replace(/_/g,"-"))}(x.get(Jy,m0)||m0);const Rt=x.get(Dd);return void 0!==r&&Rt.bootstrap(r),Rt})})})}catch(r){return Promise.reject(r)}}function EO(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function wO(t){const r=ye(null);try{return t()}finally{ye(r)}}function SO(t){const r=ke(t);if(!r)return null;const a=new kv(r);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},7440:(Cn,bt,ie)=>{ie.d(bt,{MW:()=>Et,Wp:()=>hn,XU:()=>Oe,gL:()=>nt});var D=ie(2214),O=ie(3953),U=ie(3586);class Oe{constructor(it){return it}}class nt{constructor(){return(0,D.Dk)()}}const Xe=new O.nKC("angularfire2._apps"),lt={provide:Oe,useFactory:function xt(Je){return Je&&1===Je.length?Je[0]:new Oe((0,D.Sx)())},deps:[[new O.Xx1,Xe]]},Ee={provide:nt,deps:[[new O.Xx1,Xe]]};function Te(Je){return(it,_t)=>{const ut=_t.get(O.Agw);(0,D.KO)("angularfire",U.xv.full,"core"),(0,D.KO)("angularfire",U.xv.full,"app"),(0,D.KO)("angular",O.xvI.full,ut.toString());const Mt=it.runOutsideAngular(()=>Je(_t));return new Oe(Mt)}}function Et(Je,...it){return(0,O.EmA)([lt,Ee,{provide:Xe,useFactory:Te(Je),multi:!0,deps:[O.SKi,O.zZn,U.u0,...it]}])}const hn=(0,U.S3)(D.Wp,!0)},6335:(Cn,bt,ie)=>{ie.d(bt,{Nj:()=>Te,DF:()=>Me,wh:()=>Pt,eJ:()=>yn,xI:()=>en,_q:()=>An,x9:()=>on,df:()=>xi});var D=ie(3586),O=ie(3953),U=ie(7440),Oe=ie(2214),nt=ie(6114),ye=ie(1985);function xt(lr){return new ye.c(function(fe){return{unsubscribe:(0,nt.hg)(lr,fe.next.bind(fe),fe.error.bind(fe),fe.complete.bind(fe))}})}class Te{constructor(fe){return fe}}class Me{constructor(){return(0,D.CA)("auth")}}const We=new O.nKC("angularfire2.auth-instances");function Ut(lr){return(fe,tt)=>{const Ae=fe.runOutsideAngular(()=>lr(tt));return new Te(Ae)}}const hn={provide:Me,deps:[[new O.Xx1,We]]},Wt={provide:Te,useFactory:function It(lr,fe){const tt=(0,D.lR)("auth",lr,fe);return tt&&new Te(tt)},deps:[[new O.Xx1,We],U.XU]};function An(lr,...fe){return(0,Oe.KO)("angularfire",D.xv.full,"auth"),(0,O.EmA)([Wt,hn,{provide:We,useFactory:Ut(lr),multi:!0,deps:[O.SKi,O.zZn,D.u0,U.gL,[new O.Xx1,D.Jv],...fe]}])}const Pt=(0,D.S3)(xt,!0),yn=(0,D.S3)(nt.eJ,!0),en=(0,D.S3)(nt.xI,!0),on=(0,D.S3)(nt.x9,!0),xi=(0,D.S3)(nt.df,!0)},2418:(Cn,bt,ie)=>{ie.d(bt,{_7:()=>ch,gS:()=>R1,rJ:()=>u,xs:()=>iv,kd:()=>T,H9:()=>q,x7:()=>Kt,GG:()=>ir,aU:()=>po,hV:()=>nv,P:()=>N1,mZ:()=>F1,_M:()=>Vg});var Et,We,D=ie(3586),O=ie(3953),U=ie(7440),Oe=ie(6335),nt=ie(2214),ye=ie(467),xt=ie(7852),Xe=ie(1362),lt=ie(8041),Ee=ie(1076),Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me={};(function(){var p;function h(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function _(Ze,Re,$e){$e||($e=0);var et=Array(16);if("string"==typeof Re)for(var st=0;16>st;++st)et[st]=Re.charCodeAt($e++)|Re.charCodeAt($e++)<<8|Re.charCodeAt($e++)<<16|Re.charCodeAt($e++)<<24;else for(st=0;16>st;++st)et[st]=Re[$e++]|Re[$e++]<<8|Re[$e++]<<16|Re[$e++]<<24;var Ct=Ze.g[3],Be=(Re=Ze.g[0])+(Ct^($e=Ze.g[1])&((st=Ze.g[2])^Ct))+et[0]+3614090360&4294967295;Be=($e=(st=(Ct=(Re=($e=(st=(Ct=(Re=($e=(st=(Ct=(Re=($e=(st=(Ct=(Re=($e=(st=(Ct=(Re=($e=(st=(Ct=(Re=($e=(st=(Ct=(Re=($e=(st=(Ct=(Re=($e=(st=(Ct=(Re=($e=(st=(Ct=(Re=($e=(st=(Ct=(Re=($e=(st=(Ct=(Re=($e=(st=(Ct=(Re=($e=(st=(Ct=(Re=($e=(st=(Ct=(Re=$e+(Be<<7&4294967295|Be>>>25))+((Be=Ct+(st^Re&($e^st))+et[1]+3905402710&4294967295)<<12&4294967295|Be>>>20))+((Be=st+($e^Ct&(Re^$e))+et[2]+606105819&4294967295)<<17&4294967295|Be>>>15))+((Be=$e+(Re^st&(Ct^Re))+et[3]+3250441966&4294967295)<<22&4294967295|Be>>>10))+((Be=Re+(Ct^$e&(st^Ct))+et[4]+4118548399&4294967295)<<7&4294967295|Be>>>25))+((Be=Ct+(st^Re&($e^st))+et[5]+1200080426&4294967295)<<12&4294967295|Be>>>20))+((Be=st+($e^Ct&(Re^$e))+et[6]+2821735955&4294967295)<<17&4294967295|Be>>>15))+((Be=$e+(Re^st&(Ct^Re))+et[7]+4249261313&4294967295)<<22&4294967295|Be>>>10))+((Be=Re+(Ct^$e&(st^Ct))+et[8]+1770035416&4294967295)<<7&4294967295|Be>>>25))+((Be=Ct+(st^Re&($e^st))+et[9]+2336552879&4294967295)<<12&4294967295|Be>>>20))+((Be=st+($e^Ct&(Re^$e))+et[10]+4294925233&4294967295)<<17&4294967295|Be>>>15))+((Be=$e+(Re^st&(Ct^Re))+et[11]+2304563134&4294967295)<<22&4294967295|Be>>>10))+((Be=Re+(Ct^$e&(st^Ct))+et[12]+1804603682&4294967295)<<7&4294967295|Be>>>25))+((Be=Ct+(st^Re&($e^st))+et[13]+4254626195&4294967295)<<12&4294967295|Be>>>20))+((Be=st+($e^Ct&(Re^$e))+et[14]+2792965006&4294967295)<<17&4294967295|Be>>>15))+((Be=$e+(Re^st&(Ct^Re))+et[15]+1236535329&4294967295)<<22&4294967295|Be>>>10))+((Be=Re+(st^Ct&($e^st))+et[1]+4129170786&4294967295)<<5&4294967295|Be>>>27))+((Be=Ct+($e^st&(Re^$e))+et[6]+3225465664&4294967295)<<9&4294967295|Be>>>23))+((Be=st+(Re^$e&(Ct^Re))+et[11]+643717713&4294967295)<<14&4294967295|Be>>>18))+((Be=$e+(Ct^Re&(st^Ct))+et[0]+3921069994&4294967295)<<20&4294967295|Be>>>12))+((Be=Re+(st^Ct&($e^st))+et[5]+3593408605&4294967295)<<5&4294967295|Be>>>27))+((Be=Ct+($e^st&(Re^$e))+et[10]+38016083&4294967295)<<9&4294967295|Be>>>23))+((Be=st+(Re^$e&(Ct^Re))+et[15]+3634488961&4294967295)<<14&4294967295|Be>>>18))+((Be=$e+(Ct^Re&(st^Ct))+et[4]+3889429448&4294967295)<<20&4294967295|Be>>>12))+((Be=Re+(st^Ct&($e^st))+et[9]+568446438&4294967295)<<5&4294967295|Be>>>27))+((Be=Ct+($e^st&(Re^$e))+et[14]+3275163606&4294967295)<<9&4294967295|Be>>>23))+((Be=st+(Re^$e&(Ct^Re))+et[3]+4107603335&4294967295)<<14&4294967295|Be>>>18))+((Be=$e+(Ct^Re&(st^Ct))+et[8]+1163531501&4294967295)<<20&4294967295|Be>>>12))+((Be=Re+(st^Ct&($e^st))+et[13]+2850285829&4294967295)<<5&4294967295|Be>>>27))+((Be=Ct+($e^st&(Re^$e))+et[2]+4243563512&4294967295)<<9&4294967295|Be>>>23))+((Be=st+(Re^$e&(Ct^Re))+et[7]+1735328473&4294967295)<<14&4294967295|Be>>>18))+((Be=$e+(Ct^Re&(st^Ct))+et[12]+2368359562&4294967295)<<20&4294967295|Be>>>12))+((Be=Re+($e^st^Ct)+et[5]+4294588738&4294967295)<<4&4294967295|Be>>>28))+((Be=Ct+(Re^$e^st)+et[8]+2272392833&4294967295)<<11&4294967295|Be>>>21))+((Be=st+(Ct^Re^$e)+et[11]+1839030562&4294967295)<<16&4294967295|Be>>>16))+((Be=$e+(st^Ct^Re)+et[14]+4259657740&4294967295)<<23&4294967295|Be>>>9))+((Be=Re+($e^st^Ct)+et[1]+2763975236&4294967295)<<4&4294967295|Be>>>28))+((Be=Ct+(Re^$e^st)+et[4]+1272893353&4294967295)<<11&4294967295|Be>>>21))+((Be=st+(Ct^Re^$e)+et[7]+4139469664&4294967295)<<16&4294967295|Be>>>16))+((Be=$e+(st^Ct^Re)+et[10]+3200236656&4294967295)<<23&4294967295|Be>>>9))+((Be=Re+($e^st^Ct)+et[13]+681279174&4294967295)<<4&4294967295|Be>>>28))+((Be=Ct+(Re^$e^st)+et[0]+3936430074&4294967295)<<11&4294967295|Be>>>21))+((Be=st+(Ct^Re^$e)+et[3]+3572445317&4294967295)<<16&4294967295|Be>>>16))+((Be=$e+(st^Ct^Re)+et[6]+76029189&4294967295)<<23&4294967295|Be>>>9))+((Be=Re+($e^st^Ct)+et[9]+3654602809&4294967295)<<4&4294967295|Be>>>28))+((Be=Ct+(Re^$e^st)+et[12]+3873151461&4294967295)<<11&4294967295|Be>>>21))+((Be=st+(Ct^Re^$e)+et[15]+530742520&4294967295)<<16&4294967295|Be>>>16))+((Be=$e+(st^Ct^Re)+et[2]+3299628645&4294967295)<<23&4294967295|Be>>>9))+((Be=Re+(st^($e|~Ct))+et[0]+4096336452&4294967295)<<6&4294967295|Be>>>26))+((Be=Ct+($e^(Re|~st))+et[7]+1126891415&4294967295)<<10&4294967295|Be>>>22))+((Be=st+(Re^(Ct|~$e))+et[14]+2878612391&4294967295)<<15&4294967295|Be>>>17))+((Be=$e+(Ct^(st|~Re))+et[5]+4237533241&4294967295)<<21&4294967295|Be>>>11))+((Be=Re+(st^($e|~Ct))+et[12]+1700485571&4294967295)<<6&4294967295|Be>>>26))+((Be=Ct+($e^(Re|~st))+et[3]+2399980690&4294967295)<<10&4294967295|Be>>>22))+((Be=st+(Re^(Ct|~$e))+et[10]+4293915773&4294967295)<<15&4294967295|Be>>>17))+((Be=$e+(Ct^(st|~Re))+et[1]+2240044497&4294967295)<<21&4294967295|Be>>>11))+((Be=Re+(st^($e|~Ct))+et[8]+1873313359&4294967295)<<6&4294967295|Be>>>26))+((Be=Ct+($e^(Re|~st))+et[15]+4264355552&4294967295)<<10&4294967295|Be>>>22))+((Be=st+(Re^(Ct|~$e))+et[6]+2734768916&4294967295)<<15&4294967295|Be>>>17))+((Be=$e+(Ct^(st|~Re))+et[13]+1309151649&4294967295)<<21&4294967295|Be>>>11))+((Ct=(Re=$e+((Be=Re+(st^($e|~Ct))+et[4]+4149444226&4294967295)<<6&4294967295|Be>>>26))+((Be=Ct+($e^(Re|~st))+et[11]+3174756917&4294967295)<<10&4294967295|Be>>>22))^((st=Ct+((Be=st+(Re^(Ct|~$e))+et[2]+718787259&4294967295)<<15&4294967295|Be>>>17))|~Re))+et[9]+3951481745&4294967295,Ze.g[0]=Ze.g[0]+Re&4294967295,Ze.g[1]=Ze.g[1]+(st+(Be<<21&4294967295|Be>>>11))&4294967295,Ze.g[2]=Ze.g[2]+st&4294967295,Ze.g[3]=Ze.g[3]+Ct&4294967295}function b(Ze,Re){this.h=Re;for(var $e=[],et=!0,st=Ze.length-1;0<=st;st--){var Ct=0|Ze[st];et&&Ct==Re||($e[st]=Ct,et=!1)}this.g=$e}(function o(Ze,Re){function $e(){}$e.prototype=Re.prototype,Ze.D=Re.prototype,Ze.prototype=new $e,Ze.prototype.constructor=Ze,Ze.C=function(et,st,Ct){for(var Be=Array(arguments.length-2),Cd=2;Cd<arguments.length;Cd++)Be[Cd-2]=arguments[Cd];return Re.prototype[st].apply(et,Be)}})(h,function c(){this.blockSize=-1}),h.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},h.prototype.u=function(Ze,Re){void 0===Re&&(Re=Ze.length);for(var $e=Re-this.blockSize,et=this.B,st=this.h,Ct=0;Ct<Re;){if(0==st)for(;Ct<=$e;)_(this,Ze,Ct),Ct+=this.blockSize;if("string"==typeof Ze){for(;Ct<Re;)if(et[st++]=Ze.charCodeAt(Ct++),st==this.blockSize){_(this,et),st=0;break}}else for(;Ct<Re;)if(et[st++]=Ze[Ct++],st==this.blockSize){_(this,et),st=0;break}}this.h=st,this.o+=Re},h.prototype.v=function(){var Ze=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ze[0]=128;for(var Re=1;Re<Ze.length-8;++Re)Ze[Re]=0;var $e=8*this.o;for(Re=Ze.length-8;Re<Ze.length;++Re)Ze[Re]=255&$e,$e/=256;for(this.u(Ze),Ze=Array(16),Re=$e=0;4>Re;++Re)for(var et=0;32>et;et+=8)Ze[$e++]=this.g[Re]>>>et&255;return Ze};var L={};function G(Ze){return-128<=Ze&&128>Ze?function C(Ze,Re){var $e=L;return Object.prototype.hasOwnProperty.call($e,Ze)?$e[Ze]:$e[Ze]=Re(Ze)}(Ze,function(Re){return new b([0|Re],0>Re?-1:0)}):new b([0|Ze],0>Ze?-1:0)}function Q(Ze){if(isNaN(Ze)||!isFinite(Ze))return Ce;if(0>Ze)return jt(Q(-Ze));for(var Re=[],$e=1,et=0;Ze>=$e;et++)Re[et]=Ze/$e|0,$e*=4294967296;return new b(Re,0)}var Ce=G(0),Fe=G(1),gt=G(16777216);function Lt(Ze){if(0!=Ze.h)return!1;for(var Re=0;Re<Ze.g.length;Re++)if(0!=Ze.g[Re])return!1;return!0}function Zt(Ze){return-1==Ze.h}function jt(Ze){for(var Re=Ze.g.length,$e=[],et=0;et<Re;et++)$e[et]=~Ze.g[et];return new b($e,~Ze.h).add(Fe)}function xn(Ze,Re){return Ze.add(jt(Re))}function $n(Ze,Re){for(;(65535&Ze[Re])!=Ze[Re];)Ze[Re+1]+=Ze[Re]>>>16,Ze[Re]&=65535,Re++}function kn(Ze,Re){this.g=Ze,this.h=Re}function mr(Ze,Re){if(Lt(Re))throw Error("division by zero");if(Lt(Ze))return new kn(Ce,Ce);if(Zt(Ze))return Re=mr(jt(Ze),Re),new kn(jt(Re.g),jt(Re.h));if(Zt(Re))return Re=mr(Ze,jt(Re)),new kn(jt(Re.g),Re.h);if(30<Ze.g.length){if(Zt(Ze)||Zt(Re))throw Error("slowDivide_ only works with positive integers.");for(var $e=Fe,et=Re;0>=et.l(Ze);)$e=ai($e),et=ai(et);var st=Dr($e,1),Ct=Dr(et,1);for(et=Dr(et,2),$e=Dr($e,2);!Lt(et);){var Be=Ct.add(et);0>=Be.l(Ze)&&(st=st.add($e),Ct=Be),et=Dr(et,1),$e=Dr($e,1)}return Re=xn(Ze,st.j(Re)),new kn(st,Re)}for(st=Ce;0<=Ze.l(Re);){for($e=Math.max(1,Math.floor(Ze.m()/Re.m())),et=48>=(et=Math.ceil(Math.log($e)/Math.LN2))?1:Math.pow(2,et-48),Be=(Ct=Q($e)).j(Re);Zt(Be)||0<Be.l(Ze);)Be=(Ct=Q($e-=et)).j(Re);Lt(Ct)&&(Ct=Fe),st=st.add(Ct),Ze=xn(Ze,Be)}return new kn(st,Ze)}function ai(Ze){for(var Re=Ze.g.length+1,$e=[],et=0;et<Re;et++)$e[et]=Ze.i(et)<<1|Ze.i(et-1)>>>31;return new b($e,Ze.h)}function Dr(Ze,Re){var $e=Re>>5;Re%=32;for(var et=Ze.g.length-$e,st=[],Ct=0;Ct<et;Ct++)st[Ct]=0<Re?Ze.i(Ct+$e)>>>Re|Ze.i(Ct+$e+1)<<32-Re:Ze.i(Ct+$e);return new b(st,Ze.h)}(p=b.prototype).m=function(){if(Zt(this))return-jt(this).m();for(var Ze=0,Re=1,$e=0;$e<this.g.length;$e++){var et=this.i($e);Ze+=(0<=et?et:4294967296+et)*Re,Re*=4294967296}return Ze},p.toString=function(Ze){if(2>(Ze=Ze||10)||36<Ze)throw Error("radix out of range: "+Ze);if(Lt(this))return"0";if(Zt(this))return"-"+jt(this).toString(Ze);for(var Re=Q(Math.pow(Ze,6)),$e=this,et="";;){var st=mr($e,Re).g,Ct=((0<($e=xn($e,st.j(Re))).g.length?$e.g[0]:$e.h)>>>0).toString(Ze);if(Lt($e=st))return Ct+et;for(;6>Ct.length;)Ct="0"+Ct;et=Ct+et}},p.i=function(Ze){return 0>Ze?0:Ze<this.g.length?this.g[Ze]:this.h},p.l=function(Ze){return Zt(Ze=xn(this,Ze))?-1:Lt(Ze)?0:1},p.abs=function(){return Zt(this)?jt(this):this},p.add=function(Ze){for(var Re=Math.max(this.g.length,Ze.g.length),$e=[],et=0,st=0;st<=Re;st++){var Ct=et+(65535&this.i(st))+(65535&Ze.i(st)),Be=(Ct>>>16)+(this.i(st)>>>16)+(Ze.i(st)>>>16);et=Be>>>16,$e[st]=(Be&=65535)<<16|(Ct&=65535)}return new b($e,-2147483648&$e[$e.length-1]?-1:0)},p.j=function(Ze){if(Lt(this)||Lt(Ze))return Ce;if(Zt(this))return Zt(Ze)?jt(this).j(jt(Ze)):jt(jt(this).j(Ze));if(Zt(Ze))return jt(this.j(jt(Ze)));if(0>this.l(gt)&&0>Ze.l(gt))return Q(this.m()*Ze.m());for(var Re=this.g.length+Ze.g.length,$e=[],et=0;et<2*Re;et++)$e[et]=0;for(et=0;et<this.g.length;et++)for(var st=0;st<Ze.g.length;st++){var Ct=this.i(et)>>>16,Be=65535&this.i(et),Cd=Ze.i(st)>>>16,Bg=65535&Ze.i(st);$e[2*et+2*st]+=Be*Bg,$n($e,2*et+2*st),$e[2*et+2*st+1]+=Ct*Bg,$n($e,2*et+2*st+1),$e[2*et+2*st+1]+=Be*Cd,$n($e,2*et+2*st+1),$e[2*et+2*st+2]+=Ct*Cd,$n($e,2*et+2*st+2)}for(et=0;et<Re;et++)$e[et]=$e[2*et+1]<<16|$e[2*et];for(et=Re;et<2*Re;et++)$e[et]=0;return new b($e,0)},p.A=function(Ze){return mr(this,Ze).h},p.and=function(Ze){for(var Re=Math.max(this.g.length,Ze.g.length),$e=[],et=0;et<Re;et++)$e[et]=this.i(et)&Ze.i(et);return new b($e,this.h&Ze.h)},p.or=function(Ze){for(var Re=Math.max(this.g.length,Ze.g.length),$e=[],et=0;et<Re;et++)$e[et]=this.i(et)|Ze.i(et);return new b($e,this.h|Ze.h)},p.xor=function(Ze){for(var Re=Math.max(this.g.length,Ze.g.length),$e=[],et=0;et<Re;et++)$e[et]=this.i(et)^Ze.i(et);return new b($e,this.h^Ze.h)},h.prototype.digest=h.prototype.v,h.prototype.reset=h.prototype.s,h.prototype.update=h.prototype.u,We=Me.Md5=h,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=Q,b.fromString=function ue(Ze,Re){if(0==Ze.length)throw Error("number format error: empty string");if(2>(Re=Re||10)||36<Re)throw Error("radix out of range: "+Re);if("-"==Ze.charAt(0))return jt(ue(Ze.substring(1),Re));if(0<=Ze.indexOf("-"))throw Error('number format error: interior "-" character');for(var $e=Q(Math.pow(Re,8)),et=Ce,st=0;st<Ze.length;st+=8){var Ct=Math.min(8,Ze.length-st),Be=parseInt(Ze.substring(st,st+Ct),Re);8>Ct?(Ct=Q(Math.pow(Re,Ct)),et=et.j(Ct).add(Q(Be))):et=(et=et.j($e)).add(Q(Be))}return et},Et=Me.Integer=b}).apply(typeof Te<"u"?Te:typeof self<"u"?self:typeof window<"u"?window:{});var hn,Wt,Kn,An,Pt,Je,it,_t,ut,It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ut={};(function(){var p,o="function"==typeof Object.defineProperties?Object.defineProperty:function(I,z,ee){return I==Array.prototype||I==Object.prototype||(I[z]=ee.value),I},h=function c(I){I=["object"==typeof globalThis&&globalThis,I,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof It&&It];for(var z=0;z<I.length;++z){var ee=I[z];if(ee&&ee.Math==Math)return ee}throw Error("Cannot find global object")}(this);!function _(I,z){if(z)e:{var ee=h;I=I.split(".");for(var me=0;me<I.length-1;me++){var ct=I[me];if(!(ct in ee))break e;ee=ee[ct]}(z=z(me=ee[I=I[I.length-1]]))!=me&&null!=z&&o(ee,I,{configurable:!0,writable:!0,value:z})}}("Array.prototype.values",function(I){return I||function(){return function C(I,z){I instanceof String&&(I+="");var ee=0,me=!1,ct={next:function(){if(!me&&ee<I.length){var Tt=ee++;return{value:z(Tt,I[Tt]),done:!1}}return me=!0,{done:!0,value:void 0}}};return ct[Symbol.iterator]=function(){return ct},ct}(this,function(z,ee){return ee})}});var b=b||{},L=this||self;function G(I){var z=typeof I;return"array"==(z="object"!=z?z:I?Array.isArray(I)?"array":z:"null")||"object"==z&&"number"==typeof I.length}function Q(I){var z=typeof I;return"object"==z&&null!=I||"function"==z}function ue(I,z,ee){return I.call.apply(I.bind,arguments)}function Ce(I,z,ee){if(!I)throw Error();if(2<arguments.length){var me=Array.prototype.slice.call(arguments,2);return function(){var ct=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ct,me),I.apply(z,ct)}}return function(){return I.apply(z,arguments)}}function Fe(I,z,ee){return(Fe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ue:Ce).apply(null,arguments)}function gt(I,z){var ee=Array.prototype.slice.call(arguments,1);return function(){var me=ee.slice();return me.push.apply(me,arguments),I.apply(this,me)}}function Lt(I,z){function ee(){}ee.prototype=z.prototype,I.aa=z.prototype,I.prototype=new ee,I.prototype.constructor=I,I.Qb=function(me,ct,Tt){for(var ln=Array(arguments.length-2),oo=2;oo<arguments.length;oo++)ln[oo-2]=arguments[oo];return z.prototype[ct].apply(me,ln)}}function Zt(I){const z=I.length;if(0<z){const ee=Array(z);for(let me=0;me<z;me++)ee[me]=I[me];return ee}return[]}function jt(I,z){for(let ee=1;ee<arguments.length;ee++){const me=arguments[ee];if(G(me)){const ct=I.length||0,Tt=me.length||0;I.length=ct+Tt;for(let ln=0;ln<Tt;ln++)I[ct+ln]=me[ln]}else I.push(me)}}function $n(I){return/^[\s\xa0]*$/.test(I)}function kn(){var I=L.navigator;return I&&(I=I.userAgent)?I:""}function mr(I){return mr[" "](I),I}mr[" "]=function(){};var ai=!(-1==kn().indexOf("Gecko")||-1!=kn().toLowerCase().indexOf("webkit")&&-1==kn().indexOf("Edge")||-1!=kn().indexOf("Trident")||-1!=kn().indexOf("MSIE")||-1!=kn().indexOf("Edge"));function Dr(I,z,ee){for(const me in I)z.call(ee,I[me],me,I)}function Re(I){const z={};for(const ee in I)z[ee]=I[ee];return z}const $e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(I,z){let ee,me;for(let ct=1;ct<arguments.length;ct++){for(ee in me=arguments[ct],me)I[ee]=me[ee];for(let Tt=0;Tt<$e.length;Tt++)ee=$e[Tt],Object.prototype.hasOwnProperty.call(me,ee)&&(I[ee]=me[ee])}}function st(I){var z=1;I=I.split(":");const ee=[];for(;0<z&&I.length;)ee.push(I.shift()),z--;return I.length&&ee.push(I.join(":")),ee}function Ct(I){L.setTimeout(()=>{throw I},0)}function Be(){var I=D_;let z=null;return I.g&&(z=I.g,I.g=I.g.next,I.g||(I.h=null),z.next=null),z}var Bg=new class xn{constructor(z,ee){this.i=z,this.j=ee,this.h=0,this.g=null}get(){let z;return 0<this.h?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}(()=>new bE,I=>I.reset());class bE{constructor(){this.next=this.g=this.h=null}set(z,ee){this.h=z,this.g=ee,this.next=null}reset(){this.next=this.g=this.h=null}}let Ug,Ep=!1,D_=new class Cd{constructor(){this.h=this.g=null}add(z,ee){const me=Bg.get();me.set(z,ee),this.h?this.h.next=me:this.g=me,this.h=me}},V1=()=>{const I=L.Promise.resolve(void 0);Ug=()=>{I.then(xE)}};var xE=()=>{for(var I;I=Be();){try{I.h.call(I.g)}catch(ee){Ct(ee)}var z=Bg;z.j(I),100>z.h&&(z.h++,I.next=z.g,z.g=I)}Ep=!1};function gs(){this.s=this.s,this.C=this.C}function ja(I,z){this.type=I,this.g=this.target=z,this.defaultPrevented=!1}gs.prototype.s=!1,gs.prototype.ma=function(){this.s||(this.s=!0,this.N())},gs.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ja.prototype.h=function(){this.defaultPrevented=!0};var SE=function(){if(!L.addEventListener||!Object.defineProperty)return!1;var I=!1,z=Object.defineProperty({},"passive",{get:function(){I=!0}});try{const ee=()=>{};L.addEventListener("test",ee,z),L.removeEventListener("test",ee,z)}catch{}return I}();function R_(I,z){if(ja.call(this,I?I.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,I){var ee=this.type=I.type,me=I.changedTouches&&I.changedTouches.length?I.changedTouches[0]:null;if(this.target=I.target||I.srcElement,this.g=z,z=I.relatedTarget){if(ai){e:{try{mr(z.nodeName);var ct=!0;break e}catch{}ct=!1}ct||(z=null)}}else"mouseover"==ee?z=I.fromElement:"mouseout"==ee&&(z=I.toElement);this.relatedTarget=z,me?(this.clientX=void 0!==me.clientX?me.clientX:me.pageX,this.clientY=void 0!==me.clientY?me.clientY:me.pageY,this.screenX=me.screenX||0,this.screenY=me.screenY||0):(this.clientX=void 0!==I.clientX?I.clientX:I.pageX,this.clientY=void 0!==I.clientY?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0),this.button=I.button,this.key=I.key||"",this.ctrlKey=I.ctrlKey,this.altKey=I.altKey,this.shiftKey=I.shiftKey,this.metaKey=I.metaKey,this.pointerId=I.pointerId||0,this.pointerType="string"==typeof I.pointerType?I.pointerType:uv[I.pointerType]||"",this.state=I.state,this.i=I,I.defaultPrevented&&R_.aa.h.call(this)}}Lt(R_,ja);var uv={2:"touch",3:"pen",4:"mouse"};R_.prototype.h=function(){R_.aa.h.call(this);var I=this.i;I.preventDefault?I.preventDefault():I.returnValue=!1};var Cp="closure_listenable_"+(1e6*Math.random()|0),DE=0;function RE(I,z,ee,me,ct){this.listener=I,this.proxy=null,this.src=z,this.type=ee,this.capture=!!me,this.ha=ct,this.key=++DE,this.da=this.fa=!1}function M_(I){I.da=!0,I.listener=null,I.proxy=null,I.src=null,I.ha=null}function jg(I){this.src=I,this.g={},this.h=0}function cv(I,z){var ee=z.type;if(ee in I.g){var Tt,me=I.g[ee],ct=Array.prototype.indexOf.call(me,z,void 0);(Tt=0<=ct)&&Array.prototype.splice.call(me,ct,1),Tt&&(M_(z),0==I.g[ee].length&&(delete I.g[ee],I.h--))}}function lv(I,z,ee,me){for(var ct=0;ct<I.length;++ct){var Tt=I[ct];if(!Tt.da&&Tt.listener==z&&Tt.capture==!!ee&&Tt.ha==me)return ct}return-1}jg.prototype.add=function(I,z,ee,me,ct){var Tt=I.toString();(I=this.g[Tt])||(I=this.g[Tt]=[],this.h++);var ln=lv(I,z,me,ct);return-1<ln?(z=I[ln],ee||(z.fa=!1)):((z=new RE(z,this.src,Tt,!!me,ct)).fa=ee,I.push(z)),z};var Hg="closure_lm_"+(1e6*Math.random()|0),dv={};function B1(I,z,ee,me,ct){if(me&&me.once)return j1(I,z,ee,me,ct);if(Array.isArray(z)){for(var Tt=0;Tt<z.length;Tt++)B1(I,z[Tt],ee,me,ct);return null}return ee=wp(ee),I&&I[Cp]?I.K(z,ee,Q(me)?!!me.capture:!!me,ct):U1(I,z,ee,!1,me,ct)}function U1(I,z,ee,me,ct,Tt){if(!z)throw Error("Invalid event type");var ln=Q(ct)?!!ct.capture:!!ct,oo=O_(I);if(oo||(I[Hg]=oo=new jg(I)),(ee=oo.add(z,ee,me,ln,Tt)).proxy)return ee;if(me=function ME(){const z=OE;return function I(ee){return z.call(I.src,I.listener,ee)}}(),ee.proxy=me,me.src=I,me.listener=ee,I.addEventListener)SE||(ct=ln),void 0===ct&&(ct=!1),I.addEventListener(z.toString(),me,ct);else if(I.attachEvent)I.attachEvent(H1(z.toString()),me);else{if(!I.addListener||!I.removeListener)throw Error("addEventListener and attachEvent are unavailable.");I.addListener(me)}return ee}function j1(I,z,ee,me,ct){if(Array.isArray(z)){for(var Tt=0;Tt<z.length;Tt++)j1(I,z[Tt],ee,me,ct);return null}return ee=wp(ee),I&&I[Cp]?I.L(z,ee,Q(me)?!!me.capture:!!me,ct):U1(I,z,ee,!0,me,ct)}function dl(I,z,ee,me,ct){if(Array.isArray(z))for(var Tt=0;Tt<z.length;Tt++)dl(I,z[Tt],ee,me,ct);else me=Q(me)?!!me.capture:!!me,ee=wp(ee),I&&I[Cp]?(I=I.i,(z=String(z).toString())in I.g&&-1<(ee=lv(Tt=I.g[z],ee,me,ct))&&(M_(Tt[ee]),Array.prototype.splice.call(Tt,ee,1),0==Tt.length&&(delete I.g[z],I.h--))):I&&(I=O_(I))&&(z=I.g[z.toString()],I=-1,z&&(I=lv(z,ee,me,ct)),(ee=-1<I?z[I]:null)&&Gg(ee))}function Gg(I){if("number"!=typeof I&&I&&!I.da){var z=I.src;if(z&&z[Cp])cv(z.i,I);else{var ee=I.type,me=I.proxy;z.removeEventListener?z.removeEventListener(ee,me,I.capture):z.detachEvent?z.detachEvent(H1(ee),me):z.addListener&&z.removeListener&&z.removeListener(me),(ee=O_(z))?(cv(ee,I),0==ee.h&&(ee.src=null,z[Hg]=null)):M_(I)}}}function H1(I){return I in dv?dv[I]:dv[I]="on"+I}function OE(I,z){if(I.da)I=!0;else{z=new R_(z,this);var ee=I.listener,me=I.ha||I.src;I.fa&&Gg(I),I=ee.call(me,z)}return I}function O_(I){return(I=I[Hg])instanceof jg?I:null}var P_="__closure_events_fn_"+(1e9*Math.random()>>>0);function wp(I){return"function"==typeof I?I:(I[P_]||(I[P_]=function(z){return I.handleEvent(z)}),I[P_])}function oa(){gs.call(this),this.i=new jg(this),this.M=this,this.F=null}function ku(I,z){var ee,me=I.F;if(me)for(ee=[];me;me=me.F)ee.push(me);if(I=I.M,me=z.type||z,"string"==typeof z)z=new ja(z,I);else if(z instanceof ja)z.target=z.target||I;else{var ct=z;et(z=new ja(me,I),ct)}if(ct=!0,ee)for(var Tt=ee.length-1;0<=Tt;Tt--){var ln=z.g=ee[Tt];ct=$g(ln,me,!0,z)&&ct}if(ct=$g(ln=z.g=I,me,!0,z)&&ct,ct=$g(ln,me,!1,z)&&ct,ee)for(Tt=0;Tt<ee.length;Tt++)ct=$g(ln=z.g=ee[Tt],me,!1,z)&&ct}function $g(I,z,ee,me){if(!(z=I.i.g[String(z)]))return!0;z=z.concat();for(var ct=!0,Tt=0;Tt<z.length;++Tt){var ln=z[Tt];if(ln&&!ln.da&&ln.capture==ee){var oo=ln.listener,Aa=ln.ha||ln.src;ln.fa&&cv(I.i,ln),ct=!1!==oo.call(Aa,me)&&ct}}return ct&&!me.defaultPrevented}function hv(I,z,ee){if("function"==typeof I)ee&&(I=Fe(I,ee));else{if(!I||"function"!=typeof I.handleEvent)throw Error("Invalid listener argument");I=Fe(I.handleEvent,I)}return 2147483647<Number(z)?-1:L.setTimeout(I,z||0)}function fv(I){I.g=hv(()=>{I.g=null,I.i&&(I.i=!1,fv(I))},I.l);const z=I.h;I.h=null,I.m.apply(null,z)}Lt(oa,gs),oa.prototype[Cp]=!0,oa.prototype.removeEventListener=function(I,z,ee,me){dl(this,I,z,ee,me)},oa.prototype.N=function(){if(oa.aa.N.call(this),this.i){var z,I=this.i;for(z in I.g){for(var ee=I.g[z],me=0;me<ee.length;me++)M_(ee[me]);delete I.g[z],I.h--}}this.F=null},oa.prototype.K=function(I,z,ee,me){return this.i.add(String(I),z,!1,ee,me)},oa.prototype.L=function(I,z,ee,me){return this.i.add(String(I),z,!0,ee,me)};class N_ extends gs{constructor(z,ee){super(),this.m=z,this.l=ee,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:fv(this)}N(){super.N(),this.g&&(L.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mf(I){gs.call(this),this.h=I,this.g={}}Lt(mf,gs);var Ll=[];function G1(I){Dr(I.g,function(z,ee){this.g.hasOwnProperty(ee)&&Gg(z)},I),I.g={}}mf.prototype.N=function(){mf.aa.N.call(this),G1(this)},mf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pv=L.JSON.stringify,gv=L.JSON.parse,PE=class{stringify(I){return L.JSON.stringify(I,void 0)}parse(I){return L.JSON.parse(I,void 0)}};function lh(){}function dh(){}lh.prototype.h=null;var Vl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zg(){ja.call(this,"d")}function _f(){ja.call(this,"c")}Lt(zg,ja),Lt(_f,ja);var hh={},_v=null;function k_(){return _v=_v||new oa}function $1(I){ja.call(this,hh.La,I)}function Wg(I){const z=k_();ku(z,new $1(z))}function z1(I,z){ja.call(this,hh.STAT_EVENT,I),this.stat=z}function hu(I){const z=k_();ku(z,new z1(z,I))}function qg(I,z){ja.call(this,hh.Ma,I),this.size=z}function Kg(I,z){if("function"!=typeof I)throw Error("Fn must not be null and must be a function");return L.setTimeout(function(){I()},z)}function Ip(){this.g=!0}function vf(I,z,ee,me){I.info(function(){return"XMLHTTP TEXT ("+z+"): "+function LE(I,z){if(!I.g)return z;if(!z)return null;try{var ee=JSON.parse(z);if(ee)for(I=0;I<ee.length;I++)if(Array.isArray(ee[I])){var me=ee[I];if(!(2>me.length)){var ct=me[1];if(Array.isArray(ct)&&!(1>ct.length)){var Tt=ct[0];if("noop"!=Tt&&"stop"!=Tt&&"close"!=Tt)for(var ln=1;ln<ct.length;ln++)ct[ln]=""}}}return pv(ee)}catch{return z}}(I,ee)+(me?" "+me:"")})}hh.La="serverreachability",Lt($1,ja),hh.STAT_EVENT="statevent",Lt(z1,ja),hh.Ma="timingevent",Lt(qg,ja),Ip.prototype.xa=function(){this.g=!1},Ip.prototype.info=function(){};var L_,Xg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},F_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function fh(){}function jc(I,z,ee,me){this.j=I,this.i=z,this.l=ee,this.R=me||1,this.U=new mf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ap}function Ap(){this.i=null,this.g="",this.h=!1}Lt(fh,lh),fh.prototype.g=function(){return new XMLHttpRequest},fh.prototype.i=function(){return{}},L_=new fh;var W1={},vv={};function yv(I,z,ee){I.L=1,I.v=U_(Bl(z)),I.m=ee,I.P=!0,Qg(I,null)}function Qg(I,z){I.F=Date.now(),Ev(I),I.A=Bl(I.v);var ee=I.A,me=I.R;Array.isArray(me)||(me=[String(me)]),oy(ee.i,"t",me),I.C=0,ee=I.j.J,I.h=new Ap,I.g=Cy(I.j,ee?z:null,!I.m),0<I.O&&(I.M=new N_(Fe(I.Y,I,I.g),I.O)),z=I.U,ee=I.g,me=I.ca;var ct="readystatechange";Array.isArray(ct)||(ct&&(Ll[0]=ct.toString()),ct=Ll);for(var Tt=0;Tt<ct.length;Tt++){var ln=B1(ee,ct[Tt],me||z.handleEvent,!1,z.h||z);if(!ln)break;z.g[ln.key]=ln}z=I.H?Re(I.H):{},I.m?(I.u||(I.u="POST"),z["Content-Type"]="application/x-www-form-urlencoded",I.g.ea(I.A,I.u,I.m,z)):(I.u="GET",I.g.ea(I.A,I.u,null,z)),Wg(),function NE(I,z,ee,me,ct,Tt){I.info(function(){if(I.g)if(Tt)for(var ln="",oo=Tt.split("&"),Aa=0;Aa<oo.length;Aa++){var Ti=oo[Aa].split("=");if(1<Ti.length){var sa=Ti[0];Ti=Ti[1];var fu=sa.split("_");ln=2<=fu.length&&"type"==fu[1]?ln+(sa+"=")+Ti+"&":ln+(sa+"=redacted&")}}else ln=null;else ln=Tt;return"XMLHTTP REQ ("+me+") [attempt "+ct+"]: "+z+"\n"+ee+"\n"+ln})}(I.i,I.u,I.A,I.l,I.R,I.m)}function V_(I){return!!I.g&&"GET"==I.u&&2!=I.L&&I.j.Ca}function VE(I,z){var ee=I.C,me=z.indexOf("\n",ee);return-1==me?vv:(ee=Number(z.substring(ee,me)),isNaN(ee)?W1:(me+=1)+ee>z.length?vv:(z=z.slice(me,me+ee),I.C=me+ee,z))}function Ev(I){I.S=Date.now()+I.I,BE(I,I.I)}function BE(I,z){if(null!=I.B)throw Error("WatchDog timer not null");I.B=Kg(Fe(I.ba,I),z)}function Cv(I){I.B&&(L.clearTimeout(I.B),I.B=null)}function Yg(I){0==I.j.G||I.J||hm(I.j,I)}function Tp(I){Cv(I);var z=I.M;z&&"function"==typeof z.ma&&z.ma(),I.M=null,G1(I.U),I.g&&(z=I.g,I.g=null,z.abort(),z.ma())}function wv(I,z){try{var ee=I.j;if(0!=ee.G&&(ee.g==I||Zg(ee.h,I)))if(!I.K&&Zg(ee.h,I)&&3==ee.G){try{var me=ee.Da.g.parse(z)}catch{me=null}if(Array.isArray(me)&&3==me.length){var ct=me;if(0==ct[0]){e:if(!ee.u){if(ee.g){if(!(ee.g.F+3e3<I.F))break e;dm(ee),Sp(ee)}Dv(ee),hu(18)}}else ee.za=ct[1],0<ee.za-ee.T&&37500>ct[2]&&ee.F&&0==ee.v&&!ee.C&&(ee.C=Kg(Fe(ee.Za,ee),6e3));if(1>=X1(ee.h)&&ee.ca){try{ee.ca()}catch{}ee.ca=void 0}}else Cf(ee,11)}else if((I.K||ee.g==I)&&dm(ee),!$n(z))for(ct=ee.Da.g.parse(z),z=0;z<ct.length;z++){let Ti=ct[z];if(ee.T=Ti[0],Ti=Ti[1],2==ee.G)if("c"==Ti[0]){ee.K=Ti[1],ee.ia=Ti[2];const sa=Ti[3];null!=sa&&(ee.la=sa,ee.j.info("VER="+ee.la));const fu=Ti[4];null!=fu&&(ee.Aa=fu,ee.j.info("SVER="+ee.Aa));const wf=Ti[5];null!=wf&&"number"==typeof wf&&0<wf&&(ee.L=me=1.5*wf,ee.j.info("backChannelRequestTimeoutMs_="+me)),me=ee;const $o=I.g;if($o){const fm=$o.g?$o.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fm){var Tt=me.h;Tt.g||-1==fm.indexOf("spdy")&&-1==fm.indexOf("quic")&&-1==fm.indexOf("h2")||(Tt.j=Tt.l,Tt.g=new Set,Tt.h&&(yf(Tt,Tt.h),Tt.h=null))}if(me.D){const K_=$o.g?$o.g.getResponseHeader("X-HTTP-Session-Id"):null;K_&&(me.ya=K_,wo(me.I,me.D,K_))}}ee.G=3,ee.l&&ee.l.ua(),ee.ba&&(ee.R=Date.now()-I.F,ee.j.info("Handshake RTT: "+ee.R+"ms"));var ln=I;if((me=ee).qa=Ey(me,me.J?me.ia:null,me.W),ln.K){B_(me.h,ln);var oo=ln,Aa=me.L;Aa&&(oo.I=Aa),oo.B&&(Cv(oo),Ev(oo)),me.g=ln}else _y(me);0<ee.i.length&&Td(ee)}else"stop"!=Ti[0]&&"close"!=Ti[0]||Cf(ee,7);else 3==ee.G&&("stop"==Ti[0]||"close"==Ti[0]?"stop"==Ti[0]?Cf(ee,7):cm(ee):"noop"!=Ti[0]&&ee.l&&ee.l.ta(Ti),ee.v=0)}Wg()}catch{}}jc.prototype.ca=function(I){I=I.target;const z=this.M;z&&3==Ad(I)?z.j():this.Y(I)},jc.prototype.Y=function(I){try{if(I==this.g)e:{const fu=Ad(this.g);var z=this.g.Ba();if(this.g.Z(),!(3>fu)&&(3!=fu||this.g&&(this.h.h||this.g.oa()||hy(this.g)))){this.J||4!=fu||7==z||Wg(),Cv(this);var ee=this.g.Z();this.X=ee;t:if(V_(this)){var me=hy(this.g);I="";var ct=me.length,Tt=4==Ad(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Tp(this),Yg(this);var ln="";break t}this.h.i=new L.TextDecoder}for(z=0;z<ct;z++)this.h.h=!0,I+=this.h.i.decode(me[z],{stream:!(Tt&&z==ct-1)});me.length=0,this.h.g+=I,this.C=0,ln=this.h.g}else ln=this.g.oa();if(this.o=200==ee,function kE(I,z,ee,me,ct,Tt,ln){I.info(function(){return"XMLHTTP RESP ("+me+") [ attempt "+ct+"]: "+z+"\n"+ee+"\n"+Tt+" "+ln})}(this.i,this.u,this.A,this.l,this.R,fu,ee),this.o){if(this.T&&!this.K){t:{if(this.g){var oo,Aa=this.g;if((oo=Aa.g?Aa.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$n(oo)){var Ti=oo;break t}}Ti=null}if(!(ee=Ti)){this.o=!1,this.s=3,hu(12),Tp(this),Yg(this);break e}vf(this.i,this.l,ee,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wv(this,ee)}if(this.P){let $o;for(ee=!0;!this.J&&this.C<ln.length;){if($o=VE(this,ln),$o==vv){4==fu&&(this.s=4,hu(14),ee=!1),vf(this.i,this.l,null,"[Incomplete Response]");break}if($o==W1){this.s=4,hu(15),vf(this.i,this.l,ln,"[Invalid Chunk]"),ee=!1;break}vf(this.i,this.l,$o,null),wv(this,$o)}if(V_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=fu||0!=ln.length||this.h.h||(this.s=1,hu(16),ee=!1),this.o=this.o&&ee,ee){if(0<ln.length&&!this.W){this.W=!0;var sa=this.j;sa.g==this&&sa.ba&&!sa.M&&(sa.j.info("Great, no buffering proxy detected. Bytes received: "+ln.length),q_(sa),sa.M=!0,hu(11))}}else vf(this.i,this.l,ln,"[Invalid Chunked Response]"),Tp(this),Yg(this)}else vf(this.i,this.l,ln,null),wv(this,ln);4==fu&&Tp(this),this.o&&!this.J&&(4==fu?hm(this.j,this):(this.o=!1,Ev(this)))}else(function Sv(I){const z={};I=(I.g&&2<=Ad(I)&&I.g.getAllResponseHeaders()||"").split("\r\n");for(let me=0;me<I.length;me++){if($n(I[me]))continue;var ee=st(I[me]);const ct=ee[0];if("string"!=typeof(ee=ee[1]))continue;ee=ee.trim();const Tt=z[ct]||[];z[ct]=Tt,Tt.push(ee)}!function Ze(I,z){for(const ee in I)z.call(void 0,I[ee],ee,I)}(z,function(me){return me.join(", ")})})(this.g),400==ee&&0<ln.indexOf("Unknown SID")?(this.s=3,hu(12)):(this.s=0,hu(13)),Tp(this),Yg(this)}}}catch{}},jc.prototype.cancel=function(){this.J=!0,Tp(this)},jc.prototype.ba=function(){this.B=null;const I=Date.now();0<=I-this.S?(function FE(I,z){I.info(function(){return"TIMEOUT: "+z})}(this.i,this.A),2!=this.L&&(Wg(),hu(17)),Tp(this),this.s=2,Yg(this)):BE(this,this.S-I)};var Aw=class{constructor(I,z){this.g=I,this.map=z}};function q1(I){this.l=I||10,I=L.PerformanceNavigationTiming?0<(I=L.performance.getEntriesByType("navigation")).length&&("hq"==I[0].nextHopProtocol||"h2"==I[0].nextHopProtocol):!!(L.chrome&&L.chrome.loadTimes&&L.chrome.loadTimes()&&L.chrome.loadTimes().wasFetchedViaSpdy),this.j=I?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function K1(I){return!!I.h||!!I.g&&I.g.size>=I.j}function X1(I){return I.h?1:I.g?I.g.size:0}function Zg(I,z){return I.h?I.h==z:!!I.g&&I.g.has(z)}function yf(I,z){I.g?I.g.add(z):I.h=z}function B_(I,z){I.h&&I.h==z?I.h=null:I.g&&I.g.has(z)&&I.g.delete(z)}function Jg(I){if(null!=I.h)return I.i.concat(I.h.D);if(null!=I.g&&0!==I.g.size){let z=I.i;for(const ee of I.g.values())z=z.concat(ee.D);return z}return Zt(I.i)}function Iv(I,z){if(I.forEach&&"function"==typeof I.forEach)I.forEach(z,void 0);else if(G(I)||"string"==typeof I)Array.prototype.forEach.call(I,z,void 0);else for(var ee=function em(I){if(I.na&&"function"==typeof I.na)return I.na();if(!I.V||"function"!=typeof I.V){if(typeof Map<"u"&&I instanceof Map)return Array.from(I.keys());if(!(typeof Set<"u"&&I instanceof Set)){if(G(I)||"string"==typeof I){var z=[];I=I.length;for(var ee=0;ee<I;ee++)z.push(ee);return z}z=[],ee=0;for(const me in I)z[ee++]=me;return z}}}(I),me=function Q1(I){if(I.V&&"function"==typeof I.V)return I.V();if(typeof Map<"u"&&I instanceof Map||typeof Set<"u"&&I instanceof Set)return Array.from(I.values());if("string"==typeof I)return I.split("");if(G(I)){for(var z=[],ee=I.length,me=0;me<ee;me++)z.push(I[me]);return z}for(me in z=[],ee=0,I)z[ee++]=I[me];return z}(I),ct=me.length,Tt=0;Tt<ct;Tt++)z.call(void 0,me[Tt],ee&&ee[Tt],I)}q1.prototype.cancel=function(){if(this.i=Jg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const I of this.g.values())I.cancel();this.g.clear()}};var Y1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ph(I){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,I instanceof ph){this.h=I.h,nm(this,I.j),this.o=I.o,this.g=I.g,rm(this,I.s),this.l=I.l;var z=I.i,ee=new om;ee.i=z.i,z.g&&(ee.g=new Map(z.g),ee.h=z.h),Z1(this,ee),this.m=I.m}else I&&(z=String(I).match(Y1))?(this.h=!1,nm(this,z[1]||"",!0),this.o=wd(z[2]||""),this.g=wd(z[3]||"",!0),rm(this,z[4]),this.l=wd(z[5]||"",!0),Z1(this,z[6]||"",!0),this.m=wd(z[7]||"")):(this.h=!1,this.i=new om(null,this.h))}function Bl(I){return new ph(I)}function nm(I,z,ee){I.j=ee?wd(z,!0):z,I.j&&(I.j=I.j.replace(/:$/,""))}function rm(I,z){if(z){if(z=Number(z),isNaN(z)||0>z)throw Error("Bad port number "+z);I.s=z}else I.s=null}function Z1(I,z,ee){z instanceof om?(I.i=z,function Av(I,z){z&&!I.j&&(Id(I),I.i=null,I.g.forEach(function(ee,me){var ct=me.toLowerCase();me!=ct&&(ry(this,me),oy(this,ct,ee))},I)),I.j=z}(I.i,I.h)):(ee||(z=im(z,ty)),I.i=new om(z,I.h))}function wo(I,z,ee){I.i.set(z,ee)}function U_(I){return wo(I,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),I}function wd(I,z){return I?z?decodeURI(I.replace(/%25/g,"%2525")):decodeURIComponent(I):""}function im(I,z,ee){return"string"==typeof I?(I=encodeURI(I).replace(z,UE),ee&&(I=I.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I):null}function UE(I){return"%"+((I=I.charCodeAt(0))>>4&15).toString(16)+(15&I).toString(16)}ph.prototype.toString=function(){var I=[],z=this.j;z&&I.push(im(z,J1,!0),":");var ee=this.g;return(ee||"file"==z)&&(I.push("//"),(z=this.o)&&I.push(im(z,J1,!0),"@"),I.push(encodeURIComponent(String(ee)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ee=this.s)&&I.push(":",String(ee))),(ee=this.l)&&(this.g&&"/"!=ee.charAt(0)&&I.push("/"),I.push(im(ee,"/"==ee.charAt(0)?ey:j_,!0))),(ee=this.i.toString())&&I.push("?",ee),(ee=this.m)&&I.push("#",im(ee,ny)),I.join("")};var J1=/[#\/\?@]/g,j_=/[#\?:]/g,ey=/[#\?]/g,ty=/[#\?@]/g,ny=/#/g;function om(I,z){this.h=this.g=null,this.i=I||null,this.j=!!z}function Id(I){I.g||(I.g=new Map,I.h=0,I.i&&function tm(I,z){if(I){I=I.split("&");for(var ee=0;ee<I.length;ee++){var me=I[ee].indexOf("="),ct=null;if(0<=me){var Tt=I[ee].substring(0,me);ct=I[ee].substring(me+1)}else Tt=I[ee];z(Tt,ct?decodeURIComponent(ct.replace(/\+/g," ")):"")}}}(I.i,function(z,ee){I.add(decodeURIComponent(z.replace(/\+/g," ")),ee)}))}function ry(I,z){Id(I),z=bp(I,z),I.g.has(z)&&(I.i=null,I.h-=I.g.get(z).length,I.g.delete(z))}function iy(I,z){return Id(I),z=bp(I,z),I.g.has(z)}function oy(I,z,ee){ry(I,z),0<ee.length&&(I.i=null,I.g.set(bp(I,z),Zt(ee)),I.h+=ee.length)}function bp(I,z){return z=String(z),I.j&&(z=z.toLowerCase()),z}function gh(I,z,ee,me,ct){try{ct&&(ct.onload=null,ct.onerror=null,ct.onabort=null,ct.ontimeout=null),me(ee)}catch{}}function am(){this.g=new PE}function H_(I,z,ee){const me=ee||"";try{Iv(I,function(ct,Tt){let ln=ct;Q(ct)&&(ln=pv(ct)),z.push(me+Tt+"="+encodeURIComponent(ln))})}catch(ct){throw z.push(me+"type="+encodeURIComponent("_badmap")),ct}}function G_(I){this.l=I.Ub||null,this.j=I.eb||!1}function $_(I,z){oa.call(this),this.D=I,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Tv(I){I.j.read().then(I.Pa.bind(I)).catch(I.ga.bind(I))}function Ef(I){I.readyState=4,I.l=null,I.j=null,I.v=null,um(I)}function um(I){I.onreadystatechange&&I.onreadystatechange.call(I)}function bv(I){let z="";return Dr(I,function(ee,me){z+=me,z+=":",z+=ee,z+="\r\n"}),z}function xv(I,z,ee){e:{for(me in ee){var me=!1;break e}me=!0}me||(ee=bv(ee),"string"==typeof I?null!=ee&&encodeURIComponent(String(ee)):wo(I,z,ee))}function Go(I){oa.call(this),this.headers=new Map,this.o=I||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(p=om.prototype).add=function(I,z){Id(this),this.i=null,I=bp(this,I);var ee=this.g.get(I);return ee||this.g.set(I,ee=[]),ee.push(z),this.h+=1,this},p.forEach=function(I,z){Id(this),this.g.forEach(function(ee,me){ee.forEach(function(ct){I.call(z,ct,me,this)},this)},this)},p.na=function(){Id(this);const I=Array.from(this.g.values()),z=Array.from(this.g.keys()),ee=[];for(let me=0;me<z.length;me++){const ct=I[me];for(let Tt=0;Tt<ct.length;Tt++)ee.push(z[me])}return ee},p.V=function(I){Id(this);let z=[];if("string"==typeof I)iy(this,I)&&(z=z.concat(this.g.get(bp(this,I))));else{I=Array.from(this.g.values());for(let ee=0;ee<I.length;ee++)z=z.concat(I[ee])}return z},p.set=function(I,z){return Id(this),this.i=null,iy(this,I=bp(this,I))&&(this.h-=this.g.get(I).length),this.g.set(I,[z]),this.h+=1,this},p.get=function(I,z){return I&&0<(I=this.V(I)).length?String(I[0]):z},p.toString=function(){if(this.i)return this.i;if(!this.g)return"";const I=[],z=Array.from(this.g.keys());for(var ee=0;ee<z.length;ee++){var me=z[ee];const Tt=encodeURIComponent(String(me)),ln=this.V(me);for(me=0;me<ln.length;me++){var ct=Tt;""!==ln[me]&&(ct+="="+encodeURIComponent(String(ln[me]))),I.push(ct)}}return this.i=I.join("&")},Lt(G_,lh),G_.prototype.g=function(){return new $_(this.l,this.j)},G_.prototype.i=function(I){return function(){return I}}({}),Lt($_,oa),(p=$_.prototype).open=function(I,z){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=I,this.A=z,this.readyState=1,um(this)},p.send=function(I){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};I&&(z.body=I),(this.D||L).fetch(new Request(this.A,z)).then(this.Sa.bind(this),this.ga.bind(this))},p.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ef(this)),this.readyState=0},p.Sa=function(I){if(this.g&&(this.l=I,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=I.headers,this.readyState=2,um(this)),this.g&&(this.readyState=3,um(this),this.g)))if("arraybuffer"===this.responseType)I.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof L.ReadableStream<"u"&&"body"in I){if(this.j=I.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tv(this)}else I.text().then(this.Ra.bind(this),this.ga.bind(this))},p.Pa=function(I){if(this.g){if(this.o&&I.value)this.response.push(I.value);else if(!this.o){var z=I.value?I.value:new Uint8Array(0);(z=this.v.decode(z,{stream:!I.done}))&&(this.response=this.responseText+=z)}I.done?Ef(this):um(this),3==this.readyState&&Tv(this)}},p.Ra=function(I){this.g&&(this.response=this.responseText=I,Ef(this))},p.Qa=function(I){this.g&&(this.response=I,Ef(this))},p.ga=function(){this.g&&Ef(this)},p.setRequestHeader=function(I,z){this.u.append(I,z)},p.getResponseHeader=function(I){return this.h&&this.h.get(I.toLowerCase())||""},p.getAllResponseHeaders=function(){if(!this.h)return"";const I=[],z=this.h.entries();for(var ee=z.next();!ee.done;)I.push((ee=ee.value)[0]+": "+ee[1]),ee=z.next();return I.join("\r\n")},Object.defineProperty($_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(I){this.m=I?"include":"same-origin"}}),Lt(Go,oa);var ay=/^https?$/i,uy=["POST","PUT"];function z_(I,z){I.h=!1,I.g&&(I.j=!0,I.g.abort(),I.j=!1),I.l=z,I.m=5,cy(I),W_(I)}function cy(I){I.A||(I.A=!0,ku(I,"complete"),ku(I,"error"))}function ly(I){if(I.h&&typeof b<"u"&&(!I.v[1]||4!=Ad(I)||2!=I.Z()))if(I.u&&4==Ad(I))hv(I.Ea,0,I);else if(ku(I,"readystatechange"),4==Ad(I)){I.h=!1;try{const ln=I.Z();e:switch(ln){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var ee;if(!(ee=z)){var me;if(me=0===ln){var ct=String(I.D).match(Y1)[1]||null;!ct&&L.self&&L.self.location&&(ct=L.self.location.protocol.slice(0,-1)),me=!ay.test(ct?ct.toLowerCase():"")}ee=me}if(ee)ku(I,"complete"),ku(I,"success");else{I.m=6;try{var Tt=2<Ad(I)?I.g.statusText:""}catch{Tt=""}I.l=Tt+" ["+I.Z()+"]",cy(I)}}finally{W_(I)}}}function W_(I,z){if(I.g){dy(I);const ee=I.g,me=I.v[0]?()=>{}:null;I.g=null,I.v=null,z||ku(I,"ready");try{ee.onreadystatechange=me}catch{}}}function dy(I){I.I&&(L.clearTimeout(I.I),I.I=null)}function Ad(I){return I.g?I.g.readyState:0}function hy(I){try{if(!I.g)return null;if("response"in I.g)return I.g.response;switch(I.H){case"":case"text":return I.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in I.g)return I.g.mozResponseArrayBuffer}return null}catch{return null}}function hl(I,z,ee){return ee&&ee.internalChannelParams&&ee.internalChannelParams[I]||z}function xp(I){this.Aa=0,this.i=[],this.j=new Ip,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hl("failFast",!1,I),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hl("baseRetryDelayMs",5e3,I),this.cb=hl("retryDelaySeedMs",1e4,I),this.Wa=hl("forwardChannelMaxRetries",2,I),this.wa=hl("forwardChannelRequestTimeoutMs",2e4,I),this.pa=I&&I.xmlHttpFactory||void 0,this.Xa=I&&I.Tb||void 0,this.Ca=I&&I.useFetchStreams||!1,this.L=void 0,this.J=I&&I.supportsCrossDomainXhr||!1,this.K="",this.h=new q1(I&&I.concurrentRequestLimit),this.Da=new am,this.P=I&&I.fastHandshake||!1,this.O=I&&I.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=I&&I.Rb||!1,I&&I.xa&&this.j.xa(),I&&I.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&I&&I.detectBufferingProxy||!1,this.ja=void 0,I&&I.longPollingTimeout&&0<I.longPollingTimeout&&(this.ja=I.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function cm(I){if(fy(I),3==I.G){var z=I.U++,ee=Bl(I.I);if(wo(ee,"SID",I.K),wo(ee,"RID",z),wo(ee,"TYPE","terminate"),lm(I,ee),(z=new jc(I,I.j,z)).L=2,z.v=U_(Bl(ee)),ee=!1,L.navigator&&L.navigator.sendBeacon)try{ee=L.navigator.sendBeacon(z.v.toString(),"")}catch{}!ee&&L.Image&&((new Image).src=z.v,ee=!0),ee||(z.g=Cy(z.j,null),z.g.ea(z.v)),z.F=Date.now(),Ev(z)}Rv(I)}function Sp(I){I.g&&(q_(I),I.g.cancel(),I.g=null)}function fy(I){Sp(I),I.u&&(L.clearTimeout(I.u),I.u=null),dm(I),I.h.cancel(),I.s&&("number"==typeof I.s&&L.clearTimeout(I.s),I.s=null)}function Td(I){if(!K1(I.h)&&!I.s){I.s=!0;var z=I.Ga;Ug||V1(),Ep||(Ug(),Ep=!0),D_.add(z,I),I.B=0}}function gy(I,z){var ee;ee=z?z.l:I.U++;const me=Bl(I.I);wo(me,"SID",I.K),wo(me,"RID",ee),wo(me,"AID",I.T),lm(I,me),I.m&&I.o&&xv(me,I.m,I.o),ee=new jc(I,I.j,ee,I.B+1),null===I.m&&(ee.H=I.o),z&&(I.i=z.D.concat(I.i)),z=my(I,ee,1e3),ee.I=Math.round(.5*I.wa)+Math.round(.5*I.wa*Math.random()),yf(I.h,ee),yv(ee,me,z)}function lm(I,z){I.H&&Dr(I.H,function(ee,me){wo(z,me,ee)}),I.l&&Iv({},function(ee,me){wo(z,me,ee)})}function my(I,z,ee){ee=Math.min(I.i.length,ee);var me=I.l?Fe(I.l.Na,I.l,I):null;e:{var ct=I.i;let Tt=-1;for(;;){const ln=["count="+ee];-1==Tt?0<ee?(Tt=ct[0].g,ln.push("ofs="+Tt)):Tt=0:ln.push("ofs="+Tt);let oo=!0;for(let Aa=0;Aa<ee;Aa++){let Ti=ct[Aa].g;const sa=ct[Aa].map;if(Ti-=Tt,0>Ti)Tt=Math.max(0,ct[Aa].g-100),oo=!1;else try{H_(sa,ln,"req"+Ti+"_")}catch{me&&me(sa)}}if(oo){me=ln.join("&");break e}}}return I=I.i.splice(0,ee),z.D=I,me}function _y(I){if(!I.g&&!I.u){I.Y=1;var z=I.Fa;Ug||V1(),Ep||(Ug(),Ep=!0),D_.add(z,I),I.v=0}}function Dv(I){return!(I.g||I.u||3<=I.v||(I.Y++,I.u=Kg(Fe(I.Fa,I),yy(I,I.v)),I.v++,0))}function q_(I){null!=I.A&&(L.clearTimeout(I.A),I.A=null)}function vy(I){I.g=new jc(I,I.j,"rpc",I.Y),null===I.m&&(I.g.H=I.o),I.g.O=0;var z=Bl(I.qa);wo(z,"RID","rpc"),wo(z,"SID",I.K),wo(z,"AID",I.T),wo(z,"CI",I.F?"0":"1"),!I.F&&I.ja&&wo(z,"TO",I.ja),wo(z,"TYPE","xmlhttp"),lm(I,z),I.m&&I.o&&xv(z,I.m,I.o),I.L&&(I.g.I=I.L);var ee=I.g;I=I.ia,ee.L=1,ee.v=U_(Bl(z)),ee.m=null,ee.P=!0,Qg(ee,I)}function dm(I){null!=I.C&&(L.clearTimeout(I.C),I.C=null)}function hm(I,z){var ee=null;if(I.g==z){dm(I),q_(I),I.g=null;var me=2}else{if(!Zg(I.h,z))return;ee=z.D,B_(I.h,z),me=1}if(0!=I.G)if(z.o)if(1==me){ee=z.m?z.m.length:0,z=Date.now()-z.F;var ct=I.B;ku(me=k_(),new qg(me,ee)),Td(I)}else _y(I);else if(3==(ct=z.s)||0==ct&&0<z.X||!(1==me&&function py(I,z){return!(X1(I.h)>=I.h.j-(I.s?1:0)||(I.s?(I.i=z.D.concat(I.i),0):1==I.G||2==I.G||I.B>=(I.Va?0:I.Wa)||(I.s=Kg(Fe(I.Ga,I,z),yy(I,I.B)),I.B++,0)))}(I,z)||2==me&&Dv(I)))switch(ee&&0<ee.length&&(z=I.h,z.i=z.i.concat(ee)),ct){case 1:Cf(I,5);break;case 4:Cf(I,10);break;case 3:Cf(I,6);break;default:Cf(I,2)}}function yy(I,z){let ee=I.Ta+Math.floor(Math.random()*I.cb);return I.isActive()||(ee*=2),ee*z}function Cf(I,z){if(I.j.info("Error code "+z),2==z){var ee=Fe(I.fb,I),me=I.Xa;const ct=!me;me=new ph(me||"//www.google.com/images/cleardot.gif"),L.location&&"http"==L.location.protocol||nm(me,"https"),U_(me),ct?function sm(I,z){const ee=new Ip;if(L.Image){const me=new Image;me.onload=gt(gh,ee,"TestLoadImage: loaded",!0,z,me),me.onerror=gt(gh,ee,"TestLoadImage: error",!1,z,me),me.onabort=gt(gh,ee,"TestLoadImage: abort",!1,z,me),me.ontimeout=gt(gh,ee,"TestLoadImage: timeout",!1,z,me),L.setTimeout(function(){me.ontimeout&&me.ontimeout()},1e4),me.src=I}else z(!1)}(me.toString(),ee):function sy(I,z){new Ip;const me=new AbortController,ct=setTimeout(()=>{me.abort(),gh(0,0,!1,z)},1e4);fetch(I,{signal:me.signal}).then(Tt=>{clearTimeout(ct),gh(0,0,!!Tt.ok,z)}).catch(()=>{clearTimeout(ct),gh(0,0,!1,z)})}(me.toString(),ee)}else hu(2);I.G=0,I.l&&I.l.sa(z),Rv(I),fy(I)}function Rv(I){if(I.G=0,I.ka=[],I.l){const z=Jg(I.h);(0!=z.length||0!=I.i.length)&&(jt(I.ka,z),jt(I.ka,I.i),I.h.i.length=0,Zt(I.i),I.i.length=0),I.l.ra()}}function Ey(I,z,ee){var me=ee instanceof ph?Bl(ee):new ph(ee);if(""!=me.g)z&&(me.g=z+"."+me.g),rm(me,me.s);else{var ct=L.location;me=ct.protocol,z=z?z+"."+ct.hostname:ct.hostname,ct=+ct.port;var Tt=new ph(null);me&&nm(Tt,me),z&&(Tt.g=z),ct&&rm(Tt,ct),ee&&(Tt.l=ee),me=Tt}return z=I.ya,(ee=I.D)&&z&&wo(me,ee,z),wo(me,"VER",I.la),lm(I,me),me}function Cy(I,z,ee){if(z&&!I.J)throw Error("Can't create secondary domain capable XhrIo object.");return(z=new Go(I.Ca&&!I.pa?new G_({eb:ee}):I.pa)).Ha(I.J),z}function mh(){}function bd(){}function Ia(I,z){oa.call(this),this.g=new xp(z),this.l=I,this.h=z&&z.messageUrlParams||null,I=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(I?I["X-Client-Protocol"]="webchannel":I={"X-Client-Protocol":"webchannel"}),this.g.o=I,I=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(I?I["X-WebChannel-Content-Type"]=z.messageContentType:I={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.va&&(I?I["X-WebChannel-Client-Profile"]=z.va:I={"X-WebChannel-Client-Profile":z.va}),this.g.S=I,(I=z&&z.Sb)&&!$n(I)&&(this.g.m=I),this.v=z&&z.supportsCrossDomainXhr||!1,this.u=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!$n(z)&&(this.g.D=z,null!==(I=this.h)&&z in I&&z in(I=this.h)&&delete I[z]),this.j=new Dp(this)}function jE(I){zg.call(this),I.__headers__&&(this.headers=I.__headers__,this.statusCode=I.__status__,delete I.__headers__,delete I.__status__);var z=I.__sm__;if(z){e:{for(const ee in z){I=ee;break e}I=void 0}(this.i=I)&&(I=this.i,z=null!==z&&I in z?z[I]:void 0),this.data=z}else this.data=I}function Mv(){_f.call(this),this.status=1}function Dp(I){this.g=I}(p=Go.prototype).Ha=function(I){this.J=I},p.ea=function(I,z,ee,me){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+I);z=z?z.toUpperCase():"GET",this.D=I,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():L_.g(),this.v=function mv(I){return I.h||(I.h=I.i())}(this.o?this.o:L_),this.g.onreadystatechange=Fe(this.Ea,this);try{this.B=!0,this.g.open(z,String(I),!0),this.B=!1}catch(Tt){return void z_(this,Tt)}if(I=ee||"",ee=new Map(this.headers),me)if(Object.getPrototypeOf(me)===Object.prototype)for(var ct in me)ee.set(ct,me[ct]);else{if("function"!=typeof me.keys||"function"!=typeof me.get)throw Error("Unknown input type for opt_headers: "+String(me));for(const Tt of me.keys())ee.set(Tt,me.get(Tt))}me=Array.from(ee.keys()).find(Tt=>"content-type"==Tt.toLowerCase()),ct=L.FormData&&I instanceof L.FormData,!(0<=Array.prototype.indexOf.call(uy,z,void 0))||me||ct||ee.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Tt,ln]of ee)this.g.setRequestHeader(Tt,ln);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dy(this),this.u=!0,this.g.send(I),this.u=!1}catch(Tt){z_(this,Tt)}},p.abort=function(I){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=I||7,ku(this,"complete"),ku(this,"abort"),W_(this))},p.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),W_(this,!0)),Go.aa.N.call(this)},p.Ea=function(){this.s||(this.B||this.u||this.j?ly(this):this.bb())},p.bb=function(){ly(this)},p.isActive=function(){return!!this.g},p.Z=function(){try{return 2<Ad(this)?this.g.status:-1}catch{return-1}},p.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},p.Oa=function(I){if(this.g){var z=this.g.responseText;return I&&0==z.indexOf(I)&&(z=z.substring(I.length)),gv(z)}},p.Ba=function(){return this.m},p.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(p=xp.prototype).la=8,p.G=1,p.connect=function(I,z,ee,me){hu(0),this.W=I,this.H=z||{},ee&&void 0!==me&&(this.H.OSID=ee,this.H.OAID=me),this.F=this.X,this.I=Ey(this,null,this.W),Td(this)},p.Ga=function(I){if(this.s)if(this.s=null,1==this.G){if(!I){this.U=Math.floor(1e5*Math.random()),I=this.U++;const ct=new jc(this,this.j,I);let Tt=this.o;if(this.S&&(Tt?(Tt=Re(Tt),et(Tt,this.S)):Tt=this.S),null!==this.m||this.O||(ct.H=Tt,Tt=null),this.P)e:{for(var z=0,ee=0;ee<this.i.length;ee++){var me=this.i[ee];if(void 0===(me="__data__"in me.map&&"string"==typeof(me=me.map.__data__)?me.length:void 0))break;if(4096<(z+=me)){z=ee;break e}if(4096===z||ee===this.i.length-1){z=ee+1;break e}}z=1e3}else z=1e3;z=my(this,ct,z),wo(ee=Bl(this.I),"RID",I),wo(ee,"CVER",22),this.D&&wo(ee,"X-HTTP-Session-Id",this.D),lm(this,ee),Tt&&(this.O?z="headers="+encodeURIComponent(String(bv(Tt)))+"&"+z:this.m&&xv(ee,this.m,Tt)),yf(this.h,ct),this.Ua&&wo(ee,"TYPE","init"),this.P?(wo(ee,"$req",z),wo(ee,"SID","null"),ct.T=!0,yv(ct,ee,null)):yv(ct,ee,z),this.G=2}}else 3==this.G&&(I?gy(this,I):0==this.i.length||K1(this.h)||gy(this))},p.Fa=function(){if(this.u=null,vy(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var I=2*this.R;this.j.info("BP detection timer enabled: "+I),this.A=Kg(Fe(this.ab,this),I)}},p.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hu(10),Sp(this),vy(this))},p.Za=function(){null!=this.C&&(this.C=null,Sp(this),Dv(this),hu(19))},p.fb=function(I){I?(this.j.info("Successfully pinged google.com"),hu(2)):(this.j.info("Failed to ping google.com"),hu(1))},p.isActive=function(){return!!this.l&&this.l.isActive(this)},(p=mh.prototype).ua=function(){},p.ta=function(){},p.sa=function(){},p.ra=function(){},p.isActive=function(){return!0},p.Na=function(){},bd.prototype.g=function(I,z){return new Ia(I,z)},Lt(Ia,oa),Ia.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ia.prototype.close=function(){cm(this.g)},Ia.prototype.o=function(I){var z=this.g;if("string"==typeof I){var ee={};ee.__data__=I,I=ee}else this.u&&((ee={}).__data__=pv(I),I=ee);z.i.push(new Aw(z.Ya++,I)),3==z.G&&Td(z)},Ia.prototype.N=function(){this.g.l=null,delete this.j,cm(this.g),delete this.g,Ia.aa.N.call(this)},Lt(jE,zg),Lt(Mv,_f),Lt(Dp,mh),Dp.prototype.ua=function(){ku(this.g,"a")},Dp.prototype.ta=function(I){ku(this.g,new jE(I))},Dp.prototype.sa=function(I){ku(this.g,new Mv)},Dp.prototype.ra=function(){ku(this.g,"b")},bd.prototype.createWebChannel=bd.prototype.g,Ia.prototype.send=Ia.prototype.o,Ia.prototype.open=Ia.prototype.m,Ia.prototype.close=Ia.prototype.close,ut=Ut.createWebChannelTransport=function(){return new bd},_t=Ut.getStatEventTarget=function(){return k_()},it=Ut.Event=hh,Je=Ut.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xg.NO_ERROR=0,Xg.TIMEOUT=8,Xg.HTTP_ERROR=6,Pt=Ut.ErrorCode=Xg,F_.COMPLETE="complete",An=Ut.EventType=F_,dh.EventType=Vl,Vl.OPEN="a",Vl.CLOSE="b",Vl.ERROR="c",Vl.MESSAGE="d",oa.prototype.listen=oa.prototype.K,Kn=Ut.WebChannel=dh,Wt=Ut.FetchXmlHttpFactory=G_,Go.prototype.listenOnce=Go.prototype.L,Go.prototype.getLastError=Go.prototype.Ka,Go.prototype.getLastErrorCode=Go.prototype.Ba,Go.prototype.getStatus=Go.prototype.Z,Go.prototype.getResponseJson=Go.prototype.Oa,Go.prototype.getResponseText=Go.prototype.oa,Go.prototype.send=Go.prototype.ea,Go.prototype.setWithCredentials=Go.prototype.Ha,hn=Ut.XhrIo=Go}).apply(typeof It<"u"?It:typeof self<"u"?self:typeof window<"u"?window:{});const Mt="@firebase/firestore";class He{constructor(o){this.uid=o}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(o){return o.uid===this.uid}}He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");let Yt="10.12.1";const yn=new lt.Vy("@firebase/firestore");function Vr(){return yn.logLevel}function vt(p,...o){if(yn.logLevel<=lt.$b.DEBUG){const c=o.map(ki);yn.debug(`Firestore (${Yt}): ${p}`,...c)}}function en(p,...o){if(yn.logLevel<=lt.$b.ERROR){const c=o.map(ki);yn.error(`Firestore (${Yt}): ${p}`,...c)}}function Fr(p,...o){if(yn.logLevel<=lt.$b.WARN){const c=o.map(ki);yn.warn(`Firestore (${Yt}): ${p}`,...c)}}function ki(p){if("string"==typeof p)return p;try{return JSON.stringify(p)}catch{return p}}function Ne(p="Unexpected state"){const o=`FIRESTORE (${Yt}) INTERNAL ASSERTION FAILED: `+p;throw en(o),new Error(o)}function Ue(p,o){p||Ne()}function Le(p,o){return p}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Ee.g{constructor(o,c){super(o,c),this.code=o,this.message=c,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yt{constructor(){this.promise=new Promise((o,c)=>{this.resolve=o,this.reject=c})}}class Gt{constructor(o,c){this.user=c,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${o}`)}}class Bn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(o,c){o.enqueueRetryable(()=>c(He.UNAUTHENTICATED))}shutdown(){}}class Jt{constructor(o){this.token=o,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(o,c){this.changeListener=c,o.enqueueRetryable(()=>c(this.token.user))}shutdown(){this.changeListener=null}}class Xn{constructor(o){this.t=o,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(o,c){var h=this;let _=this.i;const C=Q=>this.i!==_?(_=this.i,c(Q)):Promise.resolve();let b=new yt;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new yt,o.enqueueRetryable(()=>C(this.currentUser))};const L=()=>{const Q=b;o.enqueueRetryable((0,ye.A)(function*(){yield Q.promise,yield C(h.currentUser)}))},G=Q=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),L()};this.t.onInit(Q=>G(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?G(Q):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new yt)}},0),L()}getToken(){const o=this.i,c=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(c).then(h=>this.i!==o?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):h?(Ue("string"==typeof h.accessToken),new Gt(h.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const o=this.auth&&this.auth.getUid();return Ue(null===o||"string"==typeof o),new He(o)}}class Rr{constructor(o,c,h){this.l=o,this.h=c,this.P=h,this.type="FirstParty",this.user=He.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const o=this.T();return o&&this.I.set("Authorization",o),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class no{constructor(o,c,h){this.l=o,this.h=c,this.P=h}getToken(){return Promise.resolve(new Rr(this.l,this.h,this.P))}start(o,c){o.enqueueRetryable(()=>c(He.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pr{constructor(o){this.value=o,this.type="AppCheck",this.headers=new Map,o&&o.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lr{constructor(o){this.A=o,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(o,c){const h=C=>{null!=C.error&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${C.error.message}`);const b=C.token!==this.R;return this.R=C.token,vt("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?c(C.token):Promise.resolve()};this.o=C=>{o.enqueueRetryable(()=>h(C))};const _=C=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=C,this.appCheck.addTokenListener(this.o)};this.A.onInit(C=>_(C)),setTimeout(()=>{if(!this.appCheck){const C=this.A.getImmediate({optional:!0});C?_(C):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const o=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(o).then(c=>c?(Ue("string"==typeof c.token),this.R=c.token,new pr(c.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function un(p){const o=typeof self<"u"&&(self.crypto||self.msCrypto),c=new Uint8Array(p);if(o&&"function"==typeof o.getRandomValues)o.getRandomValues(c);else for(let h=0;h<p;h++)c[h]=Math.floor(256*Math.random());return c}class Hr{static newId(){const c=62*Math.floor(256/62);let h="";for(;h.length<20;){const _=un(40);for(let C=0;C<_.length;++C)h.length<20&&_[C]<c&&(h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(_[C]%62))}return h}}function Sn(p,o){return p<o?-1:p>o?1:0}function _r(p,o,c){return p.length===o.length&&p.every((h,_)=>c(h,o[_]))}class ur{constructor(o,c){if(this.seconds=o,this.nanoseconds=c,c<0)throw new pe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(c>=1e9)throw new pe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(o<-62135596800)throw new pe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+o);if(o>=253402300800)throw new pe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+o)}static now(){return ur.fromMillis(Date.now())}static fromDate(o){return ur.fromMillis(o.getTime())}static fromMillis(o){const c=Math.floor(o/1e3),h=Math.floor(1e6*(o-1e3*c));return new ur(c,h)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(o){return this.seconds===o.seconds?Sn(this.nanoseconds,o.nanoseconds):Sn(this.seconds,o.seconds)}isEqual(o){return o.seconds===this.seconds&&o.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rn{constructor(o){this.timestamp=o}static fromTimestamp(o){return new rn(o)}static min(){return new rn(new ur(0,0))}static max(){return new rn(new ur(253402300799,999999999))}compareTo(o){return this.timestamp._compareTo(o.timestamp)}isEqual(o){return this.timestamp.isEqual(o.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Io{constructor(o,c,h){void 0===c?c=0:c>o.length&&Ne(),void 0===h?h=o.length-c:h>o.length-c&&Ne(),this.segments=o,this.offset=c,this.len=h}get length(){return this.len}isEqual(o){return 0===Io.comparator(this,o)}child(o){const c=this.segments.slice(this.offset,this.limit());return o instanceof Io?o.forEach(h=>{c.push(h)}):c.push(o),this.construct(c)}limit(){return this.offset+this.length}popFirst(o){return this.construct(this.segments,this.offset+(o=void 0===o?1:o),this.length-o)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(o){return this.segments[this.offset+o]}isEmpty(){return 0===this.length}isPrefixOf(o){if(o.length<this.length)return!1;for(let c=0;c<this.length;c++)if(this.get(c)!==o.get(c))return!1;return!0}isImmediateParentOf(o){if(this.length+1!==o.length)return!1;for(let c=0;c<this.length;c++)if(this.get(c)!==o.get(c))return!1;return!0}forEach(o){for(let c=this.offset,h=this.limit();c<h;c++)o(this.segments[c])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(o,c){const h=Math.min(o.length,c.length);for(let _=0;_<h;_++){const C=o.get(_),b=c.get(_);if(C<b)return-1;if(C>b)return 1}return o.length<c.length?-1:o.length>c.length?1:0}}class Nt extends Io{construct(o,c,h){return new Nt(o,c,h)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...o){const c=[];for(const h of o){if(h.indexOf("//")>=0)throw new pe(le.INVALID_ARGUMENT,`Invalid segment (${h}). Paths must not contain // in them.`);c.push(...h.split("/").filter(_=>_.length>0))}return new Nt(c)}static emptyPath(){return new Nt([])}}const or=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Io{construct(o,c,h){return new on(o,c,h)}static isValidIdentifier(o){return or.test(o)}canonicalString(){return this.toArray().map(o=>(o=o.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(o)||(o="`"+o+"`"),o)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new on(["__name__"])}static fromServerFormat(o){const c=[];let h="",_=0;const C=()=>{if(0===h.length)throw new pe(le.INVALID_ARGUMENT,`Invalid field path (${o}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);c.push(h),h=""};let b=!1;for(;_<o.length;){const L=o[_];if("\\"===L){if(_+1===o.length)throw new pe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+o);const G=o[_+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new pe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+o);h+=G,_+=2}else"`"===L?(b=!b,_++):"."!==L||b?(h+=L,_++):(C(),_++)}if(C(),b)throw new pe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+o);return new on(c)}static emptyPath(){return new on([])}}class Ht{constructor(o){this.path=o}static fromPath(o){return new Ht(Nt.fromString(o))}static fromName(o){return new Ht(Nt.fromString(o).popFirst(5))}static empty(){return new Ht(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(o){return this.path.length>=2&&this.path.get(this.path.length-2)===o}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(o){return null!==o&&0===Nt.comparator(this.path,o.path)}toString(){return this.path.toString()}static comparator(o,c){return Nt.comparator(o.path,c.path)}static isDocumentKey(o){return o.length%2==0}static fromSegments(o){return new Ht(new Nt(o.slice()))}}class zn{constructor(o,c,h){this.readTime=o,this.documentKey=c,this.largestBatchId=h}static min(){return new zn(rn.min(),Ht.empty(),-1)}static max(){return new zn(rn.max(),Ht.empty(),-1)}}function gi(p,o){let c=p.readTime.compareTo(o.readTime);return 0!==c?c:(c=Ht.comparator(p.documentKey,o.documentKey),0!==c?c:Sn(p.largestBatchId,o.largestBatchId))}const Wo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(o){this.onCommittedListeners.push(o)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(o=>o())}}function Si(p){return lr.apply(this,arguments)}function lr(){return(lr=(0,ye.A)(function*(p){if(p.code!==le.FAILED_PRECONDITION||p.message!==Wo)throw p;vt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class fe{constructor(o){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,o(c=>{this.isDone=!0,this.result=c,this.nextCallback&&this.nextCallback(c)},c=>{this.isDone=!0,this.error=c,this.catchCallback&&this.catchCallback(c)})}catch(o){return this.next(void 0,o)}next(o,c){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(c,this.error):this.wrapSuccess(o,this.result):new fe((h,_)=>{this.nextCallback=C=>{this.wrapSuccess(o,C).next(h,_)},this.catchCallback=C=>{this.wrapFailure(c,C).next(h,_)}})}toPromise(){return new Promise((o,c)=>{this.next(o,c)})}wrapUserFunction(o){try{const c=o();return c instanceof fe?c:fe.resolve(c)}catch(c){return fe.reject(c)}}wrapSuccess(o,c){return o?this.wrapUserFunction(()=>o(c)):fe.resolve(c)}wrapFailure(o,c){return o?this.wrapUserFunction(()=>o(c)):fe.reject(c)}static resolve(o){return new fe((c,h)=>{c(o)})}static reject(o){return new fe((c,h)=>{h(o)})}static waitFor(o){return new fe((c,h)=>{let _=0,C=0,b=!1;o.forEach(L=>{++_,L.next(()=>{++C,b&&C===_&&c()},G=>h(G))}),b=!0,C===_&&c()})}static or(o){let c=fe.resolve(!1);for(const h of o)c=c.next(_=>_?fe.resolve(_):h());return c}static forEach(o,c){const h=[];return o.forEach((_,C)=>{h.push(c.call(this,_,C))}),this.waitFor(h)}static mapArray(o,c){return new fe((h,_)=>{const C=o.length,b=new Array(C);let L=0;for(let G=0;G<C;G++){const Q=G;c(o[Q]).next(ue=>{b[Q]=ue,++L,L===C&&h(b)},ue=>_(ue))}})}static doWhile(o,c){return new fe((h,_)=>{const C=()=>{!0===o()?c().next(()=>{C()},_):h()};C()})}}function Se(p){return"IndexedDbTransactionError"===p.name}let yr=(()=>{class p{constructor(c,h){this.previousValue=c,h&&(h.sequenceNumberHandler=_=>this.ie(_),this.se=_=>h.writeSequenceNumber(_))}ie(c){return this.previousValue=Math.max(c,this.previousValue),this.previousValue}next(){const c=++this.previousValue;return this.se&&this.se(c),c}}return p.oe=-1,p})();function ri(p){return null==p}function Wn(p){return 0===p&&1/p==-1/0}function rr(p){let o=0;for(const c in p)Object.prototype.hasOwnProperty.call(p,c)&&o++;return o}function Bi(p,o){for(const c in p)Object.prototype.hasOwnProperty.call(p,c)&&o(c,p[c])}function Ao(p){for(const o in p)if(Object.prototype.hasOwnProperty.call(p,o))return!1;return!0}class Yn{constructor(o,c){this.comparator=o,this.root=c||di.EMPTY}insert(o,c){return new Yn(this.comparator,this.root.insert(o,c,this.comparator).copy(null,null,di.BLACK,null,null))}remove(o){return new Yn(this.comparator,this.root.remove(o,this.comparator).copy(null,null,di.BLACK,null,null))}get(o){let c=this.root;for(;!c.isEmpty();){const h=this.comparator(o,c.key);if(0===h)return c.value;h<0?c=c.left:h>0&&(c=c.right)}return null}indexOf(o){let c=0,h=this.root;for(;!h.isEmpty();){const _=this.comparator(o,h.key);if(0===_)return c+h.left.size;_<0?h=h.left:(c+=h.left.size+1,h=h.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(o){return this.root.inorderTraversal(o)}forEach(o){this.inorderTraversal((c,h)=>(o(c,h),!1))}toString(){const o=[];return this.inorderTraversal((c,h)=>(o.push(`${c}:${h}`),!1)),`{${o.join(", ")}}`}reverseTraversal(o){return this.root.reverseTraversal(o)}getIterator(){return new Js(this.root,null,this.comparator,!1)}getIteratorFrom(o){return new Js(this.root,o,this.comparator,!1)}getReverseIterator(){return new Js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(o){return new Js(this.root,o,this.comparator,!0)}}class Js{constructor(o,c,h,_){this.isReverse=_,this.nodeStack=[];let C=1;for(;!o.isEmpty();)if(C=c?h(o.key,c):1,c&&_&&(C*=-1),C<0)o=this.isReverse?o.left:o.right;else{if(0===C){this.nodeStack.push(o);break}this.nodeStack.push(o),o=this.isReverse?o.right:o.left}}getNext(){let o=this.nodeStack.pop();const c={key:o.key,value:o.value};if(this.isReverse)for(o=o.left;!o.isEmpty();)this.nodeStack.push(o),o=o.right;else for(o=o.right;!o.isEmpty();)this.nodeStack.push(o),o=o.left;return c}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const o=this.nodeStack[this.nodeStack.length-1];return{key:o.key,value:o.value}}}class di{constructor(o,c,h,_,C){this.key=o,this.value=c,this.color=h??di.RED,this.left=_??di.EMPTY,this.right=C??di.EMPTY,this.size=this.left.size+1+this.right.size}copy(o,c,h,_,C){return new di(o??this.key,c??this.value,h??this.color,_??this.left,C??this.right)}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,c,h){let _=this;const C=h(o,_.key);return _=C<0?_.copy(null,null,null,_.left.insert(o,c,h),null):0===C?_.copy(null,c,null,null,null):_.copy(null,null,null,null,_.right.insert(o,c,h)),_.fixUp()}removeMin(){if(this.left.isEmpty())return di.EMPTY;let o=this;return o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.removeMin(),null),o.fixUp()}remove(o,c){let h,_=this;if(c(o,_.key)<0)_.left.isEmpty()||_.left.isRed()||_.left.left.isRed()||(_=_.moveRedLeft()),_=_.copy(null,null,null,_.left.remove(o,c),null);else{if(_.left.isRed()&&(_=_.rotateRight()),_.right.isEmpty()||_.right.isRed()||_.right.left.isRed()||(_=_.moveRedRight()),0===c(o,_.key)){if(_.right.isEmpty())return di.EMPTY;h=_.right.min(),_=_.copy(h.key,h.value,null,null,_.right.removeMin())}_=_.copy(null,null,null,null,_.right.remove(o,c))}return _.fixUp()}isRed(){return this.color}fixUp(){let o=this;return o.right.isRed()&&!o.left.isRed()&&(o=o.rotateLeft()),o.left.isRed()&&o.left.left.isRed()&&(o=o.rotateRight()),o.left.isRed()&&o.right.isRed()&&(o=o.colorFlip()),o}moveRedLeft(){let o=this.colorFlip();return o.right.left.isRed()&&(o=o.copy(null,null,null,null,o.right.rotateRight()),o=o.rotateLeft(),o=o.colorFlip()),o}moveRedRight(){let o=this.colorFlip();return o.left.left.isRed()&&(o=o.rotateRight(),o=o.colorFlip()),o}rotateLeft(){const o=this.copy(null,null,di.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight(){const o=this.copy(null,null,di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip(){const o=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,c)}checkMaxDepth(){const o=this.check();return Math.pow(2,o)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const o=this.left.check();if(o!==this.right.check())throw Ne();return o+(this.isRed()?0:1)}}di.EMPTY=null,di.RED=!0,di.BLACK=!1,di.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(o,c,h,_,C){return this}insert(o,c,h){return new di(o,c)}remove(o,c){return this}isEmpty(){return!0}inorderTraversal(o){return!1}reverseTraversal(o){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(o){this.comparator=o,this.data=new Yn(this.comparator)}has(o){return null!==this.data.get(o)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(o){return this.data.indexOf(o)}forEach(o){this.data.inorderTraversal((c,h)=>(o(c),!1))}forEachInRange(o,c){const h=this.data.getIteratorFrom(o[0]);for(;h.hasNext();){const _=h.getNext();if(this.comparator(_.key,o[1])>=0)return;c(_.key)}}forEachWhile(o,c){let h;for(h=void 0!==c?this.data.getIteratorFrom(c):this.data.getIterator();h.hasNext();)if(!o(h.getNext().key))return}firstAfterOrEqual(o){const c=this.data.getIteratorFrom(o);return c.hasNext()?c.getNext().key:null}getIterator(){return new ea(this.data.getIterator())}getIteratorFrom(o){return new ea(this.data.getIteratorFrom(o))}add(o){return this.copy(this.data.remove(o).insert(o,!0))}delete(o){return this.has(o)?this.copy(this.data.remove(o)):this}isEmpty(){return this.data.isEmpty()}unionWith(o){let c=this;return c.size<o.size&&(c=o,o=this),o.forEach(h=>{c=c.add(h)}),c}isEqual(o){if(!(o instanceof Vn)||this.size!==o.size)return!1;const c=this.data.getIterator(),h=o.data.getIterator();for(;c.hasNext();){const _=c.getNext().key,C=h.getNext().key;if(0!==this.comparator(_,C))return!1}return!0}toArray(){const o=[];return this.forEach(c=>{o.push(c)}),o}toString(){const o=[];return this.forEach(c=>o.push(c)),"SortedSet("+o.toString()+")"}copy(o){const c=new Vn(this.comparator);return c.data=o,c}}class ea{constructor(o){this.iter=o}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Di{constructor(o){this.fields=o,o.sort(on.comparator)}static empty(){return new Di([])}unionWith(o){let c=new Vn(on.comparator);for(const h of this.fields)c=c.add(h);for(const h of o)c=c.add(h);return new Di(c.toArray())}covers(o){for(const c of this.fields)if(c.isPrefixOf(o))return!0;return!1}isEqual(o){return _r(this.fields,o.fields,(c,h)=>c.isEqual(h))}}class ks extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ui{constructor(o){this.binaryString=o}static fromBase64String(o){const c=function(_){try{return atob(_)}catch(C){throw typeof DOMException<"u"&&C instanceof DOMException?new ks("Invalid base64 string: "+C):C}}(o);return new Ui(c)}static fromUint8Array(o){const c=function(_){let C="";for(let b=0;b<_.length;++b)C+=String.fromCharCode(_[b]);return C}(o);return new Ui(c)}[Symbol.iterator](){let o=0;return{next:()=>o<this.binaryString.length?{value:this.binaryString.charCodeAt(o++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(c){const h=new Uint8Array(c.length);for(let _=0;_<c.length;_++)h[_]=c.charCodeAt(_);return h}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(o){return Sn(this.binaryString,o.binaryString)}isEqual(o){return this.binaryString===o.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const ko=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qo(p){if(Ue(!!p),"string"==typeof p){let o=0;const c=ko.exec(p);if(Ue(!!c),c[1]){let _=c[1];_=(_+"000000000").substr(0,9),o=Number(_)}const h=new Date(p);return{seconds:Math.floor(h.getTime()/1e3),nanos:o}}return{seconds:Ri(p.seconds),nanos:Ri(p.nanos)}}function Ri(p){return"number"==typeof p?p:"string"==typeof p?Number(p):0}function _s(p){return"string"==typeof p?Ui.fromBase64String(p):Ui.fromUint8Array(p)}function Vu(p){var o,c;return"server_timestamp"===(null===(c=((null===(o=p?.mapValue)||void 0===o?void 0:o.fields)||{}).__type__)||void 0===c?void 0:c.stringValue)}function Oa(p){const o=p.mapValue.fields.__previous_value__;return Vu(o)?Oa(o):o}function Fo(p){const o=qo(p.mapValue.fields.__local_write_time__.timestampValue);return new ur(o.seconds,o.nanos)}class ca{constructor(o,c,h,_,C,b,L,G,Q){this.databaseId=o,this.appId=c,this.persistenceKey=h,this.host=_,this.ssl=C,this.forceLongPolling=b,this.autoDetectLongPolling=L,this.longPollingOptions=G,this.useFetchStreams=Q}}class es{constructor(o,c){this.projectId=o,this.database=c||"(default)"}static empty(){return new es("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(o){return o instanceof es&&o.projectId===this.projectId&&o.database===this.database}}const vs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Lo(p){return"nullValue"in p?0:"booleanValue"in p?1:"integerValue"in p||"doubleValue"in p?2:"timestampValue"in p?3:"stringValue"in p?5:"bytesValue"in p?6:"referenceValue"in p?7:"geoPointValue"in p?8:"arrayValue"in p?9:"mapValue"in p?Vu(p)?4:la(p)?9007199254740991:10:Ne()}function ao(p,o){if(p===o)return!0;const c=Lo(p);if(c!==Lo(o))return!1;switch(c){case 0:case 9007199254740991:return!0;case 1:return p.booleanValue===o.booleanValue;case 4:return Fo(p).isEqual(Fo(o));case 3:return function(_,C){if("string"==typeof _.timestampValue&&"string"==typeof C.timestampValue&&_.timestampValue.length===C.timestampValue.length)return _.timestampValue===C.timestampValue;const b=qo(_.timestampValue),L=qo(C.timestampValue);return b.seconds===L.seconds&&b.nanos===L.nanos}(p,o);case 5:return p.stringValue===o.stringValue;case 6:return C=o,_s(p.bytesValue).isEqual(_s(C.bytesValue));case 7:return p.referenceValue===o.referenceValue;case 8:return function(_,C){return Ri(_.geoPointValue.latitude)===Ri(C.geoPointValue.latitude)&&Ri(_.geoPointValue.longitude)===Ri(C.geoPointValue.longitude)}(p,o);case 2:return function(_,C){if("integerValue"in _&&"integerValue"in C)return Ri(_.integerValue)===Ri(C.integerValue);if("doubleValue"in _&&"doubleValue"in C){const b=Ri(_.doubleValue),L=Ri(C.doubleValue);return b===L?Wn(b)===Wn(L):isNaN(b)&&isNaN(L)}return!1}(p,o);case 9:return _r(p.arrayValue.values||[],o.arrayValue.values||[],ao);case 10:return function(_,C){const b=_.mapValue.fields||{},L=C.mapValue.fields||{};if(rr(b)!==rr(L))return!1;for(const G in b)if(b.hasOwnProperty(G)&&(void 0===L[G]||!ao(b[G],L[G])))return!1;return!0}(p,o);default:return Ne()}var C}function ys(p,o){return void 0!==(p.values||[]).find(c=>ao(c,o))}function Es(p,o){if(p===o)return 0;const c=Lo(p),h=Lo(o);if(c!==h)return Sn(c,h);switch(c){case 0:case 9007199254740991:return 0;case 1:return Sn(p.booleanValue,o.booleanValue);case 2:return function(C,b){const L=Ri(C.integerValue||C.doubleValue),G=Ri(b.integerValue||b.doubleValue);return L<G?-1:L>G?1:L===G?0:isNaN(L)?isNaN(G)?0:-1:1}(p,o);case 3:return uo(p.timestampValue,o.timestampValue);case 4:return uo(Fo(p),Fo(o));case 5:return Sn(p.stringValue,o.stringValue);case 6:return function(C,b){const L=_s(C),G=_s(b);return L.compareTo(G)}(p.bytesValue,o.bytesValue);case 7:return function(C,b){const L=C.split("/"),G=b.split("/");for(let Q=0;Q<L.length&&Q<G.length;Q++){const ue=Sn(L[Q],G[Q]);if(0!==ue)return ue}return Sn(L.length,G.length)}(p.referenceValue,o.referenceValue);case 8:return function(C,b){const L=Sn(Ri(C.latitude),Ri(b.latitude));return 0!==L?L:Sn(Ri(C.longitude),Ri(b.longitude))}(p.geoPointValue,o.geoPointValue);case 9:return function(C,b){const L=C.values||[],G=b.values||[];for(let Q=0;Q<L.length&&Q<G.length;++Q){const ue=Es(L[Q],G[Q]);if(ue)return ue}return Sn(L.length,G.length)}(p.arrayValue,o.arrayValue);case 10:return function(C,b){if(C===vs.mapValue&&b===vs.mapValue)return 0;if(C===vs.mapValue)return 1;if(b===vs.mapValue)return-1;const L=C.fields||{},G=Object.keys(L),Q=b.fields||{},ue=Object.keys(Q);G.sort(),ue.sort();for(let Ce=0;Ce<G.length&&Ce<ue.length;++Ce){const Fe=Sn(G[Ce],ue[Ce]);if(0!==Fe)return Fe;const gt=Es(L[G[Ce]],Q[ue[Ce]]);if(0!==gt)return gt}return Sn(G.length,ue.length)}(p.mapValue,o.mapValue);default:throw Ne()}}function uo(p,o){if("string"==typeof p&&"string"==typeof o&&p.length===o.length)return Sn(p,o);const c=qo(p),h=qo(o),_=Sn(c.seconds,h.seconds);return 0!==_?_:Sn(c.nanos,h.nanos)}function ts(p){return Pa(p)}function Pa(p){return"nullValue"in p?"null":"booleanValue"in p?""+p.booleanValue:"integerValue"in p?""+p.integerValue:"doubleValue"in p?""+p.doubleValue:"timestampValue"in p?function(c){const h=qo(c);return`time(${h.seconds},${h.nanos})`}(p.timestampValue):"stringValue"in p?p.stringValue:"bytesValue"in p?_s(p.bytesValue).toBase64():"referenceValue"in p?Ht.fromName(p.referenceValue).toString():"geoPointValue"in p?function(c){return`geo(${c.latitude},${c.longitude})`}(p.geoPointValue):"arrayValue"in p?function(c){let h="[",_=!0;for(const C of c.values||[])_?_=!1:h+=",",h+=Pa(C);return h+"]"}(p.arrayValue):"mapValue"in p?function(c){const h=Object.keys(c.fields||{}).sort();let _="{",C=!0;for(const b of h)C?C=!1:_+=",",_+=`${b}:${Pa(c.fields[b])}`;return _+"}"}(p.mapValue):Ne()}function Vo(p,o){return{referenceValue:`projects/${p.projectId}/databases/${p.database}/documents/${o.path.canonicalString()}`}}function Ko(p){return!!p&&"integerValue"in p}function ns(p){return!!p&&"arrayValue"in p}function _u(p){return!!p&&"nullValue"in p}function _o(p){return!!p&&"doubleValue"in p&&isNaN(Number(p.doubleValue))}function Na(p){return!!p&&"mapValue"in p}function rs(p){if(p.geoPointValue)return{geoPointValue:Object.assign({},p.geoPointValue)};if(p.timestampValue&&"object"==typeof p.timestampValue)return{timestampValue:Object.assign({},p.timestampValue)};if(p.mapValue){const o={mapValue:{fields:{}}};return Bi(p.mapValue.fields,(c,h)=>o.mapValue.fields[c]=rs(h)),o}if(p.arrayValue){const o={arrayValue:{values:[]}};for(let c=0;c<(p.arrayValue.values||[]).length;++c)o.arrayValue.values[c]=rs(p.arrayValue.values[c]);return o}return Object.assign({},p)}function la(p){return"__max__"===(((p.mapValue||{}).fields||{}).__type__||{}).stringValue}class Qi{constructor(o){this.value=o}static empty(){return new Qi({mapValue:{}})}field(o){if(o.isEmpty())return this.value;{let c=this.value;for(let h=0;h<o.length-1;++h)if(c=(c.mapValue.fields||{})[o.get(h)],!Na(c))return null;return c=(c.mapValue.fields||{})[o.lastSegment()],c||null}}set(o,c){this.getFieldsMap(o.popLast())[o.lastSegment()]=rs(c)}setAll(o){let c=on.emptyPath(),h={},_=[];o.forEach((b,L)=>{if(!c.isImmediateParentOf(L)){const G=this.getFieldsMap(c);this.applyChanges(G,h,_),h={},_=[],c=L.popLast()}b?h[L.lastSegment()]=rs(b):_.push(L.lastSegment())});const C=this.getFieldsMap(c);this.applyChanges(C,h,_)}delete(o){const c=this.field(o.popLast());Na(c)&&c.mapValue.fields&&delete c.mapValue.fields[o.lastSegment()]}isEqual(o){return ao(this.value,o.value)}getFieldsMap(o){let c=this.value;c.mapValue.fields||(c.mapValue={fields:{}});for(let h=0;h<o.length;++h){let _=c.mapValue.fields[o.get(h)];Na(_)&&_.mapValue.fields||(_={mapValue:{fields:{}}},c.mapValue.fields[o.get(h)]=_),c=_}return c.mapValue.fields}applyChanges(o,c,h){Bi(c,(_,C)=>o[_]=C);for(const _ of h)delete o[_]}clone(){return new Qi(rs(this.value))}}function vu(p){const o=[];return Bi(p.fields,(c,h)=>{const _=new on([c]);if(Na(h)){const C=vu(h.mapValue).fields;if(0===C.length)o.push(_);else for(const b of C)o.push(_.child(b))}else o.push(_)}),new Di(o)}class hi{constructor(o,c,h,_,C,b,L){this.key=o,this.documentType=c,this.version=h,this.readTime=_,this.createTime=C,this.data=b,this.documentState=L}static newInvalidDocument(o){return new hi(o,0,rn.min(),rn.min(),rn.min(),Qi.empty(),0)}static newFoundDocument(o,c,h,_){return new hi(o,1,c,rn.min(),h,_,0)}static newNoDocument(o,c){return new hi(o,2,c,rn.min(),rn.min(),Qi.empty(),0)}static newUnknownDocument(o,c){return new hi(o,3,c,rn.min(),rn.min(),Qi.empty(),2)}convertToFoundDocument(o,c){return!this.createTime.isEqual(rn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=o),this.version=o,this.documentType=1,this.data=c,this.documentState=0,this}convertToNoDocument(o){return this.version=o,this.documentType=2,this.data=Qi.empty(),this.documentState=0,this}convertToUnknownDocument(o){return this.version=o,this.documentType=3,this.data=Qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rn.min(),this}setReadTime(o){return this.readTime=o,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(o){return o instanceof hi&&this.key.isEqual(o.key)&&this.version.isEqual(o.version)&&this.documentType===o.documentType&&this.documentState===o.documentState&&this.data.isEqual(o.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zi{constructor(o,c){this.position=o,this.inclusive=c}}function $c(p,o,c){let h=0;for(let _=0;_<p.position.length;_++){const C=o[_],b=p.position[_];if(h=C.field.isKeyField()?Ht.comparator(Ht.fromName(b.referenceValue),c.key):Es(b,c.data.field(C.field)),"desc"===C.dir&&(h*=-1),0!==h)break}return h}function qa(p,o){if(null===p)return null===o;if(null===o||p.inclusive!==o.inclusive||p.position.length!==o.position.length)return!1;for(let c=0;c<p.position.length;c++)if(!ao(p.position[c],o.position[c]))return!1;return!0}class Ka{constructor(o,c="asc"){this.field=o,this.dir=c}}function Bu(p,o){return p.dir===o.dir&&p.field.isEqual(o.field)}class nn{}class Hn extends nn{constructor(o,c,h){super(),this.field=o,this.op=c,this.value=h}static create(o,c,h){return o.isKeyField()?"in"===c||"not-in"===c?this.createKeyFieldInFilter(o,c,h):new gc(o,c,h):"array-contains"===c?new Ar(o,h):"in"===c?new Uu(o,h):"not-in"===c?new ju(o,h):"array-contains-any"===c?new zr(o,h):new Hn(o,c,h)}static createKeyFieldInFilter(o,c,h){return"in"===c?new yu(o,h):new Xa(o,h)}matches(o){const c=o.data.field(this.field);return"!="===this.op?null!==c&&this.matchesComparison(Es(c,this.value)):null!==c&&Lo(this.value)===Lo(c)&&this.matchesComparison(Es(c,this.value))}matchesComparison(o){switch(this.op){case"<":return o<0;case"<=":return o<=0;case"==":return 0===o;case"!=":return 0!==o;case">":return o>0;case">=":return o>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends nn{constructor(o,c){super(),this.filters=o,this.op=c,this.ae=null}static create(o,c){return new dr(o,c)}matches(o){return Fs(this)?void 0===this.filters.find(c=>!c.matches(o)):void 0!==this.filters.find(c=>c.matches(o))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((o,c)=>o.concat(c.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Fs(p){return"and"===p.op}function ha(p){return function pc(p){for(const o of p.filters)if(o instanceof dr)return!1;return!0}(p)&&Fs(p)}function ro(p){if(p instanceof Hn)return p.field.canonicalString()+p.op.toString()+ts(p.value);if(ha(p))return p.filters.map(o=>ro(o)).join(",");{const o=p.filters.map(c=>ro(c)).join(",");return`${p.op}(${o})`}}function fa(p,o){return p instanceof Hn?(h=p,(_=o)instanceof Hn&&h.op===_.op&&h.field.isEqual(_.field)&&ao(h.value,_.value)):p instanceof dr?function(h,_){return _ instanceof dr&&h.op===_.op&&h.filters.length===_.filters.length&&h.filters.reduce((C,b,L)=>C&&fa(b,_.filters[L]),!0)}(p,o):void Ne();var h,_}function Ls(p){return p instanceof Hn?`${(c=p).field.canonicalString()} ${c.op} ${ts(c.value)}`:p instanceof dr?function(c){return c.op.toString()+" {"+c.getFilters().map(Ls).join(" ,")+"}"}(p):"Filter";var c}class gc extends Hn{constructor(o,c,h){super(o,c,h),this.key=Ht.fromName(h.referenceValue)}matches(o){const c=Ht.comparator(o.key,this.key);return this.matchesComparison(c)}}class yu extends Hn{constructor(o,c){super(o,"in",c),this.keys=Vs(0,c)}matches(o){return this.keys.some(c=>c.isEqual(o.key))}}class Xa extends Hn{constructor(o,c){super(o,"not-in",c),this.keys=Vs(0,c)}matches(o){return!this.keys.some(c=>c.isEqual(o.key))}}function Vs(p,o){var c;return((null===(c=o.arrayValue)||void 0===c?void 0:c.values)||[]).map(h=>Ht.fromName(h.referenceValue))}class Ar extends Hn{constructor(o,c){super(o,"array-contains",c)}matches(o){const c=o.data.field(this.field);return ns(c)&&ys(c.arrayValue,this.value)}}class Uu extends Hn{constructor(o,c){super(o,"in",c)}matches(o){const c=o.data.field(this.field);return null!==c&&ys(this.value.arrayValue,c)}}class ju extends Hn{constructor(o,c){super(o,"not-in",c)}matches(o){if(ys(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const c=o.data.field(this.field);return null!==c&&!ys(this.value.arrayValue,c)}}class zr extends Hn{constructor(o,c){super(o,"array-contains-any",c)}matches(o){const c=o.data.field(this.field);return!(!ns(c)||!c.arrayValue.values)&&c.arrayValue.values.some(h=>ys(this.value.arrayValue,h))}}class Hu{constructor(o,c=null,h=[],_=[],C=null,b=null,L=null){this.path=o,this.collectionGroup=c,this.orderBy=h,this.filters=_,this.limit=C,this.startAt=b,this.endAt=L,this.ue=null}}function Tr(p,o=null,c=[],h=[],_=null,C=null,b=null){return new Hu(p,o,c,h,_,C,b)}function is(p){const o=Le(p);if(null===o.ue){let c=o.path.canonicalString();null!==o.collectionGroup&&(c+="|cg:"+o.collectionGroup),c+="|f:",c+=o.filters.map(h=>ro(h)).join(","),c+="|ob:",c+=o.orderBy.map(h=>{return(C=h).field.canonicalString()+C.dir;var C}).join(","),ri(o.limit)||(c+="|l:",c+=o.limit),o.startAt&&(c+="|lb:",c+=o.startAt.inclusive?"b:":"a:",c+=o.startAt.position.map(h=>ts(h)).join(",")),o.endAt&&(c+="|ub:",c+=o.endAt.inclusive?"a:":"b:",c+=o.endAt.position.map(h=>ts(h)).join(",")),o.ue=c}return o.ue}function Gu(p,o){if(p.limit!==o.limit||p.orderBy.length!==o.orderBy.length)return!1;for(let c=0;c<p.orderBy.length;c++)if(!Bu(p.orderBy[c],o.orderBy[c]))return!1;if(p.filters.length!==o.filters.length)return!1;for(let c=0;c<p.filters.length;c++)if(!fa(p.filters[c],o.filters[c]))return!1;return p.collectionGroup===o.collectionGroup&&!!p.path.isEqual(o.path)&&!!qa(p.startAt,o.startAt)&&qa(p.endAt,o.endAt)}function $u(p){return Ht.isDocumentKey(p.path)&&null===p.collectionGroup&&0===p.filters.length}class Yi{constructor(o,c=null,h=[],_=[],C=null,b="F",L=null,G=null){this.path=o,this.collectionGroup=c,this.explicitOrderBy=h,this.filters=_,this.limit=C,this.limitType=b,this.startAt=L,this.endAt=G,this.ce=null,this.le=null,this.he=null}}function Bo(p){return new Yi(p)}function Or(p){return 0===p.filters.length&&null===p.limit&&null==p.startAt&&null==p.endAt&&(0===p.explicitOrderBy.length||1===p.explicitOrderBy.length&&p.explicitOrderBy[0].field.isKeyField())}function Is(p){return null!==p.collectionGroup}function Eu(p){const o=Le(p);if(null===o.ce){o.ce=[];const c=new Set;for(const C of o.explicitOrderBy)o.ce.push(C),c.add(C.field.canonicalString());const h=o.explicitOrderBy.length>0?o.explicitOrderBy[o.explicitOrderBy.length-1].dir:"asc";(function(b){let L=new Vn(on.comparator);return b.filters.forEach(G=>{G.getFlattenedFilters().forEach(Q=>{Q.isInequality()&&(L=L.add(Q.field))})}),L})(o).forEach(C=>{c.has(C.canonicalString())||C.isKeyField()||o.ce.push(new Ka(C,h))}),c.has(on.keyField().canonicalString())||o.ce.push(new Ka(on.keyField(),h))}return o.ce}function To(p){const o=Le(p);return o.le||(o.le=function pl(p,o){if("F"===p.limitType)return Tr(p.path,p.collectionGroup,o,p.filters,p.limit,p.startAt,p.endAt);{o=o.map(_=>new Ka(_.field,"desc"===_.dir?"asc":"desc"));const c=p.endAt?new zi(p.endAt.position,p.endAt.inclusive):null,h=p.startAt?new zi(p.startAt.position,p.startAt.inclusive):null;return Tr(p.path,p.collectionGroup,o,p.filters,p.limit,c,h)}}(o,Eu(p))),o.le}function Y(p,o){const c=p.filters.concat([o]);return new Yi(p.path,p.collectionGroup,p.explicitOrderBy.slice(),c,p.limit,p.limitType,p.startAt,p.endAt)}function Z(p,o,c){return new Yi(p.path,p.collectionGroup,p.explicitOrderBy.slice(),p.filters.slice(),o,c,p.startAt,p.endAt)}function H(p,o){return Gu(To(p),To(o))&&p.limitType===o.limitType}function oe(p){return`${is(To(p))}|lt:${p.limitType}`}function be(p){return`Query(target=${function(c){let h=c.path.canonicalString();return null!==c.collectionGroup&&(h+=" collectionGroup="+c.collectionGroup),c.filters.length>0&&(h+=`, filters: [${c.filters.map(_=>Ls(_)).join(", ")}]`),ri(c.limit)||(h+=", limit: "+c.limit),c.orderBy.length>0&&(h+=`, orderBy: [${c.orderBy.map(_=>{return`${(b=_).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),c.startAt&&(h+=", startAt: ",h+=c.startAt.inclusive?"b:":"a:",h+=c.startAt.position.map(_=>ts(_)).join(",")),c.endAt&&(h+=", endAt: ",h+=c.endAt.inclusive?"a:":"b:",h+=c.endAt.position.map(_=>ts(_)).join(",")),`Target(${h})`}(To(p))}; limitType=${p.limitType})`}function Ot(p,o){return o.isFoundDocument()&&function(h,_){const C=_.key.path;return null!==h.collectionGroup?_.key.hasCollectionId(h.collectionGroup)&&h.path.isPrefixOf(C):Ht.isDocumentKey(h.path)?h.path.isEqual(C):h.path.isImmediateParentOf(C)}(p,o)&&function(h,_){for(const C of Eu(h))if(!C.field.isKeyField()&&null===_.data.field(C.field))return!1;return!0}(p,o)&&function(h,_){for(const C of h.filters)if(!C.matches(_))return!1;return!0}(p,o)&&(_=o,!((h=p).startAt&&!function(b,L,G){const Q=$c(b,L,G);return b.inclusive?Q<=0:Q<0}(h.startAt,Eu(h),_)||h.endAt&&!function(b,L,G){const Q=$c(b,L,G);return b.inclusive?Q>=0:Q>0}(h.endAt,Eu(h),_)));var h,_}function Uo(p){return(o,c)=>{let h=!1;for(const _ of Eu(p)){const C=pa(_,o,c);if(0!==C)return C;h=h||_.field.isKeyField()}return 0}}function pa(p,o,c){const h=p.field.isKeyField()?Ht.comparator(o.key,c.key):function(C,b,L){const G=b.data.field(C),Q=L.data.field(C);return null!==G&&null!==Q?Es(G,Q):Ne()}(p.field,o,c);switch(p.dir){case"asc":return h;case"desc":return-1*h;default:return Ne()}}class bo{constructor(o,c){this.mapKeyFn=o,this.equalsFn=c,this.inner={},this.innerSize=0}get(o){const c=this.mapKeyFn(o),h=this.inner[c];if(void 0!==h)for(const[_,C]of h)if(this.equalsFn(_,o))return C}has(o){return void 0!==this.get(o)}set(o,c){const h=this.mapKeyFn(o),_=this.inner[h];if(void 0===_)return this.inner[h]=[[o,c]],void this.innerSize++;for(let C=0;C<_.length;C++)if(this.equalsFn(_[C][0],o))return void(_[C]=[o,c]);_.push([o,c]),this.innerSize++}delete(o){const c=this.mapKeyFn(o),h=this.inner[c];if(void 0===h)return!1;for(let _=0;_<h.length;_++)if(this.equalsFn(h[_][0],o))return 1===h.length?delete this.inner[c]:h.splice(_,1),this.innerSize--,!0;return!1}forEach(o){Bi(this.inner,(c,h)=>{for(const[_,C]of h)o(_,C)})}isEmpty(){return Ao(this.inner)}size(){return this.innerSize}}const Bs=new Yn(Ht.comparator);function Tn(){return Bs}const _c=new Yn(Ht.comparator);function Us(...p){let o=_c;for(const c of p)o=o.insert(c.key,c);return o}function Wr(p){let o=_c;return p.forEach((c,h)=>o=o.insert(c,h.overlayedDocument)),o}function js(){return _n()}function Cu(){return _n()}function _n(){return new bo(p=>p.toString(),(p,o)=>p.isEqual(o))}const As=new Yn(Ht.comparator),vc=new Vn(Ht.comparator);function Qn(...p){let o=vc;for(const c of p)o=o.add(c);return o}const Rd=new Vn(Sn);function er(p,o){if(p.useProto3Json){if(isNaN(o))return{doubleValue:"NaN"};if(o===1/0)return{doubleValue:"Infinity"};if(o===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wn(o)?"-0":o}}function zu(p){return{integerValue:""+p}}function yc(p,o){return function Vi(p){return"number"==typeof p&&Number.isInteger(p)&&!Wn(p)&&p<=Number.MAX_SAFE_INTEGER&&p>=Number.MIN_SAFE_INTEGER}(o)?zu(o):er(p,o)}class jr{constructor(){this._=void 0}}function Wc(p,o,c){return p instanceof Ec?function(_,C){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:_.seconds,nanos:_.nanoseconds}}}};return C&&Vu(C)&&(C=Oa(C)),C&&(b.fields.__previous_value__=C),{mapValue:b}}(c,o):p instanceof Qa?Cc(p,o):p instanceof wc?Iu(p,o):function(_,C){const b=wu(_,C),L=Wu(b)+Wu(_.Pe);return Ko(b)&&Ko(_.Pe)?zu(L):er(_.serializer,L)}(p,o)}function qc(p,o,c){return p instanceof Qa?Cc(p,o):p instanceof wc?Iu(p,o):c}function wu(p,o){return p instanceof Qr?Ko(h=o)||(C=h)&&"doubleValue"in C?o:{integerValue:0}:null;var h,C}class Ec extends jr{}class Qa extends jr{constructor(o){super(),this.elements=o}}function Cc(p,o){const c=sr(o);for(const h of p.elements)c.some(_=>ao(_,h))||c.push(h);return{arrayValue:{values:c}}}class wc extends jr{constructor(o){super(),this.elements=o}}function Iu(p,o){let c=sr(o);for(const h of p.elements)c=c.filter(_=>!ao(_,h));return{arrayValue:{values:c}}}class Qr extends jr{constructor(o,c){super(),this.serializer=o,this.Pe=c}}function Wu(p){return Ri(p.integerValue||p.doubleValue)}function sr(p){return ns(p)&&p.arrayValue.values?p.arrayValue.values.slice():[]}class Za{constructor(o,c){this.version=o,this.transformResults=c}}class Ln{constructor(o,c){this.updateTime=o,this.exists=c}static none(){return new Ln}static exists(o){return new Ln(void 0,o)}static updateTime(o){return new Ln(o)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(o){return this.exists===o.exists&&(this.updateTime?!!o.updateTime&&this.updateTime.isEqual(o.updateTime):!o.updateTime)}}function qn(p,o){return void 0!==p.updateTime?o.isFoundDocument()&&o.version.isEqual(p.updateTime):void 0===p.exists||p.exists===o.isFoundDocument()}class br{}function Qt(p,o){if(!p.hasLocalMutations||o&&0===o.fields.length)return null;if(null===o)return p.isNoDocument()?new dt(p.key,Ln.none()):new F(p.key,p.data,Ln.none());{const c=p.data,h=Qi.empty();let _=new Vn(on.comparator);for(let C of o.fields)if(!_.has(C)){let b=c.field(C);null===b&&C.length>1&&(C=C.popLast(),b=c.field(C)),null===b?h.delete(C):h.set(C,b),_=_.add(C)}return new re(p.key,h,new Di(_.toArray()),Ln.none())}}function Eh(p,o,c){p instanceof F?function(_,C,b){const L=_.value.clone(),G=ne(_.fieldTransforms,C,b.transformResults);L.setAll(G),C.convertToFoundDocument(b.version,L).setHasCommittedMutations()}(p,o,c):p instanceof re?function(_,C,b){if(!qn(_.precondition,C))return void C.convertToUnknownDocument(b.version);const L=ne(_.fieldTransforms,C,b.transformResults),G=C.data;G.setAll(W(_)),G.setAll(L),C.convertToFoundDocument(b.version,G).setHasCommittedMutations()}(p,o,c):o.convertToNoDocument(c.version).setHasCommittedMutations()}function vr(p,o,c,h){return p instanceof F?function(C,b,L,G){if(!qn(C.precondition,b))return L;const Q=C.value.clone(),ue=we(C.fieldTransforms,G,b);return Q.setAll(ue),b.convertToFoundDocument(b.version,Q).setHasLocalMutations(),null}(p,o,c,h):p instanceof re?function(C,b,L,G){if(!qn(C.precondition,b))return L;const Q=we(C.fieldTransforms,G,b),ue=b.data;return ue.setAll(W(C)),ue.setAll(Q),b.convertToFoundDocument(b.version,ue).setHasLocalMutations(),null===L?null:L.unionWith(C.fieldMask.fields).unionWith(C.fieldTransforms.map(Ce=>Ce.field))}(p,o,c,h):(L=c,qn(p.precondition,b=o)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):L);var b,L}function Ch(p,o){let c=null;for(const h of p.fieldTransforms){const _=o.data.field(h.field),C=wu(h.transform,_||null);null!=C&&(null===c&&(c=Qi.empty()),c.set(h.field,C))}return c||null}function co(p,o){return p.type===o.type&&!!p.key.isEqual(o.key)&&!!p.precondition.isEqual(o.precondition)&&(_=o.fieldTransforms,!!(void 0===(h=p.fieldTransforms)&&void 0===_||h&&_&&_r(h,_,(C,b)=>function _i(p,o){return p.field.isEqual(o.field)&&(_=o.transform,(h=p.transform)instanceof Qa&&_ instanceof Qa||h instanceof wc&&_ instanceof wc?_r(h.elements,_.elements,ao):h instanceof Qr&&_ instanceof Qr?ao(h.Pe,_.Pe):h instanceof Ec&&_ instanceof Ec);var h,_}(C,b))))&&(0===p.type?p.value.isEqual(o.value):1!==p.type||p.data.isEqual(o.data)&&p.fieldMask.isEqual(o.fieldMask));var h,_}class F extends br{constructor(o,c,h,_=[]){super(),this.key=o,this.value=c,this.precondition=h,this.fieldTransforms=_,this.type=0}getFieldMask(){return null}}class re extends br{constructor(o,c,h,_,C=[]){super(),this.key=o,this.data=c,this.fieldMask=h,this.precondition=_,this.fieldTransforms=C,this.type=1}getFieldMask(){return this.fieldMask}}function W(p){const o=new Map;return p.fieldMask.fields.forEach(c=>{if(!c.isEmpty()){const h=p.data.field(c);o.set(c,h)}}),o}function ne(p,o,c){const h=new Map;Ue(p.length===c.length);for(let _=0;_<c.length;_++){const C=p[_],b=C.transform,L=o.data.field(C.field);h.set(C.field,qc(b,L,c[_]))}return h}function we(p,o,c){const h=new Map;for(const _ of p){const C=_.transform,b=c.data.field(_.field);h.set(_.field,Wc(C,b,o))}return h}class dt extends br{constructor(o,c){super(),this.key=o,this.precondition=c,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mt extends br{constructor(o,c){super(),this.key=o,this.precondition=c,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pn{constructor(o,c,h,_){this.batchId=o,this.localWriteTime=c,this.baseMutations=h,this.mutations=_}applyToRemoteDocument(o,c){const h=c.mutationResults;for(let _=0;_<this.mutations.length;_++){const C=this.mutations[_];C.key.isEqual(o.key)&&Eh(C,o,h[_])}}applyToLocalView(o,c){for(const h of this.baseMutations)h.key.isEqual(o.key)&&(c=vr(h,o,c,this.localWriteTime));for(const h of this.mutations)h.key.isEqual(o.key)&&(c=vr(h,o,c,this.localWriteTime));return c}applyToLocalDocumentSet(o,c){const h=Cu();return this.mutations.forEach(_=>{const C=o.get(_.key),b=C.overlayedDocument;let L=this.applyToLocalView(b,C.mutatedFields);L=c.has(_.key)?null:L;const G=Qt(b,L);null!==G&&h.set(_.key,G),b.isValidDocument()||b.convertToNoDocument(rn.min())}),h}keys(){return this.mutations.reduce((o,c)=>o.add(c.key),Qn())}isEqual(o){return this.batchId===o.batchId&&_r(this.mutations,o.mutations,(c,h)=>co(c,h))&&_r(this.baseMutations,o.baseMutations,(c,h)=>co(c,h))}}class fn{constructor(o,c,h,_){this.batch=o,this.commitVersion=c,this.mutationResults=h,this.docVersions=_}static from(o,c,h){Ue(o.mutations.length===h.length);let _=function(){return As}();const C=o.mutations;for(let b=0;b<C.length;b++)_=_.insert(C[b].key,h[b].version);return new fn(o,c,h,_)}}class qr{constructor(o,c){this.largestBatchId=o,this.mutation=c}getKey(){return this.mutation.key}isEqual(o){return null!==o&&this.mutation===o.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hr{constructor(o,c){this.count=o,this.unchangedNames=c}}var cr,Ke;function Qo(p){if(void 0===p)return en("GRPC error has no .code"),le.UNKNOWN;switch(p){case cr.OK:return le.OK;case cr.CANCELLED:return le.CANCELLED;case cr.UNKNOWN:return le.UNKNOWN;case cr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case cr.INTERNAL:return le.INTERNAL;case cr.UNAVAILABLE:return le.UNAVAILABLE;case cr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case cr.NOT_FOUND:return le.NOT_FOUND;case cr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case cr.ABORTED:return le.ABORTED;case cr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case cr.DATA_LOSS:return le.DATA_LOSS;default:return Ne()}}(Ke=cr||(cr={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";const na=new Et([4294967295,4294967295],0);function Mi(p){const o=function Yo(){return new TextEncoder}().encode(p),c=new We;return c.update(o),new Uint8Array(c.digest())}function ga(p){const o=new DataView(p.buffer),c=o.getUint32(0,!0),h=o.getUint32(4,!0),_=o.getUint32(8,!0),C=o.getUint32(12,!0);return[new Et([c,h],0),new Et([_,C],0)]}class vn{constructor(o,c,h){if(this.bitmap=o,this.padding=c,this.hashCount=h,c<0||c>=8)throw new Ts(`Invalid padding: ${c}`);if(h<0)throw new Ts(`Invalid hash count: ${h}`);if(o.length>0&&0===this.hashCount)throw new Ts(`Invalid hash count: ${h}`);if(0===o.length&&0!==c)throw new Ts(`Invalid padding when bitmap length is 0: ${c}`);this.Ie=8*o.length-c,this.Te=Et.fromNumber(this.Ie)}Ee(o,c,h){let _=o.add(c.multiply(Et.fromNumber(h)));return 1===_.compare(na)&&(_=new Et([_.getBits(0),_.getBits(1)],0)),_.modulo(this.Te).toNumber()}de(o){return!!(this.bitmap[Math.floor(o/8)]&1<<o%8)}mightContain(o){if(0===this.Ie)return!1;const c=Mi(o),[h,_]=ga(c);for(let C=0;C<this.hashCount;C++){const b=this.Ee(h,_,C);if(!this.de(b))return!1}return!0}static create(o,c,h){const _=o%8==0?0:8-o%8,C=new Uint8Array(Math.ceil(o/8)),b=new vn(C,_,c);return h.forEach(L=>b.insert(L)),b}insert(o){if(0===this.Ie)return;const c=Mi(o),[h,_]=ga(c);for(let C=0;C<this.hashCount;C++){const b=this.Ee(h,_,C);this.Ae(b)}}Ae(o){const c=Math.floor(o/8);this.bitmap[c]|=1<<o%8}}class Ts extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bs{constructor(o,c,h,_,C){this.snapshotVersion=o,this.targetChanges=c,this.targetMismatches=h,this.documentUpdates=_,this.resolvedLimboDocuments=C}static createSynthesizedRemoteEventForCurrentChange(o,c,h){const _=new Map;return _.set(o,xs.createSynthesizedTargetChangeForCurrentChange(o,c,h)),new bs(rn.min(),_,new Yn(Sn),Tn(),Qn())}}class xs{constructor(o,c,h,_,C){this.resumeToken=o,this.current=c,this.addedDocuments=h,this.modifiedDocuments=_,this.removedDocuments=C}static createSynthesizedTargetChangeForCurrentChange(o,c,h){return new xs(h,c,Qn(),Qn(),Qn())}}class qu{constructor(o,c,h,_){this.Re=o,this.removedTargetIds=c,this.key=h,this.Ve=_}}class Hl{constructor(o,c){this.targetId=o,this.me=c}}class Md{constructor(o,c,h=Ui.EMPTY_BYTE_STRING,_=null){this.state=o,this.targetIds=c,this.resumeToken=h,this.cause=_}}class ss{constructor(){this.fe=0,this.ge=ia(),this.pe=Ui.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(o){o.approximateByteSize()>0&&(this.we=!0,this.pe=o)}Ce(){let o=Qn(),c=Qn(),h=Qn();return this.ge.forEach((_,C)=>{switch(C){case 0:o=o.add(_);break;case 2:c=c.add(_);break;case 1:h=h.add(_);break;default:Ne()}}),new xs(this.pe,this.ye,o,c,h)}ve(){this.we=!1,this.ge=ia()}Fe(o,c){this.we=!0,this.ge=this.ge.insert(o,c)}Me(o){this.we=!0,this.ge=this.ge.remove(o)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xo{constructor(o){this.Le=o,this.Be=new Map,this.ke=Tn(),this.qe=ra(),this.Qe=new Yn(Sn)}Ke(o){for(const c of o.Re)o.Ve&&o.Ve.isFoundDocument()?this.$e(c,o.Ve):this.Ue(c,o.key,o.Ve);for(const c of o.removedTargetIds)this.Ue(c,o.key,o.Ve)}We(o){this.forEachTarget(o,c=>{const h=this.Ge(c);switch(o.state){case 0:this.ze(c)&&h.De(o.resumeToken);break;case 1:h.Oe(),h.Se||h.ve(),h.De(o.resumeToken);break;case 2:h.Oe(),h.Se||this.removeTarget(c);break;case 3:this.ze(c)&&(h.Ne(),h.De(o.resumeToken));break;case 4:this.ze(c)&&(this.je(c),h.De(o.resumeToken));break;default:Ne()}})}forEachTarget(o,c){o.targetIds.length>0?o.targetIds.forEach(c):this.Be.forEach((h,_)=>{this.ze(_)&&c(_)})}He(o){const c=o.targetId,h=o.me.count,_=this.Je(c);if(_){const C=_.target;if($u(C))if(0===h){const b=new Ht(C.path);this.Ue(c,b,hi.newNoDocument(b,rn.min()))}else Ue(1===h);else{const b=this.Ye(c);if(b!==h){const L=this.Ze(o),G=L?this.Xe(L,o,b):1;0!==G&&(this.je(c),this.Qe=this.Qe.insert(c,2===G?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(o){const c=o.me.unchangedNames;if(!c||!c.bits)return null;const{bits:{bitmap:h="",padding:_=0},hashCount:C=0}=c;let b,L;try{b=_s(h).toUint8Array()}catch(G){if(G instanceof ks)return Fr("Decoding the base64 bloom filter in existence filter failed ("+G.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw G}try{L=new vn(b,_,C)}catch(G){return Fr(G instanceof Ts?"BloomFilter error: ":"Applying bloom filter failed: ",G),null}return 0===L.Ie?null:L}Xe(o,c,h){return c.me.count===h-this.nt(o,c.targetId)?0:2}nt(o,c){const h=this.Le.getRemoteKeysForTarget(c);let _=0;return h.forEach(C=>{const b=this.Le.tt(),L=`projects/${b.projectId}/databases/${b.database}/documents/${C.path.canonicalString()}`;o.mightContain(L)||(this.Ue(c,C,null),_++)}),_}rt(o){const c=new Map;this.Be.forEach((C,b)=>{const L=this.Je(b);if(L){if(C.current&&$u(L.target)){const G=new Ht(L.target.path);null!==this.ke.get(G)||this.it(b,G)||this.Ue(b,G,hi.newNoDocument(G,o))}C.be&&(c.set(b,C.Ce()),C.ve())}});let h=Qn();this.qe.forEach((C,b)=>{let L=!0;b.forEachWhile(G=>{const Q=this.Je(G);return!Q||"TargetPurposeLimboResolution"===Q.purpose||(L=!1,!1)}),L&&(h=h.add(C))}),this.ke.forEach((C,b)=>b.setReadTime(o));const _=new bs(o,c,this.Qe,this.ke,h);return this.ke=Tn(),this.qe=ra(),this.Qe=new Yn(Sn),_}$e(o,c){if(!this.ze(o))return;const h=this.it(o,c.key)?2:0;this.Ge(o).Fe(c.key,h),this.ke=this.ke.insert(c.key,c),this.qe=this.qe.insert(c.key,this.st(c.key).add(o))}Ue(o,c,h){if(!this.ze(o))return;const _=this.Ge(o);this.it(o,c)?_.Fe(c,1):_.Me(c),this.qe=this.qe.insert(c,this.st(c).delete(o)),h&&(this.ke=this.ke.insert(c,h))}removeTarget(o){this.Be.delete(o)}Ye(o){const c=this.Ge(o).Ce();return this.Le.getRemoteKeysForTarget(o).size+c.addedDocuments.size-c.removedDocuments.size}xe(o){this.Ge(o).xe()}Ge(o){let c=this.Be.get(o);return c||(c=new ss,this.Be.set(o,c)),c}st(o){let c=this.qe.get(o);return c||(c=new Vn(Sn),this.qe=this.qe.insert(o,c)),c}ze(o){const c=null!==this.Je(o);return c||vt("WatchChangeAggregator","Detected inactive target",o),c}Je(o){const c=this.Be.get(o);return c&&c.Se?null:this.Le.ot(o)}je(o){this.Be.set(o,new ss),this.Le.getRemoteKeysForTarget(o).forEach(c=>{this.Ue(o,c,null)})}it(o,c){return this.Le.getRemoteKeysForTarget(o).has(c)}}function ra(){return new Yn(Ht.comparator)}function ia(){return new Yn(Ht.comparator)}const Gl={asc:"ASCENDING",desc:"DESCENDING"},qi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kc={and:"AND",or:"OR"};class cn{constructor(o,c){this.databaseId=o,this.useProto3Json=c}}function ka(p,o){return p.useProto3Json||ri(o)?o:{value:o}}function Zi(p,o){return p.useProto3Json?`${new Date(1e3*o.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+o.nanoseconds).slice(-9)}Z`:{seconds:""+o.seconds,nanos:o.nanoseconds}}function gl(p,o){return p.useProto3Json?o.toBase64():o.toUint8Array()}function Ic(p,o){return Zi(p,o.toTimestamp())}function Oi(p){return Ue(!!p),rn.fromTimestamp(function(c){const h=qo(c);return new ur(h.seconds,h.nanos)}(p))}function Ac(p,o){return Xc(p,o).canonicalString()}function Xc(p,o){const c=(_=p,new Nt(["projects",_.projectId,"databases",_.database])).child("documents");var _;return void 0===o?c:c.child(o)}function Ja(p){const o=Nt.fromString(p);return Ue(Od(o)),o}function vi(p,o){return Ac(p.databaseId,o.path)}function as(p,o){const c=Ja(o);if(c.get(1)!==p.databaseId.projectId)throw new pe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+c.get(1)+" vs "+p.databaseId.projectId);if(c.get(3)!==p.databaseId.database)throw new pe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+c.get(3)+" vs "+p.databaseId.database);return new Ht(fi(c))}function Ku(p,o){return Ac(p.databaseId,o)}function $l(p){return new Nt(["projects",p.databaseId.projectId,"databases",p.databaseId.database]).canonicalString()}function fi(p){return Ue(p.length>4&&"documents"===p.get(4)),p.popFirst(5)}function Pr(p,o,c){return{name:vi(p,o),fields:c.value.mapValue.fields}}function Fa(p,o){return{documents:[Ku(p,o.path)]}}function Ji(p,o){const c={structuredQuery:{}},h=o.path;let _;null!==o.collectionGroup?(_=h,c.structuredQuery.from=[{collectionId:o.collectionGroup,allDescendants:!0}]):(_=h.popLast(),c.structuredQuery.from=[{collectionId:h.lastSegment()}]),c.parent=Ku(p,_);const C=function(Q){if(0!==Q.length)return _l(dr.create(Q,"and"))}(o.filters);C&&(c.structuredQuery.where=C);const b=function(Q){if(0!==Q.length)return Q.map(ue=>{return{field:gn((Fe=ue).field),direction:Jc(Fe.dir)};var Fe})}(o.orderBy);b&&(c.structuredQuery.orderBy=b);const L=ka(p,o.limit);return null!==L&&(c.structuredQuery.limit=L),o.startAt&&(c.structuredQuery.startAt={before:(Q=o.startAt).inclusive,values:Q.position}),o.endAt&&(c.structuredQuery.endAt=function(Q){return{before:!Q.inclusive,values:Q.position}}(o.endAt)),{_t:c,parent:_};var Q}function Yc(p){let o=function yo(p){const o=Ja(p);return 4===o.length?Nt.emptyPath():fi(o)}(p.parent);const c=p.structuredQuery,h=c.from?c.from.length:0;let _=null;if(h>0){Ue(1===h);const ue=c.from[0];ue.allDescendants?_=ue.collectionId:o=o.child(ue.collectionId)}let C=[];c.where&&(C=function(Ce){const Fe=wr(Ce);return Fe instanceof dr&&ha(Fe)?Fe.getFilters():[Fe]}(c.where));let b=[];c.orderBy&&(b=c.orderBy.map(Fe=>{return new Ka(bc((Lt=Fe).field),function(jt){switch(jt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Lt.direction));var Lt}));let L=null;c.limit&&(L=function(Ce){let Fe;return Fe="object"==typeof Ce?Ce.value:Ce,ri(Fe)?null:Fe}(c.limit));let G=null;var Ce;c.startAt&&(G=new zi((Ce=c.startAt).values||[],!!Ce.before));let Q=null;return c.endAt&&(Q=function(Ce){return new zi(Ce.values||[],!Ce.before)}(c.endAt)),function mc(p,o,c,h,_,C,b,L){return new Yi(p,o,c,h,_,C,b,L)}(o,_,b,C,L,"F",G,Q)}function wr(p){return void 0!==p.unaryFilter?function(c){switch(c.unaryFilter.op){case"IS_NAN":const h=bc(c.unaryFilter.field);return Hn.create(h,"==",{doubleValue:NaN});case"IS_NULL":const _=bc(c.unaryFilter.field);return Hn.create(_,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const C=bc(c.unaryFilter.field);return Hn.create(C,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=bc(c.unaryFilter.field);return Hn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(p):void 0!==p.fieldFilter?Hn.create(bc((c=p).fieldFilter.field),function(_){switch(_){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(c.fieldFilter.op),c.fieldFilter.value):void 0!==p.compositeFilter?function(c){return dr.create(c.compositeFilter.filters.map(h=>wr(h)),function(_){switch(_){case"AND":return"and";case"OR":return"or";default:return Ne()}}(c.compositeFilter.op))}(p):Ne();var c}function Jc(p){return Gl[p]}function ml(p){return qi[p]}function Wl(p){return Kc[p]}function gn(p){return{fieldPath:p.canonicalString()}}function bc(p){return on.fromServerFormat(p.fieldPath)}function _l(p){return p instanceof Hn?function(c){if("=="===c.op){if(_o(c.value))return{unaryFilter:{field:gn(c.field),op:"IS_NAN"}};if(_u(c.value))return{unaryFilter:{field:gn(c.field),op:"IS_NULL"}}}else if("!="===c.op){if(_o(c.value))return{unaryFilter:{field:gn(c.field),op:"IS_NOT_NAN"}};if(_u(c.value))return{unaryFilter:{field:gn(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gn(c.field),op:ml(c.op),value:c.value}}}(p):p instanceof dr?function(c){const h=c.getFilters().map(_=>_l(_));return 1===h.length?h[0]:{compositeFilter:{op:Wl(c.op),filters:h}}}(p):Ne()}function La(p){const o=[];return p.fields.forEach(c=>o.push(c.canonicalString())),{fieldPaths:o}}function Od(p){return p.length>=4&&"projects"===p.get(0)&&"databases"===p.get(2)}class _a{constructor(o,c,h,_,C=rn.min(),b=rn.min(),L=Ui.EMPTY_BYTE_STRING,G=null){this.target=o,this.targetId=c,this.purpose=h,this.sequenceNumber=_,this.snapshotVersion=C,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=L,this.expectedCount=G}withSequenceNumber(o){return new _a(this.target,this.targetId,this.purpose,o,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(o,c){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,c,this.lastLimboFreeSnapshotVersion,o,null)}withExpectedCount(o){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,o)}withLastLimboFreeSnapshotVersion(o){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,o,this.resumeToken,this.expectedCount)}}class Pd{constructor(o){this.ct=o}}function R(p){const o=Yc({parent:p.parent,structuredQuery:p.structuredQuery});return"LAST"===p.limitType?Z(o,o.limit,"L"):o}class Rn{constructor(){}Pt(o,c){this.It(o,c),c.Tt()}It(o,c){if("nullValue"in o)this.Et(c,5);else if("booleanValue"in o)this.Et(c,10),c.dt(o.booleanValue?1:0);else if("integerValue"in o)this.Et(c,15),c.dt(Ri(o.integerValue));else if("doubleValue"in o){const h=Ri(o.doubleValue);isNaN(h)?this.Et(c,13):(this.Et(c,15),Wn(h)?c.dt(0):c.dt(h))}else if("timestampValue"in o){let h=o.timestampValue;this.Et(c,20),"string"==typeof h&&(h=qo(h)),c.At(`${h.seconds||""}`),c.dt(h.nanos||0)}else if("stringValue"in o)this.Rt(o.stringValue,c),this.Vt(c);else if("bytesValue"in o)this.Et(c,30),c.ft(_s(o.bytesValue)),this.Vt(c);else if("referenceValue"in o)this.gt(o.referenceValue,c);else if("geoPointValue"in o){const h=o.geoPointValue;this.Et(c,45),c.dt(h.latitude||0),c.dt(h.longitude||0)}else"mapValue"in o?la(o)?this.Et(c,Number.MAX_SAFE_INTEGER):(this.yt(o.mapValue,c),this.Vt(c)):"arrayValue"in o?(this.wt(o.arrayValue,c),this.Vt(c)):Ne()}Rt(o,c){this.Et(c,25),this.St(o,c)}St(o,c){c.At(o)}yt(o,c){const h=o.fields||{};this.Et(c,55);for(const _ of Object.keys(h))this.Rt(_,c),this.It(h[_],c)}wt(o,c){const h=o.values||[];this.Et(c,50);for(const _ of h)this.It(_,c)}gt(o,c){this.Et(c,37),Ht.fromName(o).path.forEach(h=>{this.Et(c,60),this.St(h,c)})}Et(o,c){o.dt(c)}Vt(o){o.dt(2)}}Rn.bt=new Rn;class Xl{constructor(){this._n=new Ql}addToCollectionParentIndex(o,c){return this._n.add(c),fe.resolve()}getCollectionParents(o,c){return fe.resolve(this._n.getEntries(c))}addFieldIndex(o,c){return fe.resolve()}deleteFieldIndex(o,c){return fe.resolve()}deleteAllFieldIndexes(o){return fe.resolve()}createTargetIndexes(o,c){return fe.resolve()}getDocumentsMatchingTarget(o,c){return fe.resolve(null)}getIndexType(o,c){return fe.resolve(0)}getFieldIndexes(o,c){return fe.resolve([])}getNextCollectionGroupToUpdate(o){return fe.resolve(null)}getMinOffset(o,c){return fe.resolve(zn.min())}getMinOffsetFromCollectionGroup(o,c){return fe.resolve(zn.min())}updateCollectionGroup(o,c,h){return fe.resolve()}updateIndexEntries(o,c){return fe.resolve()}}class Ql{constructor(){this.index={}}add(o){const c=o.lastSegment(),h=o.popLast(),_=this.index[c]||new Vn(Nt.comparator),C=!_.has(h);return this.index[c]=_.add(h),C}has(o){const c=o.lastSegment(),h=o.popLast(),_=this.index[c];return _&&_.has(h)}getEntries(o){return(this.index[o]||new Vn(Nt.comparator)).toArray()}}new Uint8Array(0);class Nr{constructor(o,c,h){this.cacheSizeCollectionThreshold=o,this.percentileToCollect=c,this.maximumSequenceNumbersToCollect=h}static withCacheSize(o){return new Nr(o,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Nr.DEFAULT_COLLECTION_PERCENTILE=10,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nr.DEFAULT=new Nr(41943040,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nr.DISABLED=new Nr(-1,0,0);class nu{constructor(o){this.On=o}next(){return this.On+=2,this.On}static Nn(){return new nu(0)}static Ln(){return new nu(-1)}}class xh{constructor(){this.changes=new bo(o=>o.toString(),(o,c)=>o.isEqual(c)),this.changesApplied=!1}addEntry(o){this.assertNotApplied(),this.changes.set(o.key,o)}removeEntry(o,c){this.assertNotApplied(),this.changes.set(o,hi.newInvalidDocument(o).setReadTime(c))}getEntry(o,c){this.assertNotApplied();const h=this.changes.get(c);return void 0!==h?fe.resolve(h):this.getFromCache(o,c)}getEntries(o,c){return this.getAllFromCache(o,c)}apply(o){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(o)}assertNotApplied(){}}class ls{constructor(o,c){this.overlayedDocument=o,this.mutatedFields=c}}class ds{constructor(o,c,h,_){this.remoteDocumentCache=o,this.mutationQueue=c,this.documentOverlayCache=h,this.indexManager=_}getDocument(o,c){let h=null;return this.documentOverlayCache.getOverlay(o,c).next(_=>(h=_,this.remoteDocumentCache.getEntry(o,c))).next(_=>(null!==h&&vr(h.mutation,_,Di.empty(),ur.now()),_))}getDocuments(o,c){return this.remoteDocumentCache.getEntries(o,c).next(h=>this.getLocalViewOfDocuments(o,h,Qn()).next(()=>h))}getLocalViewOfDocuments(o,c,h=Qn()){const _=js();return this.populateOverlays(o,_,c).next(()=>this.computeViews(o,c,_,h).next(C=>{let b=Us();return C.forEach((L,G)=>{b=b.insert(L,G.overlayedDocument)}),b}))}getOverlayedDocuments(o,c){const h=js();return this.populateOverlays(o,h,c).next(()=>this.computeViews(o,c,h,Qn()))}populateOverlays(o,c,h){const _=[];return h.forEach(C=>{c.has(C)||_.push(C)}),this.documentOverlayCache.getOverlays(o,_).next(C=>{C.forEach((b,L)=>{c.set(b,L)})})}computeViews(o,c,h,_){let C=Tn();const b=_n(),L=_n();return c.forEach((G,Q)=>{const ue=h.get(Q.key);_.has(Q.key)&&(void 0===ue||ue.mutation instanceof re)?C=C.insert(Q.key,Q):void 0!==ue?(b.set(Q.key,ue.mutation.getFieldMask()),vr(ue.mutation,Q,ue.mutation.getFieldMask(),ur.now())):b.set(Q.key,Di.empty())}),this.recalculateAndSaveOverlays(o,C).next(G=>(G.forEach((Q,ue)=>b.set(Q,ue)),c.forEach((Q,ue)=>{var Ce;return L.set(Q,new ls(ue,null!==(Ce=b.get(Q))&&void 0!==Ce?Ce:null))}),L))}recalculateAndSaveOverlays(o,c){const h=_n();let _=new Yn((b,L)=>b-L),C=Qn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(o,c).next(b=>{for(const L of b)L.keys().forEach(G=>{const Q=c.get(G);if(null===Q)return;let ue=h.get(G)||Di.empty();ue=L.applyToLocalView(Q,ue),h.set(G,ue);const Ce=(_.get(L.batchId)||Qn()).add(G);_=_.insert(L.batchId,Ce)})}).next(()=>{const b=[],L=_.getReverseIterator();for(;L.hasNext();){const G=L.getNext(),Q=G.key,ue=G.value,Ce=Cu();ue.forEach(Fe=>{if(!C.has(Fe)){const gt=Qt(c.get(Fe),h.get(Fe));null!==gt&&Ce.set(Fe,gt),C=C.add(Fe)}}),b.push(this.documentOverlayCache.saveOverlays(o,Q,Ce))}return fe.waitFor(b)}).next(()=>h)}recalculateAndSaveOverlaysForDocumentKeys(o,c){return this.remoteDocumentCache.getEntries(o,c).next(h=>this.recalculateAndSaveOverlays(o,h))}getDocumentsMatchingQuery(o,c,h,_){return Ht.isDocumentKey((b=c).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(o,c.path):Is(c)?this.getDocumentsMatchingCollectionGroupQuery(o,c,h,_):this.getDocumentsMatchingCollectionQuery(o,c,h,_);var b}getNextDocuments(o,c,h,_){return this.remoteDocumentCache.getAllFromCollectionGroup(o,c,h,_).next(C=>{const b=_-C.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(o,c,h.largestBatchId,_-C.size):fe.resolve(js());let L=-1,G=C;return b.next(Q=>fe.forEach(Q,(ue,Ce)=>(L<Ce.largestBatchId&&(L=Ce.largestBatchId),C.get(ue)?fe.resolve():this.remoteDocumentCache.getEntry(o,ue).next(Fe=>{G=G.insert(ue,Fe)}))).next(()=>this.populateOverlays(o,Q,C)).next(()=>this.computeViews(o,G,Q,Qn())).next(ue=>({batchId:L,changes:Wr(ue)})))})}getDocumentsMatchingDocumentQuery(o,c){return this.getDocument(o,new Ht(c)).next(h=>{let _=Us();return h.isFoundDocument()&&(_=_.insert(h.key,h)),_})}getDocumentsMatchingCollectionGroupQuery(o,c,h,_){const C=c.collectionGroup;let b=Us();return this.indexManager.getCollectionParents(o,C).next(L=>fe.forEach(L,G=>{const Q=(Ce=c,Fe=G.child(C),new Yi(Fe,null,Ce.explicitOrderBy.slice(),Ce.filters.slice(),Ce.limit,Ce.limitType,Ce.startAt,Ce.endAt));var Ce,Fe;return this.getDocumentsMatchingCollectionQuery(o,Q,h,_).next(ue=>{ue.forEach((Ce,Fe)=>{b=b.insert(Ce,Fe)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(o,c,h,_){let C;return this.documentOverlayCache.getOverlaysForCollection(o,c.path,h.largestBatchId).next(b=>(C=b,this.remoteDocumentCache.getDocumentsMatchingQuery(o,c,h,C,_))).next(b=>{C.forEach((G,Q)=>{const ue=Q.getKey();null===b.get(ue)&&(b=b.insert(ue,hi.newInvalidDocument(ue)))});let L=Us();return b.forEach((G,Q)=>{const ue=C.get(G);void 0!==ue&&vr(ue.mutation,Q,Di.empty(),ur.now()),Ot(c,Q)&&(L=L.insert(G,Q))}),L})}}class Cl{constructor(o){this.serializer=o,this.cr=new Map,this.lr=new Map}getBundleMetadata(o,c){return fe.resolve(this.cr.get(c))}saveBundleMetadata(o,c){return this.cr.set(c.id,{id:(_=c).id,version:_.version,createTime:Oi(_.createTime)}),fe.resolve();var _}getNamedQuery(o,c){return fe.resolve(this.lr.get(c))}saveNamedQuery(o,c){return this.lr.set(c.name,{name:(_=c).name,query:R(_.bundledQuery),readTime:Oi(_.readTime)}),fe.resolve();var _}}class Ei{constructor(){this.overlays=new Yn(Ht.comparator),this.hr=new Map}getOverlay(o,c){return fe.resolve(this.overlays.get(c))}getOverlays(o,c){const h=js();return fe.forEach(c,_=>this.getOverlay(o,_).next(C=>{null!==C&&h.set(_,C)})).next(()=>h)}saveOverlays(o,c,h){return h.forEach((_,C)=>{this.ht(o,c,C)}),fe.resolve()}removeOverlaysForBatchId(o,c,h){const _=this.hr.get(h);return void 0!==_&&(_.forEach(C=>this.overlays=this.overlays.remove(C)),this.hr.delete(h)),fe.resolve()}getOverlaysForCollection(o,c,h){const _=js(),C=c.length+1,b=new Ht(c.child("")),L=this.overlays.getIteratorFrom(b);for(;L.hasNext();){const G=L.getNext().value,Q=G.getKey();if(!c.isPrefixOf(Q.path))break;Q.path.length===C&&G.largestBatchId>h&&_.set(G.getKey(),G)}return fe.resolve(_)}getOverlaysForCollectionGroup(o,c,h,_){let C=new Yn((Q,ue)=>Q-ue);const b=this.overlays.getIterator();for(;b.hasNext();){const Q=b.getNext().value;if(Q.getKey().getCollectionGroup()===c&&Q.largestBatchId>h){let ue=C.get(Q.largestBatchId);null===ue&&(ue=js(),C=C.insert(Q.largestBatchId,ue)),ue.set(Q.getKey(),Q)}}const L=js(),G=C.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((Q,ue)=>L.set(Q,ue)),!(L.size()>=_)););return fe.resolve(L)}ht(o,c,h){const _=this.overlays.get(h.key);if(null!==_){const b=this.hr.get(_.largestBatchId).delete(h.key);this.hr.set(_.largestBatchId,b)}this.overlays=this.overlays.insert(h.key,new qr(c,h));let C=this.hr.get(c);void 0===C&&(C=Qn(),this.hr.set(c,C)),this.hr.set(c,C.add(h.key))}}class Pi{constructor(){this.Pr=new Vn(Ni.Ir),this.Tr=new Vn(Ni.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(o,c){const h=new Ni(o,c);this.Pr=this.Pr.add(h),this.Tr=this.Tr.add(h)}dr(o,c){o.forEach(h=>this.addReference(h,c))}removeReference(o,c){this.Ar(new Ni(o,c))}Rr(o,c){o.forEach(h=>this.removeReference(h,c))}Vr(o){const c=new Ht(new Nt([])),h=new Ni(c,o),_=new Ni(c,o+1),C=[];return this.Tr.forEachInRange([h,_],b=>{this.Ar(b),C.push(b.key)}),C}mr(){this.Pr.forEach(o=>this.Ar(o))}Ar(o){this.Pr=this.Pr.delete(o),this.Tr=this.Tr.delete(o)}gr(o){const c=new Ht(new Nt([])),h=new Ni(c,o),_=new Ni(c,o+1);let C=Qn();return this.Tr.forEachInRange([h,_],b=>{C=C.add(b.key)}),C}containsKey(o){const c=new Ni(o,0),h=this.Pr.firstAfterOrEqual(c);return null!==h&&o.isEqual(h.key)}}class Ni{constructor(o,c){this.key=o,this.pr=c}static Ir(o,c){return Ht.comparator(o.key,c.key)||Sn(o.pr,c.pr)}static Er(o,c){return Sn(o.pr,c.pr)||Ht.comparator(o.key,c.key)}}class Zn{constructor(o,c){this.indexManager=o,this.referenceDelegate=c,this.mutationQueue=[],this.yr=1,this.wr=new Vn(Ni.Ir)}checkEmpty(o){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(o,c,h,_){const C=this.yr;this.yr++;const b=new pn(C,c,h,_);this.mutationQueue.push(b);for(const L of _)this.wr=this.wr.add(new Ni(L.key,C)),this.indexManager.addToCollectionParentIndex(o,L.key.path.popLast());return fe.resolve(b)}lookupMutationBatch(o,c){return fe.resolve(this.Sr(c))}getNextMutationBatchAfterBatchId(o,c){const _=this.br(c+1),C=_<0?0:_;return fe.resolve(this.mutationQueue.length>C?this.mutationQueue[C]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(o){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(o,c){const h=new Ni(c,0),_=new Ni(c,Number.POSITIVE_INFINITY),C=[];return this.wr.forEachInRange([h,_],b=>{const L=this.Sr(b.pr);C.push(L)}),fe.resolve(C)}getAllMutationBatchesAffectingDocumentKeys(o,c){let h=new Vn(Sn);return c.forEach(_=>{const C=new Ni(_,0),b=new Ni(_,Number.POSITIVE_INFINITY);this.wr.forEachInRange([C,b],L=>{h=h.add(L.pr)})}),fe.resolve(this.Dr(h))}getAllMutationBatchesAffectingQuery(o,c){const h=c.path,_=h.length+1;let C=h;Ht.isDocumentKey(C)||(C=C.child(""));const b=new Ni(new Ht(C),0);let L=new Vn(Sn);return this.wr.forEachWhile(G=>{const Q=G.key.path;return!!h.isPrefixOf(Q)&&(Q.length===_&&(L=L.add(G.pr)),!0)},b),fe.resolve(this.Dr(L))}Dr(o){const c=[];return o.forEach(h=>{const _=this.Sr(h);null!==_&&c.push(_)}),c}removeMutationBatch(o,c){Ue(0===this.Cr(c.batchId,"removed")),this.mutationQueue.shift();let h=this.wr;return fe.forEach(c.mutations,_=>{const C=new Ni(_.key,c.batchId);return h=h.delete(C),this.referenceDelegate.markPotentiallyOrphaned(o,_.key)}).next(()=>{this.wr=h})}Mn(o){}containsKey(o,c){const h=new Ni(c,0),_=this.wr.firstAfterOrEqual(h);return fe.resolve(c.isEqual(_&&_.key))}performConsistencyCheck(o){return fe.resolve()}Cr(o,c){return this.br(o)}br(o){return 0===this.mutationQueue.length?0:o-this.mutationQueue[0].batchId}Sr(o){const c=this.br(o);return c<0||c>=this.mutationQueue.length?null:this.mutationQueue[c]}}class Jl{constructor(o){this.vr=o,this.docs=new Yn(Ht.comparator),this.size=0}setIndexManager(o){this.indexManager=o}addEntry(o,c){const h=c.key,_=this.docs.get(h),C=_?_.size:0,b=this.vr(c);return this.docs=this.docs.insert(h,{document:c.mutableCopy(),size:b}),this.size+=b-C,this.indexManager.addToCollectionParentIndex(o,h.path.popLast())}removeEntry(o){const c=this.docs.get(o);c&&(this.docs=this.docs.remove(o),this.size-=c.size)}getEntry(o,c){const h=this.docs.get(c);return fe.resolve(h?h.document.mutableCopy():hi.newInvalidDocument(c))}getEntries(o,c){let h=Tn();return c.forEach(_=>{const C=this.docs.get(_);h=h.insert(_,C?C.document.mutableCopy():hi.newInvalidDocument(_))}),fe.resolve(h)}getDocumentsMatchingQuery(o,c,h,_){let C=Tn();const b=c.path,L=new Ht(b.child("")),G=this.docs.getIteratorFrom(L);for(;G.hasNext();){const{key:Q,value:{document:ue}}=G.getNext();if(!b.isPrefixOf(Q.path))break;Q.path.length>b.length+1||gi(new zn((p=ue).readTime,p.key,-1),h)<=0||(_.has(ue.key)||Ot(c,ue))&&(C=C.insert(ue.key,ue.mutableCopy()))}var p;return fe.resolve(C)}getAllFromCollectionGroup(o,c,h,_){Ne()}Fr(o,c){return fe.forEach(this.docs,h=>c(h))}newChangeBuffer(o){return new ru(this)}getSize(o){return fe.resolve(this.size)}}class ru extends xh{constructor(o){super(),this.ar=o}applyChanges(o){const c=[];return this.changes.forEach((h,_)=>{_.isValidDocument()?c.push(this.ar.addEntry(o,_)):this.ar.removeEntry(h)}),fe.waitFor(c)}getFromCache(o,c){return this.ar.getEntry(o,c)}getAllFromCache(o,c){return this.ar.getEntries(o,c)}}class wl{constructor(o){this.persistence=o,this.Mr=new bo(c=>is(c),Gu),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Pi,this.targetCount=0,this.Lr=nu.Nn()}forEachTarget(o,c){return this.Mr.forEach((h,_)=>c(_)),fe.resolve()}getLastRemoteSnapshotVersion(o){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(o){return fe.resolve(this.Or)}allocateTargetId(o){return this.highestTargetId=this.Lr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(o,c,h){return h&&(this.lastRemoteSnapshotVersion=h),c>this.Or&&(this.Or=c),fe.resolve()}qn(o){this.Mr.set(o.target,o);const c=o.targetId;c>this.highestTargetId&&(this.Lr=new nu(c),this.highestTargetId=c),o.sequenceNumber>this.Or&&(this.Or=o.sequenceNumber)}addTargetData(o,c){return this.qn(c),this.targetCount+=1,fe.resolve()}updateTargetData(o,c){return this.qn(c),fe.resolve()}removeTargetData(o,c){return this.Mr.delete(c.target),this.Nr.Vr(c.targetId),this.targetCount-=1,fe.resolve()}removeTargets(o,c,h){let _=0;const C=[];return this.Mr.forEach((b,L)=>{L.sequenceNumber<=c&&null===h.get(L.targetId)&&(this.Mr.delete(b),C.push(this.removeMatchingKeysForTargetId(o,L.targetId)),_++)}),fe.waitFor(C).next(()=>_)}getTargetCount(o){return fe.resolve(this.targetCount)}getTargetData(o,c){const h=this.Mr.get(c)||null;return fe.resolve(h)}addMatchingKeys(o,c,h){return this.Nr.dr(c,h),fe.resolve()}removeMatchingKeys(o,c,h){this.Nr.Rr(c,h);const _=this.persistence.referenceDelegate,C=[];return _&&c.forEach(b=>{C.push(_.markPotentiallyOrphaned(o,b))}),fe.waitFor(C)}removeMatchingKeysForTargetId(o,c){return this.Nr.Vr(c),fe.resolve()}getMatchingKeysForTargetId(o,c){const h=this.Nr.gr(c);return fe.resolve(h)}containsKey(o,c){return fe.resolve(this.Nr.containsKey(c))}}class Ci{constructor(o,c){this.Br={},this.overlays={},this.kr=new yr(0),this.qr=!1,this.qr=!0,this.referenceDelegate=o(this),this.Qr=new wl(this),this.indexManager=new Xl,this.remoteDocumentCache=new Jl(h=>this.referenceDelegate.Kr(h)),this.serializer=new Pd(c),this.$r=new Cl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(o){return this.indexManager}getDocumentOverlayCache(o){let c=this.overlays[o.toKey()];return c||(c=new Ei,this.overlays[o.toKey()]=c),c}getMutationQueue(o,c){let h=this.Br[o.toKey()];return h||(h=new Zn(c,this.referenceDelegate),this.Br[o.toKey()]=h),h}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(o,c,h){vt("MemoryPersistence","Starting transaction:",o);const _=new rl(this.kr.next());return this.referenceDelegate.Ur(),h(_).next(C=>this.referenceDelegate.Wr(_).next(()=>C)).toPromise().then(C=>(_.raiseOnCommittedEvent(),C))}Gr(o,c){return fe.or(Object.values(this.Br).map(h=>()=>h.containsKey(o,c)))}}class rl extends Yr{constructor(o){super(),this.currentSequenceNumber=o}}class Ju{constructor(o){this.persistence=o,this.zr=new Pi,this.jr=null}static Hr(o){return new Ju(o)}get Jr(){if(this.jr)return this.jr;throw Ne()}addReference(o,c,h){return this.zr.addReference(h,c),this.Jr.delete(h.toString()),fe.resolve()}removeReference(o,c,h){return this.zr.removeReference(h,c),this.Jr.add(h.toString()),fe.resolve()}markPotentiallyOrphaned(o,c){return this.Jr.add(c.toString()),fe.resolve()}removeTarget(o,c){this.zr.Vr(c.targetId).forEach(_=>this.Jr.add(_.toString()));const h=this.persistence.getTargetCache();return h.getMatchingKeysForTargetId(o,c.targetId).next(_=>{_.forEach(C=>this.Jr.add(C.toString()))}).next(()=>h.removeTargetData(o,c))}Ur(){this.jr=new Set}Wr(o){const c=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Jr,h=>{const _=Ht.fromPath(h);return this.Yr(o,_).next(C=>{C||c.removeEntry(_,rn.min())})}).next(()=>(this.jr=null,c.apply(o)))}updateLimboDocument(o,c){return this.Yr(o,c).next(h=>{h?this.Jr.delete(c.toString()):this.Jr.add(c.toString())})}Kr(o){return 0}Yr(o,c){return fe.or([()=>fe.resolve(this.zr.containsKey(c)),()=>this.persistence.getTargetCache().containsKey(o,c),()=>this.persistence.Gr(o,c)])}}class il{constructor(o,c,h,_){this.targetId=o,this.fromCache=c,this.qi=h,this.Qi=_}static Ki(o,c){let h=Qn(),_=Qn();for(const C of c.docChanges)switch(C.type){case 0:h=h.add(C.doc.key);break;case 1:_=_.add(C.doc.key)}return new il(o,c.fromCache,h,_)}}class xu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(o){this._documentReadCount+=o}}class Al{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,Ee.nr)()?8:function Qe(p){const o=p.match(/Android ([\d.]+)/i),c=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(c)}((0,Ee.ZQ)())>0?6:4}initialize(o,c){this.zi=o,this.indexManager=c,this.$i=!0}getDocumentsMatchingQuery(o,c,h,_){const C={result:null};return this.ji(o,c).next(b=>{C.result=b}).next(()=>{if(!C.result)return this.Hi(o,c,_,h).next(b=>{C.result=b})}).next(()=>{if(C.result)return;const b=new xu;return this.Ji(o,c,b).next(L=>{if(C.result=L,this.Ui)return this.Yi(o,c,b,L.size)})}).next(()=>C.result)}Yi(o,c,h,_){return h.documentReadCount<this.Wi?(Vr()<=lt.$b.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",be(c),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),fe.resolve()):(Vr()<=lt.$b.DEBUG&&vt("QueryEngine","Query:",be(c),"scans",h.documentReadCount,"local documents and returns",_,"documents as results."),h.documentReadCount>this.Gi*_?(Vr()<=lt.$b.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",be(c),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(o,To(c))):fe.resolve())}ji(o,c){if(Or(c))return fe.resolve(null);let h=To(c);return this.indexManager.getIndexType(o,h).next(_=>0===_?null:(null!==c.limit&&1===_&&(c=Z(c,null,"F"),h=To(c)),this.indexManager.getDocumentsMatchingTarget(o,h).next(C=>{const b=Qn(...C);return this.zi.getDocuments(o,b).next(L=>this.indexManager.getMinOffset(o,h).next(G=>{const Q=this.Zi(c,L);return this.Xi(c,Q,b,G.readTime)?this.ji(o,Z(c,null,"F")):this.es(o,Q,c,G)}))})))}Hi(o,c,h,_){return Or(c)||_.isEqual(rn.min())?fe.resolve(null):this.zi.getDocuments(o,h).next(C=>{const b=this.Zi(c,C);return this.Xi(c,b,h,_)?fe.resolve(null):(Vr()<=lt.$b.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",_.toString(),be(c)),this.es(o,b,c,function Un(p,o){const c=p.toTimestamp().seconds,h=p.toTimestamp().nanoseconds+1,_=rn.fromTimestamp(1e9===h?new ur(c+1,0):new ur(c,h));return new zn(_,Ht.empty(),o)}(_,-1)).next(L=>L))})}Zi(o,c){let h=new Vn(Uo(o));return c.forEach((_,C)=>{Ot(o,C)&&(h=h.add(C))}),h}Xi(o,c,h,_){if(null===o.limit)return!1;if(h.size!==c.size)return!0;const C="F"===o.limitType?c.last():c.first();return!!C&&(C.hasPendingWrites||C.version.compareTo(_)>0)}Ji(o,c,h){return Vr()<=lt.$b.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",be(c)),this.zi.getDocumentsMatchingQuery(o,c,zn.min(),h)}es(o,c,h,_){return this.zi.getDocumentsMatchingQuery(o,h,_).next(C=>(c.forEach(b=>{C=C.insert(b.key,b)}),C))}}class ec{constructor(o,c,h,_){this.persistence=o,this.ts=c,this.serializer=_,this.ns=new Yn(Sn),this.rs=new bo(C=>is(C),Gu),this.ss=new Map,this.os=o.getRemoteDocumentCache(),this.Qr=o.getTargetCache(),this.$r=o.getBundleCache(),this._s(h)}_s(o){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(o),this.indexManager=this.persistence.getIndexManager(o),this.mutationQueue=this.persistence.getMutationQueue(o,this.indexManager),this.localDocuments=new ds(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(o){return this.persistence.runTransaction("Collect garbage","readwrite-primary",c=>o.collect(c,this.ns))}}function Tl(p,o){return Do.apply(this,arguments)}function Do(){return(Do=(0,ye.A)(function*(p,o){const c=Le(p);return yield c.persistence.runTransaction("Handle user change","readonly",h=>{let _;return c.mutationQueue.getAllMutationBatches(h).next(C=>(_=C,c._s(o),c.mutationQueue.getAllMutationBatches(h))).next(C=>{const b=[],L=[];let G=Qn();for(const Q of _){b.push(Q.batchId);for(const ue of Q.mutations)G=G.add(ue.key)}for(const Q of C){L.push(Q.batchId);for(const ue of Q.mutations)G=G.add(ue.key)}return c.localDocuments.getDocuments(h,G).next(Q=>({us:Q,removedBatchIds:b,addedBatchIds:L}))})})})).apply(this,arguments)}function zs(p){const o=Le(p);return o.persistence.runTransaction("Get last remote snapshot version","readonly",c=>o.Qr.getLastRemoteSnapshotVersion(c))}function Ca(p,o){const c=Le(p);return c.persistence.runTransaction("Get next mutation batch","readonly",h=>(void 0===o&&(o=-1),c.mutationQueue.getNextMutationBatchAfterBatchId(h,o)))}function bl(p,o,c){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,ye.A)(function*(p,o,c){const h=Le(p),_=h.ns.get(o),C=c?"readwrite":"readwrite-primary";try{c||(yield h.persistence.runTransaction("Release target",C,b=>h.persistence.referenceDelegate.removeTarget(b,_)))}catch(b){if(!Se(b))throw b;vt("LocalStore",`Failed to update sequence numbers for target ${o}: ${b}`)}h.ns=h.ns.remove(o),h.rs.delete(_.target)})).apply(this,arguments)}function ol(p,o,c){const h=Le(p);let _=rn.min(),C=Qn();return h.persistence.runTransaction("Execute query","readwrite",b=>function(G,Q,ue){const Ce=Le(G),Fe=Ce.rs.get(ue);return void 0!==Fe?fe.resolve(Ce.ns.get(Fe)):Ce.Qr.getTargetData(Q,ue)}(h,b,To(o)).next(L=>{if(L)return _=L.lastLimboFreeSnapshotVersion,h.Qr.getMatchingKeysForTargetId(b,L.targetId).next(G=>{C=G})}).next(()=>h.ts.getDocumentsMatchingQuery(b,o,c?_:rn.min(),c?C:Qn())).next(L=>(function xl(p,o,c){let h=p.ss.get(o)||rn.min();c.forEach((_,C)=>{C.readTime.compareTo(h)>0&&(h=C.readTime)}),p.ss.set(o,h)}(h,function Gn(p){return p.collectionGroup||(p.path.length%2==1?p.path.lastSegment():p.path.get(p.path.length-2))}(o),L),{documents:L,hs:C})))}class Of{constructor(){this.activeTargetIds=function mi(){return Rd}()}As(o){this.activeTargetIds=this.activeTargetIds.add(o)}Rs(o){this.activeTargetIds=this.activeTargetIds.delete(o)}ds(){const o={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(o)}}class M{constructor(){this.no=new Of,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(o){}updateMutationState(o,c,h){}addLocalQueryTarget(o){return this.no.As(o),this.ro[o]||"not-current"}updateQueryState(o,c,h){this.ro[o]=c}removeLocalQueryTarget(o){this.no.Rs(o)}isLocalQueryTarget(o){return this.no.activeTargetIds.has(o)}clearQueryState(o){delete this.ro[o]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(o){return this.no.activeTargetIds.has(o)}start(){return this.no=new Of,Promise.resolve()}handleUserChange(o,c,h){}setOnlineState(o){}shutdown(){}writeSequenceNumber(o){}notifyBundleLoaded(o){}}class E{io(o){}shutdown(){}}class A{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(o){this.uo.push(o)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const o of this.uo)o(0)}ao(){vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const o of this.uo)o(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let k=null;function te(){return null===k?k=268435456+Math.round(2147483648*Math.random()):k++,"0x"+k.toString(16)}const ce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ge{constructor(o){this.lo=o.lo,this.ho=o.ho}Po(o){this.Io=o}To(o){this.Eo=o}Ao(o){this.Ro=o}onMessage(o){this.Vo=o}close(){this.ho()}send(o){this.lo(o)}mo(){this.Io()}fo(){this.Eo()}po(o){this.Ro(o)}yo(o){this.Vo(o)}}const ot="WebChannelConnection";class Vt extends class{constructor(c){this.databaseInfo=c,this.databaseId=c.databaseId;const h=c.ssl?"https":"http",_=encodeURIComponent(this.databaseId.projectId),C=encodeURIComponent(this.databaseId.database);this.wo=h+"://"+c.host,this.So=`projects/${_}/databases/${C}`,this.bo="(default)"===this.databaseId.database?`project_id=${_}`:`project_id=${_}&database_id=${C}`}get Do(){return!1}Co(c,h,_,C,b){const L=te(),G=this.vo(c,h.toUriEncodedString());vt("RestConnection",`Sending RPC '${c}' ${L}:`,G,_);const Q={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(Q,C,b),this.Mo(c,G,Q,_).then(ue=>(vt("RestConnection",`Received RPC '${c}' ${L}: `,ue),ue),ue=>{throw Fr("RestConnection",`RPC '${c}' ${L} failed with error: `,ue,"url: ",G,"request:",_),ue})}xo(c,h,_,C,b,L){return this.Co(c,h,_,C,b)}Fo(c,h,_){c["X-Goog-Api-Client"]="gl-js/ fire/"+Yt,c["Content-Type"]="text/plain",this.databaseInfo.appId&&(c["X-Firebase-GMPID"]=this.databaseInfo.appId),h&&h.headers.forEach((C,b)=>c[b]=C),_&&_.headers.forEach((C,b)=>c[b]=C)}vo(c,h){return`${this.wo}/v1/${h}:${ce[c]}`}terminate(){}}{constructor(o){super(o),this.forceLongPolling=o.forceLongPolling,this.autoDetectLongPolling=o.autoDetectLongPolling,this.useFetchStreams=o.useFetchStreams,this.longPollingOptions=o.longPollingOptions}Mo(o,c,h,_){const C=te();return new Promise((b,L)=>{const G=new hn;G.setWithCredentials(!0),G.listenOnce(An.COMPLETE,()=>{try{switch(G.getLastErrorCode()){case Pt.NO_ERROR:const ue=G.getResponseJson();vt(ot,`XHR for RPC '${o}' ${C} received:`,JSON.stringify(ue)),b(ue);break;case Pt.TIMEOUT:vt(ot,`RPC '${o}' ${C} timed out`),L(new pe(le.DEADLINE_EXCEEDED,"Request time out"));break;case Pt.HTTP_ERROR:const Ce=G.getStatus();if(vt(ot,`RPC '${o}' ${C} failed with status:`,Ce,"response text:",G.getResponseText()),Ce>0){let Fe=G.getResponseJson();Array.isArray(Fe)&&(Fe=Fe[0]);const gt=Fe?.error;if(gt&&gt.status&&gt.message){const Lt=function(jt){const xn=jt.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(xn)>=0?xn:le.UNKNOWN}(gt.status);L(new pe(Lt,gt.message))}else L(new pe(le.UNKNOWN,"Server responded with status "+G.getStatus()))}else L(new pe(le.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{vt(ot,`RPC '${o}' ${C} completed.`)}});const Q=JSON.stringify(_);vt(ot,`RPC '${o}' ${C} sending request:`,_),G.send(c,"POST",Q,h,15)})}Oo(o,c,h){const _=te(),C=[this.wo,"/","google.firestore.v1.Firestore","/",o,"/channel"],b=ut(),L=_t(),G={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Q=this.longPollingOptions.timeoutSeconds;void 0!==Q&&(G.longPollingTimeout=Math.round(1e3*Q)),this.useFetchStreams&&(G.xmlHttpFactory=new Wt({})),this.Fo(G.initMessageHeaders,c,h),G.encodeInitMessageHeaders=!0;const ue=C.join("");vt(ot,`Creating RPC '${o}' stream ${_}: ${ue}`,G);const Ce=b.createWebChannel(ue,G);let Fe=!1,gt=!1;const Lt=new Ge({lo:jt=>{gt?vt(ot,`Not sending because RPC '${o}' stream ${_} is closed:`,jt):(Fe||(vt(ot,`Opening RPC '${o}' stream ${_} transport.`),Ce.open(),Fe=!0),vt(ot,`RPC '${o}' stream ${_} sending:`,jt),Ce.send(jt))},ho:()=>Ce.close()}),Zt=(jt,xn,$n)=>{jt.listen(xn,kn=>{try{$n(kn)}catch(mr){setTimeout(()=>{throw mr},0)}})};return Zt(Ce,Kn.EventType.OPEN,()=>{gt||(vt(ot,`RPC '${o}' stream ${_} transport opened.`),Lt.mo())}),Zt(Ce,Kn.EventType.CLOSE,()=>{gt||(gt=!0,vt(ot,`RPC '${o}' stream ${_} transport closed`),Lt.po())}),Zt(Ce,Kn.EventType.ERROR,jt=>{gt||(gt=!0,Fr(ot,`RPC '${o}' stream ${_} transport errored:`,jt),Lt.po(new pe(le.UNAVAILABLE,"The operation could not be completed")))}),Zt(Ce,Kn.EventType.MESSAGE,jt=>{var xn;if(!gt){const $n=jt.data[0];Ue(!!$n);const mr=$n.error||(null===(xn=$n[0])||void 0===xn?void 0:xn.error);if(mr){vt(ot,`RPC '${o}' stream ${_} received error:`,mr);const ai=mr.status;let Dr=function($e){const et=cr[$e];if(void 0!==et)return Qo(et)}(ai),Ze=mr.message;void 0===Dr&&(Dr=le.INTERNAL,Ze="Unknown error status: "+ai+" with message "+mr.message),gt=!0,Lt.po(new pe(Dr,Ze)),Ce.close()}else vt(ot,`RPC '${o}' stream ${_} received:`,$n),Lt.yo($n)}}),Zt(L,it.STAT_EVENT,jt=>{jt.stat===Je.PROXY?vt(ot,`RPC '${o}' stream ${_} detected buffering proxy`):jt.stat===Je.NOPROXY&&vt(ot,`RPC '${o}' stream ${_} detected no buffering proxy`)}),setTimeout(()=>{Lt.fo()},0),Lt}}function In(){return typeof document<"u"?document:null}function gr(p){return new cn(p,!0)}class hs{constructor(o,c,h=1e3,_=1.5,C=6e4){this.oi=o,this.timerId=c,this.No=h,this.Lo=_,this.Bo=C,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(o){this.cancel();const c=Math.floor(this.ko+this.Uo()),h=Math.max(0,Date.now()-this.Qo),_=Math.max(0,c-h);_>0&&vt("ExponentialBackoff",`Backing off for ${_} ms (base delay: ${this.ko} ms, delay with jitter: ${c} ms, last attempt: ${h} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,_,()=>(this.Qo=Date.now(),o())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class nc{constructor(o,c,h,_,C,b,L,G){this.oi=o,this.Go=h,this.zo=_,this.connection=C,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=L,this.listener=G,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new hs(o,c)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var o=this;return(0,ye.A)(function*(){o.Zo()&&(yield o.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(o){this.s_(),this.stream.send(o)}r_(){var o=this;return(0,ye.A)(function*(){if(o.Xo())return o.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(o,c){var h=this;return(0,ye.A)(function*(){h.s_(),h.o_(),h.Yo.cancel(),h.jo++,4!==o?h.Yo.reset():c&&c.code===le.RESOURCE_EXHAUSTED?(en(c.toString()),en("Using maximum backoff delay to prevent overloading the backend."),h.Yo.Ko()):c&&c.code===le.UNAUTHENTICATED&&3!==h.state&&(h.authCredentialsProvider.invalidateToken(),h.appCheckCredentialsProvider.invalidateToken()),null!==h.stream&&(h.__(),h.stream.close(),h.stream=null),h.state=o,yield h.listener.Ao(c)})()}__(){}auth(){this.state=1;const o=this.a_(this.jo),c=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([h,_])=>{this.jo===c&&this.u_(h,_)},h=>{o(()=>{const _=new pe(le.UNKNOWN,"Fetching auth token failed: "+h.message);return this.c_(_)})})}u_(o,c){const h=this.a_(this.jo);this.stream=this.l_(o,c),this.stream.Po(()=>{h(()=>this.listener.Po())}),this.stream.To(()=>{h(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(_=>{h(()=>this.c_(_))}),this.stream.onMessage(_=>{h(()=>this.onMessage(_))})}e_(){var o=this;this.state=5,this.Yo.$o((0,ye.A)(function*(){o.state=0,o.start()}))}c_(o){return vt("PersistentStream",`close with error: ${o}`),this.stream=null,this.close(4,o)}a_(o){return c=>{this.oi.enqueueAndForget(()=>this.jo===o?c():(vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dl extends nc{constructor(o,c,h,_,C,b){super(o,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",c,h,_,b),this.serializer=C}l_(o,c){return this.connection.Oo("Listen",o,c)}onMessage(o){this.Yo.reset();const c=function zl(p,o){let c;if("targetChange"in o){const h="NO_CHANGE"===(Q=o.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Q?1:"REMOVE"===Q?2:"CURRENT"===Q?3:"RESET"===Q?4:Ne(),_=o.targetChange.targetIds||[],C=function(Q,ue){return Q.useProto3Json?(Ue(void 0===ue||"string"==typeof ue),Ui.fromBase64String(ue||"")):(Ue(void 0===ue||ue instanceof Buffer||ue instanceof Uint8Array),Ui.fromUint8Array(ue||new Uint8Array))}(p,o.targetChange.resumeToken),b=o.targetChange.cause,L=b&&function(Q){const ue=void 0===Q.code?le.UNKNOWN:Qo(Q.code);return new pe(ue,Q.message||"")}(b);c=new Md(h,_,C,L||null)}else if("documentChange"in o){const h=o.documentChange,_=as(p,h.document.name),C=Oi(h.document.updateTime),b=h.document.createTime?Oi(h.document.createTime):rn.min(),L=new Qi({mapValue:{fields:h.document.fields}}),G=hi.newFoundDocument(_,C,b,L);c=new qu(h.targetIds||[],h.removedTargetIds||[],G.key,G)}else if("documentDelete"in o){const h=o.documentDelete,_=as(p,h.document),C=h.readTime?Oi(h.readTime):rn.min(),b=hi.newNoDocument(_,C);c=new qu([],h.removedTargetIds||[],b.key,b)}else if("documentRemove"in o){const h=o.documentRemove,_=as(p,h.document);c=new qu([],h.removedTargetIds||[],_,null)}else{if(!("filter"in o))return Ne();{const h=o.filter,{count:_=0,unchangedNames:C}=h,b=new hr(_,C);c=new Hl(h.targetId,b)}}var Q;return c}(this.serializer,o),h=function(C){if(!("targetChange"in C))return rn.min();const b=C.targetChange;return b.targetIds&&b.targetIds.length?rn.min():b.readTime?Oi(b.readTime):rn.min()}(o);return this.listener.h_(c,h)}P_(o){const c={};c.database=$l(this.serializer),c.addTarget=function(C,b){let L;const G=b.target;if(L=$u(G)?{documents:Fa(C,G)}:{query:Ji(C,G)._t},L.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){L.resumeToken=gl(C,b.resumeToken);const Q=ka(C,b.expectedCount);null!==Q&&(L.expectedCount=Q)}else if(b.snapshotVersion.compareTo(rn.min())>0){L.readTime=Zi(C,b.snapshotVersion.toTimestamp());const Q=ka(C,b.expectedCount);null!==Q&&(L.expectedCount=Q)}return L}(this.serializer,o);const h=function Zc(p,o){const c=function(_){switch(_){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(o.purpose);return null==c?null:{"goog-listen-tags":c}}(0,o);h&&(c.labels=h),this.i_(c)}I_(o){const c={};c.database=$l(this.serializer),c.removeTarget=o,this.i_(c)}}class Pf extends nc{constructor(o,c,h,_,C,b){super(o,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",c,h,_,b),this.serializer=C,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(o,c){return this.connection.Oo("Write",o,c)}onMessage(o){if(Ue(!!o.streamToken),this.lastStreamToken=o.streamToken,this.T_){this.Yo.reset();const c=function ma(p,o){return p&&p.length>0?(Ue(void 0!==o),p.map(c=>function(_,C){let b=Oi(_.updateTime?_.updateTime:C);return b.isEqual(rn.min())&&(b=Oi(C)),new Za(b,_.transformResults||[])}(c,o))):[]}(o.writeResults,o.commitTime),h=Oi(o.commitTime);return this.listener.A_(h,c)}return Ue(!o.writeResults||0===o.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const o={};o.database=$l(this.serializer),this.i_(o)}d_(o){const c={streamToken:this.lastStreamToken,writes:o.map(h=>function Au(p,o){let c;if(o instanceof F)c={update:Pr(p,o.key,o.value)};else if(o instanceof dt)c={delete:vi(p,o.key)};else if(o instanceof re)c={update:Pr(p,o.key,o.data),updateMask:La(o.fieldMask)};else{if(!(o instanceof mt))return Ne();c={verify:vi(p,o.key)}}return o.fieldTransforms.length>0&&(c.updateTransforms=o.fieldTransforms.map(h=>function(C,b){const L=b.transform;if(L instanceof Ec)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(L instanceof Qa)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:L.elements}};if(L instanceof wc)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:L.elements}};if(L instanceof Qr)return{fieldPath:b.field.canonicalString(),increment:L.Pe};throw Ne()}(0,h))),o.precondition.isNone||(c.currentDocument=void 0!==(C=o.precondition).updateTime?{updateTime:Ic(p,C.updateTime)}:void 0!==C.exists?{exists:C.exists}:Ne()),c;var C}(this.serializer,h))};this.i_(c)}}class Ua extends class{}{constructor(o,c,h,_){super(),this.authCredentials=o,this.appCheckCredentials=c,this.connection=h,this.serializer=_,this.m_=!1}f_(){if(this.m_)throw new pe(le.FAILED_PRECONDITION,"The client has already been terminated.")}Co(o,c,h,_){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([C,b])=>this.connection.Co(o,Xc(c,h),_,C,b)).catch(C=>{throw"FirebaseError"===C.name?(C.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),C):new pe(le.UNKNOWN,C.toString())})}xo(o,c,h,_,C){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,L])=>this.connection.xo(o,Xc(c,h),_,b,L,C)).catch(b=>{throw"FirebaseError"===b.name?(b.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new pe(le.UNKNOWN,b.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class td{constructor(o,c){this.asyncQueue=o,this.onlineStateHandler=c,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(o){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${o.toString()}`),this.S_("Offline")))}set(o){this.C_(),this.g_=0,"Online"===o&&(this.y_=!1),this.S_(o)}S_(o){o!==this.state&&(this.state=o,this.onlineStateHandler(o))}b_(o){const c=`Could not reach Cloud Firestore backend. ${o}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(en(c),this.y_=!1):vt("OnlineStateTracker",c)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Oh{constructor(o,c,h,_,C){var b=this;this.localStore=o,this.datastore=c,this.asyncQueue=h,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=C,this.O_.io(L=>{h.enqueueAndForget((0,ye.A)(function*(){var G;Ml(b)&&(vt("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,ye.A)(function*(ue){const Ce=Le(ue);Ce.M_.add(4),yield ou(Ce),Ce.N_.set("Unknown"),Ce.M_.delete(4),yield xr(Ce)}),function Q(ue){return G.apply(this,arguments)})(b))}))}),this.N_=new td(h,_)}}function xr(p){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,ye.A)(function*(p){if(Ml(p))for(const o of p.x_)yield o(!0)})).apply(this,arguments)}function ou(p){return eo.apply(this,arguments)}function eo(){return(eo=(0,ye.A)(function*(p){for(const o of p.x_)yield o(!1)})).apply(this,arguments)}function nd(p,o){const c=Le(p);c.F_.has(o.targetId)||(c.F_.set(o.targetId,o),Ph(c)?ti(c):od(c).Xo()&&su(c,o))}function rc(p,o){const c=Le(p),h=od(c);c.F_.delete(o),h.Xo()&&fr(c,o),0===c.F_.size&&(h.Xo()?h.n_():Ml(c)&&c.N_.set("Unknown"))}function su(p,o){if(p.L_.xe(o.targetId),o.resumeToken.approximateByteSize()>0||o.snapshotVersion.compareTo(rn.min())>0){const c=p.remoteSyncer.getRemoteKeysForTarget(o.targetId).size;o=o.withExpectedCount(c)}od(p).P_(o)}function fr(p,o){p.L_.xe(o),od(p).I_(o)}function ti(p){p.L_=new xo({getRemoteKeysForTarget:o=>p.remoteSyncer.getRemoteKeysForTarget(o),ot:o=>p.F_.get(o)||null,tt:()=>p.datastore.serializer.databaseId}),od(p).start(),p.N_.w_()}function Ph(p){return Ml(p)&&!od(p).Zo()&&p.F_.size>0}function Ml(p){return 0===Le(p).M_.size}function au(p){p.L_=void 0}function Im(p){return Nf.apply(this,arguments)}function Nf(){return(Nf=(0,ye.A)(function*(p){p.N_.set("Online")})).apply(this,arguments)}function Am(p){return rd.apply(this,arguments)}function rd(){return(rd=(0,ye.A)(function*(p){p.F_.forEach((o,c)=>{su(p,o)})})).apply(this,arguments)}function Up(p,o){return id.apply(this,arguments)}function id(){return(id=(0,ye.A)(function*(p,o){au(p),Ph(p)?(p.N_.D_(o),ti(p)):p.N_.set("Unknown")})).apply(this,arguments)}function Ho(p,o,c){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,ye.A)(function*(p,o,c){if(p.N_.set("Online"),o instanceof Md&&2===o.state&&o.cause)try{yield(h=(0,ye.A)(function*(C,b){const L=b.cause;for(const G of b.targetIds)C.F_.has(G)&&(yield C.remoteSyncer.rejectListen(G,L),C.F_.delete(G),C.L_.removeTarget(G))}),function _(C,b){return h.apply(this,arguments)})(p,o)}catch(h){vt("RemoteStore","Failed to remove targets %s: %s ",o.targetIds.join(","),h),yield Pc(p,h)}else if(o instanceof qu?p.L_.Ke(o):o instanceof Hl?p.L_.He(o):p.L_.We(o),!c.isEqual(rn.min()))try{const h=yield zs(p.localStore);c.compareTo(h)>=0&&(yield function(C,b){const L=C.L_.rt(b);return L.targetChanges.forEach((G,Q)=>{if(G.resumeToken.approximateByteSize()>0){const ue=C.F_.get(Q);ue&&C.F_.set(Q,ue.withResumeToken(G.resumeToken,b))}}),L.targetMismatches.forEach((G,Q)=>{const ue=C.F_.get(G);if(!ue)return;C.F_.set(G,ue.withResumeToken(Ui.EMPTY_BYTE_STRING,ue.snapshotVersion)),fr(C,G);const Ce=new _a(ue.target,G,Q,ue.sequenceNumber);su(C,Ce)}),C.remoteSyncer.applyRemoteEvent(L)}(p,c))}catch(h){vt("RemoteStore","Failed to raise snapshot:",h),yield Pc(p,h)}var h}),Nh.apply(this,arguments)}function Pc(p,o,c){return nr.apply(this,arguments)}function nr(){return(nr=(0,ye.A)(function*(p,o,c){if(!Se(o))throw o;p.M_.add(1),yield ou(p),p.N_.set("Offline"),c||(c=()=>zs(p.localStore)),p.asyncQueue.enqueueRetryable((0,ye.A)(function*(){vt("RemoteStore","Retrying IndexedDB access"),yield c(),p.M_.delete(1),yield xr(p)}))})).apply(this,arguments)}function kh(p,o){return o().catch(c=>Pc(p,c,o))}function Ol(p){return kf.apply(this,arguments)}function kf(){return(kf=(0,ye.A)(function*(p){const o=Le(p),c=Du(o);let h=o.v_.length>0?o.v_[o.v_.length-1].batchId:-1;for(;t1(o);)try{const _=yield Ca(o.localStore,h);if(null===_){0===o.v_.length&&c.n_();break}h=_.batchId,E0(o,_)}catch(_){yield Pc(o,_)}Fh(o)&&Tm(o)})).apply(this,arguments)}function t1(p){return Ml(p)&&p.v_.length<10}function E0(p,o){p.v_.push(o);const c=Du(p);c.Xo()&&c.E_&&c.d_(o.mutations)}function Fh(p){return Ml(p)&&!Du(p).Zo()&&p.v_.length>0}function Tm(p){Du(p).start()}function C0(p){return uu.apply(this,arguments)}function uu(){return(uu=(0,ye.A)(function*(p){Du(p).V_()})).apply(this,arguments)}function w0(p){return ic.apply(this,arguments)}function ic(){return(ic=(0,ye.A)(function*(p){const o=Du(p);for(const c of p.v_)o.d_(c.mutations)})).apply(this,arguments)}function I0(p,o,c){return jp.apply(this,arguments)}function jp(){return(jp=(0,ye.A)(function*(p,o,c){const h=p.v_.shift(),_=fn.from(h,o,c);yield kh(p,()=>p.remoteSyncer.applySuccessfulWrite(_)),yield Ol(p)})).apply(this,arguments)}function bm(p,o){return Dt.apply(this,arguments)}function Dt(){return Dt=(0,ye.A)(function*(p,o){var c;o&&Du(p).E_&&(yield(c=(0,ye.A)(function*(_,C){if(function Wi(p){switch(p){default:return Ne();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}(L=C.code)&&L!==le.ABORTED){const b=_.v_.shift();Du(_).t_(),yield kh(_,()=>_.remoteSyncer.rejectFailedWrite(b.batchId,C)),yield Ol(_)}var L}),function h(_,C){return c.apply(this,arguments)})(p,o)),Fh(p)&&Tm(p)}),Dt.apply(this,arguments)}function kr(p,o){return ft.apply(this,arguments)}function ft(){return(ft=(0,ye.A)(function*(p,o){const c=Le(p);c.asyncQueue.verifyOperationInProgress(),vt("RemoteStore","RemoteStore received new credentials");const h=Ml(c);c.M_.add(3),yield ou(c),h&&c.N_.set("Unknown"),yield c.remoteSyncer.handleCredentialChange(o),c.M_.delete(3),yield xr(c)})).apply(this,arguments)}function Ff(p,o){return _e.apply(this,arguments)}function _e(){return(_e=(0,ye.A)(function*(p,o){const c=Le(p);o?(c.M_.delete(2),yield xr(c)):o||(c.M_.add(2),yield ou(c),c.N_.set("Unknown"))})).apply(this,arguments)}function od(p){return p.B_||(p.B_=function(c,h,_){const C=Le(c);return C.f_(),new Dl(h,C.connection,C.authCredentials,C.appCheckCredentials,C.serializer,_)}(p.datastore,p.asyncQueue,{Po:Im.bind(null,p),To:Am.bind(null,p),Ao:Up.bind(null,p),h_:Ho.bind(null,p)}),p.x_.push(function(){var o=(0,ye.A)(function*(c){c?(p.B_.t_(),Ph(p)?ti(p):p.N_.set("Unknown")):(yield p.B_.stop(),au(p))});return function(c){return o.apply(this,arguments)}}())),p.B_}function Du(p){return p.k_||(p.k_=function(c,h,_){const C=Le(c);return C.f_(),new Pf(h,C.connection,C.authCredentials,C.appCheckCredentials,C.serializer,_)}(p.datastore,p.asyncQueue,{Po:()=>Promise.resolve(),To:C0.bind(null,p),Ao:bm.bind(null,p),R_:w0.bind(null,p),A_:I0.bind(null,p)}),p.x_.push(function(){var o=(0,ye.A)(function*(c){c?(p.k_.t_(),yield Ol(p)):(yield p.k_.stop(),p.v_.length>0&&(vt("RemoteStore",`Stopping write stream with ${p.v_.length} pending writes`),p.v_=[]))});return function(c){return o.apply(this,arguments)}}())),p.k_}class Rs{constructor(o,c,h,_,C){this.asyncQueue=o,this.timerId=c,this.targetTimeMs=h,this.op=_,this.removalCallback=C,this.deferred=new yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(o,c,h,_,C){const b=Date.now()+h,L=new Rs(o,c,b,_,C);return L.start(h),L}start(o){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),o)}skipDelay(){return this.handleDelayElapsed()}cancel(o){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pe(le.CANCELLED,"Operation cancelled"+(o?": "+o:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(o=>this.deferred.resolve(o))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fo(p,o){if(en("AsyncQueue",`${o}: ${p}`),Se(p))return new pe(le.UNAVAILABLE,`${o}: ${p}`);throw p}class Pl{constructor(o){this.comparator=o?(c,h)=>o(c,h)||Ht.comparator(c.key,h.key):(c,h)=>Ht.comparator(c.key,h.key),this.keyedMap=Us(),this.sortedSet=new Yn(this.comparator)}static emptySet(o){return new Pl(o.comparator)}has(o){return null!=this.keyedMap.get(o)}get(o){return this.keyedMap.get(o)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(o){const c=this.keyedMap.get(o);return c?this.sortedSet.indexOf(c):-1}get size(){return this.sortedSet.size}forEach(o){this.sortedSet.inorderTraversal((c,h)=>(o(c),!1))}add(o){const c=this.delete(o.key);return c.copy(c.keyedMap.insert(o.key,o),c.sortedSet.insert(o,null))}delete(o){const c=this.get(o);return c?this.copy(this.keyedMap.remove(o),this.sortedSet.remove(c)):this}isEqual(o){if(!(o instanceof Pl)||this.size!==o.size)return!1;const c=this.sortedSet.getIterator(),h=o.sortedSet.getIterator();for(;c.hasNext();){const _=c.getNext().key,C=h.getNext().key;if(!_.isEqual(C))return!1}return!0}toString(){const o=[];return this.forEach(c=>{o.push(c.toString())}),0===o.length?"DocumentSet ()":"DocumentSet (\n  "+o.join("  \n")+"\n)"}copy(o,c){const h=new Pl;return h.comparator=this.comparator,h.keyedMap=o,h.sortedSet=c,h}}class Hp{constructor(){this.q_=new Yn(Ht.comparator)}track(o){const c=o.doc.key,h=this.q_.get(c);h?0!==o.type&&3===h.type?this.q_=this.q_.insert(c,o):3===o.type&&1!==h.type?this.q_=this.q_.insert(c,{type:h.type,doc:o.doc}):2===o.type&&2===h.type?this.q_=this.q_.insert(c,{type:2,doc:o.doc}):2===o.type&&0===h.type?this.q_=this.q_.insert(c,{type:0,doc:o.doc}):1===o.type&&0===h.type?this.q_=this.q_.remove(c):1===o.type&&2===h.type?this.q_=this.q_.insert(c,{type:1,doc:h.doc}):0===o.type&&1===h.type?this.q_=this.q_.insert(c,{type:2,doc:o.doc}):Ne():this.q_=this.q_.insert(c,o)}Q_(){const o=[];return this.q_.inorderTraversal((c,h)=>{o.push(h)}),o}}class Lh{constructor(o,c,h,_,C,b,L,G,Q){this.query=o,this.docs=c,this.oldDocs=h,this.docChanges=_,this.mutatedKeys=C,this.fromCache=b,this.syncStateChanged=L,this.excludesMetadataChanges=G,this.hasCachedResults=Q}static fromInitialDocuments(o,c,h,_,C){const b=[];return c.forEach(L=>{b.push({type:0,doc:L})}),new Lh(o,c,Pl.emptySet(c),b,h,_,!0,!1,C)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(o){if(!(this.fromCache===o.fromCache&&this.hasCachedResults===o.hasCachedResults&&this.syncStateChanged===o.syncStateChanged&&this.mutatedKeys.isEqual(o.mutatedKeys)&&H(this.query,o.query)&&this.docs.isEqual(o.docs)&&this.oldDocs.isEqual(o.oldDocs)))return!1;const c=this.docChanges,h=o.docChanges;if(c.length!==h.length)return!1;for(let _=0;_<c.length;_++)if(c[_].type!==h[_].type||!c[_].doc.isEqual(h[_].doc))return!1;return!0}}class n1{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(o=>o.G_())}}class Gp{constructor(){this.queries=new bo(o=>oe(o),H),this.onlineState="Unknown",this.z_=new Set}}function Lf(p,o){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,ye.A)(function*(p,o){const c=Le(p);let h=3;const _=o.query;let C=c.queries.get(_);C?!C.W_()&&o.G_()&&(h=2):(C=new n1,h=o.G_()?0:1);try{switch(h){case 0:C.K_=yield c.onListen(_,!0);break;case 1:C.K_=yield c.onListen(_,!1);break;case 2:yield c.onFirstRemoteStoreListen(_)}}catch(b){const L=fo(b,`Initialization of query '${be(o.query)}' failed`);return void o.onError(L)}c.queries.set(_,C),C.U_.push(o),o.j_(c.onlineState),C.K_&&o.H_(C.K_)&&ac(c)})).apply(this,arguments)}function Ki(p,o){return oc.apply(this,arguments)}function oc(){return(oc=(0,ye.A)(function*(p,o){const c=Le(p),h=o.query;let _=3;const C=c.queries.get(h);if(C){const b=C.U_.indexOf(o);b>=0&&(C.U_.splice(b,1),0===C.U_.length?_=o.G_()?0:1:!C.W_()&&o.G_()&&(_=2))}switch(_){case 0:return c.queries.delete(h),c.onUnlisten(h,!0);case 1:return c.queries.delete(h),c.onUnlisten(h,!1);case 2:return c.onLastRemoteStoreUnlisten(h);default:return}})).apply(this,arguments)}function to(p,o){const c=Le(p);let h=!1;for(const _ of o){const b=c.queries.get(_.query);if(b){for(const L of b.U_)L.H_(_)&&(h=!0);b.K_=_}}h&&ac(c)}function sc(p,o,c){const h=Le(p),_=h.queries.get(o);if(_)for(const C of _.U_)C.onError(c);h.queries.delete(o)}function ac(p){p.z_.forEach(o=>{o.next()})}var $p,Bf;(Bf=$p||($p={})).J_="default",Bf.Cache="cache";class Uf{constructor(o,c,h){this.query=o,this.Y_=c,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=h||{}}H_(o){if(!this.options.includeMetadataChanges){const h=[];for(const _ of o.docChanges)3!==_.type&&h.push(_);o=new Lh(o.query,o.docs,o.oldDocs,h,o.mutatedKeys,o.fromCache,o.syncStateChanged,!0,o.hasCachedResults)}let c=!1;return this.Z_?this.ea(o)&&(this.Y_.next(o),c=!0):this.ta(o,this.onlineState)&&(this.na(o),c=!0),this.X_=o,c}onError(o){this.Y_.error(o)}j_(o){this.onlineState=o;let c=!1;return this.X_&&!this.Z_&&this.ta(this.X_,o)&&(this.na(this.X_),c=!0),c}ta(o,c){return!o.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==c))&&(!o.docs.isEmpty()||o.hasCachedResults||"Offline"===c)}ea(o){return o.docChanges.length>0||!!(o.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==o.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(o){o=Lh.fromInitialDocuments(o.query,o.docs,o.mutatedKeys,o.fromCache,o.hasCachedResults),this.Z_=!0,this.Y_.next(o)}G_(){return this.options.source!==$p.Cache}}class Vh{constructor(o){this.key=o}}class xm{constructor(o){this.key=o}}class Wp{constructor(o,c){this.query=o,this.la=c,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Qn(),this.mutatedKeys=Qn(),this.Ia=Uo(o),this.Ta=new Pl(this.Ia)}get Ea(){return this.la}da(o,c){const h=c?c.Aa:new Hp,_=c?c.Ta:this.Ta;let C=c?c.mutatedKeys:this.mutatedKeys,b=_,L=!1;const G="F"===this.query.limitType&&_.size===this.query.limit?_.last():null,Q="L"===this.query.limitType&&_.size===this.query.limit?_.first():null;if(o.inorderTraversal((ue,Ce)=>{const Fe=_.get(ue),gt=Ot(this.query,Ce)?Ce:null,Lt=!!Fe&&this.mutatedKeys.has(Fe.key),Zt=!!gt&&(gt.hasLocalMutations||this.mutatedKeys.has(gt.key)&&gt.hasCommittedMutations);let jt=!1;Fe&&gt?Fe.data.isEqual(gt.data)?Lt!==Zt&&(h.track({type:3,doc:gt}),jt=!0):this.Ra(Fe,gt)||(h.track({type:2,doc:gt}),jt=!0,(G&&this.Ia(gt,G)>0||Q&&this.Ia(gt,Q)<0)&&(L=!0)):!Fe&&gt?(h.track({type:0,doc:gt}),jt=!0):Fe&&!gt&&(h.track({type:1,doc:Fe}),jt=!0,(G||Q)&&(L=!0)),jt&&(gt?(b=b.add(gt),C=Zt?C.add(ue):C.delete(ue)):(b=b.delete(ue),C=C.delete(ue)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ue="F"===this.query.limitType?b.last():b.first();b=b.delete(ue.key),C=C.delete(ue.key),h.track({type:1,doc:ue})}return{Ta:b,Aa:h,Xi:L,mutatedKeys:C}}Ra(o,c){return o.hasLocalMutations&&c.hasCommittedMutations&&!c.hasLocalMutations}applyChanges(o,c,h,_){const C=this.Ta;this.Ta=o.Ta,this.mutatedKeys=o.mutatedKeys;const b=o.Aa.Q_();b.sort((ue,Ce)=>function(gt,Lt){const Zt=jt=>{switch(jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return Zt(gt)-Zt(Lt)}(ue.type,Ce.type)||this.Ia(ue.doc,Ce.doc)),this.Va(h),_=null!=_&&_;const L=c&&!_?this.ma():[],G=0===this.Pa.size&&this.current&&!_?1:0,Q=G!==this.ha;return this.ha=G,0!==b.length||Q?{snapshot:new Lh(this.query,o.Ta,C,b,o.mutatedKeys,0===G,Q,!1,!!h&&h.resumeToken.approximateByteSize()>0),fa:L}:{fa:L}}j_(o){return this.current&&"Offline"===o?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Hp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(o){return!this.la.has(o)&&!!this.Ta.has(o)&&!this.Ta.get(o).hasLocalMutations}Va(o){o&&(o.addedDocuments.forEach(c=>this.la=this.la.add(c)),o.modifiedDocuments.forEach(c=>{}),o.removedDocuments.forEach(c=>this.la=this.la.delete(c)),this.current=o.current)}ma(){if(!this.current)return[];const o=this.Pa;this.Pa=Qn(),this.Ta.forEach(h=>{this.ga(h.key)&&(this.Pa=this.Pa.add(h.key))});const c=[];return o.forEach(h=>{this.Pa.has(h)||c.push(new xm(h))}),this.Pa.forEach(h=>{o.has(h)||c.push(new Vh(h))}),c}pa(o){this.la=o.hs,this.Pa=Qn();const c=this.da(o.documents);return this.applyChanges(c,!0)}ya(){return Lh.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class qp{constructor(o,c,h){this.query=o,this.targetId=c,this.view=h}}class Sm{constructor(o){this.key=o,this.wa=!1}}class Dm{constructor(o,c,h,_,C,b){this.localStore=o,this.remoteStore=c,this.eventManager=h,this.sharedClientState=_,this.currentUser=C,this.maxConcurrentLimboResolutions=b,this.Sa={},this.ba=new bo(L=>oe(L),H),this.Da=new Map,this.Ca=new Set,this.va=new Yn(Ht.comparator),this.Fa=new Map,this.Ma=new Pi,this.xa={},this.Oa=new Map,this.Na=nu.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Rm(p,o){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,ye.A)(function*(p,o,c=!0){const h=zh(p);let _;const C=h.ba.get(o);return C?(h.sharedClientState.addLocalQueryTarget(C.targetId),_=C.view.ya()):_=yield Ws(h,o,c,!0),_})).apply(this,arguments)}function Kp(p,o){return sd.apply(this,arguments)}function sd(){return(sd=(0,ye.A)(function*(p,o){const c=zh(p);yield Ws(c,o,!0,!1)})).apply(this,arguments)}function Ws(p,o,c,h){return sl.apply(this,arguments)}function sl(){return(sl=(0,ye.A)(function*(p,o,c,h){const _=yield function Su(p,o){const c=Le(p);return c.persistence.runTransaction("Allocate target","readwrite",h=>{let _;return c.Qr.getTargetData(h,o).next(C=>C?(_=C,fe.resolve(_)):c.Qr.allocateTargetId(h).next(b=>(_=new _a(o,b,"TargetPurposeListen",h.currentSequenceNumber),c.Qr.addTargetData(h,_).next(()=>_))))}).then(h=>{const _=c.ns.get(h.targetId);return(null===_||h.snapshotVersion.compareTo(_.snapshotVersion)>0)&&(c.ns=c.ns.insert(h.targetId,h),c.rs.set(o,h.targetId)),h})}(p.localStore,To(o)),C=_.targetId,b=c?p.sharedClientState.addLocalQueryTarget(C):"not-current";let L;return h&&(L=yield function Hi(p,o,c,h,_){return Xp.apply(this,arguments)}(p,o,C,"current"===b,_.resumeToken)),p.isPrimaryClient&&c&&nd(p.remoteStore,_),L})).apply(this,arguments)}function Xp(){return Xp=(0,ye.A)(function*(p,o,c,h,_){p.Ba=(Ce,Fe,gt)=>{return(Lt=(0,ye.A)(function*(jt,xn,$n,kn){let mr=xn.view.da($n);mr.Xi&&(mr=yield ol(jt.localStore,xn.query,!1).then(({documents:Re})=>xn.view.da(Re,mr)));const ai=kn&&kn.targetChanges.get(xn.targetId),Dr=kn&&null!=kn.targetMismatches.get(xn.targetId),Ze=xn.view.applyChanges(mr,jt.isPrimaryClient,ai,Dr);return eg(jt,xn.targetId,Ze.fa),Ze.snapshot}),function Zt(jt,xn,$n,kn){return Lt.apply(this,arguments)})(p,Ce,Fe,gt);var Lt};const C=yield ol(p.localStore,o,!0),b=new Wp(o,C.hs),L=b.da(C.documents),G=xs.createSynthesizedTargetChangeForCurrentChange(c,h&&"Offline"!==p.onlineState,_),Q=b.applyChanges(L,p.isPrimaryClient,G);eg(p,c,Q.fa);const ue=new qp(o,c,b);return p.ba.set(o,ue),p.Da.has(c)?p.Da.get(c).push(o):p.Da.set(c,[o]),Q.snapshot}),Xp.apply(this,arguments)}function T0(p,o,c){return zd.apply(this,arguments)}function zd(){return(zd=(0,ye.A)(function*(p,o,c){const h=Le(p),_=h.ba.get(o),C=h.Da.get(_.targetId);if(C.length>1)return h.Da.set(_.targetId,C.filter(b=>!H(b,o))),void h.ba.delete(o);h.isPrimaryClient?(h.sharedClientState.removeLocalQueryTarget(_.targetId),h.sharedClientState.isActiveQueryTarget(_.targetId)||(yield bl(h.localStore,_.targetId,!1).then(()=>{h.sharedClientState.clearQueryState(_.targetId),c&&rc(h.remoteStore,_.targetId),Kd(h,_.targetId)}).catch(Si))):(Kd(h,_.targetId),yield bl(h.localStore,_.targetId,!0))})).apply(this,arguments)}function b0(p,o){return $f.apply(this,arguments)}function $f(){return($f=(0,ye.A)(function*(p,o){const c=Le(p),h=c.ba.get(o),_=c.Da.get(h.targetId);c.isPrimaryClient&&1===_.length&&(c.sharedClientState.removeLocalQueryTarget(h.targetId),rc(c.remoteStore,h.targetId))})).apply(this,arguments)}function ad(){return(ad=(0,ye.A)(function*(p,o,c){const h=function og(p){const o=Le(p);return o.remoteStore.remoteSyncer.applySuccessfulWrite=Yp.bind(null,o),o.remoteStore.remoteSyncer.rejectFailedWrite=Mm.bind(null,o),o}(p);try{const _=yield function(b,L){const G=Le(b),Q=ur.now(),ue=L.reduce((gt,Lt)=>gt.add(Lt.key),Qn());let Ce,Fe;return G.persistence.runTransaction("Locally write mutations","readwrite",gt=>{let Lt=Tn(),Zt=Qn();return G.os.getEntries(gt,ue).next(jt=>{Lt=jt,Lt.forEach((xn,$n)=>{$n.isValidDocument()||(Zt=Zt.add(xn))})}).next(()=>G.localDocuments.getOverlayedDocuments(gt,Lt)).next(jt=>{Ce=jt;const xn=[];for(const $n of L){const kn=Ch($n,Ce.get($n.key).overlayedDocument);null!=kn&&xn.push(new re($n.key,kn,vu(kn.value.mapValue),Ln.exists(!0)))}return G.mutationQueue.addMutationBatch(gt,Q,xn,L)}).next(jt=>{Fe=jt;const xn=jt.applyToLocalDocumentSet(Ce,Zt);return G.documentOverlayCache.saveOverlays(gt,jt.batchId,xn)})}).then(()=>({batchId:Fe.batchId,changes:Wr(Ce)}))}(h.localStore,o);h.sharedClientState.addPendingMutation(_.batchId),function(b,L,G){let Q=b.xa[b.currentUser.toKey()];Q||(Q=new Yn(Sn)),Q=Q.insert(L,G),b.xa[b.currentUser.toKey()]=Q}(h,_.batchId,c),yield cc(h,_.changes),yield Ol(h.remoteStore)}catch(_){const C=fo(_,"Failed to persist write");c.reject(C)}})).apply(this,arguments)}function uc(p,o){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,ye.A)(function*(p,o){const c=Le(p);try{const h=yield function tc(p,o){const c=Le(p),h=o.snapshotVersion;let _=c.ns;return c.persistence.runTransaction("Apply remote event","readwrite-primary",C=>{const b=c.os.newChangeBuffer({trackRemovals:!0});_=c.ns;const L=[];o.targetChanges.forEach((ue,Ce)=>{const Fe=_.get(Ce);if(!Fe)return;L.push(c.Qr.removeMatchingKeys(C,ue.removedDocuments,Ce).next(()=>c.Qr.addMatchingKeys(C,ue.addedDocuments,Ce)));let gt=Fe.withSequenceNumber(C.currentSequenceNumber);var Zt,jt,xn;null!==o.targetMismatches.get(Ce)?gt=gt.withResumeToken(Ui.EMPTY_BYTE_STRING,rn.min()).withLastLimboFreeSnapshotVersion(rn.min()):ue.resumeToken.approximateByteSize()>0&&(gt=gt.withResumeToken(ue.resumeToken,h)),_=_.insert(Ce,gt),jt=gt,xn=ue,(0===(Zt=Fe).resumeToken.approximateByteSize()||jt.snapshotVersion.toMicroseconds()-Zt.snapshotVersion.toMicroseconds()>=3e8||xn.addedDocuments.size+xn.modifiedDocuments.size+xn.removedDocuments.size>0)&&L.push(c.Qr.updateTargetData(C,gt))});let G=Tn(),Q=Qn();if(o.documentUpdates.forEach(ue=>{o.resolvedLimboDocuments.has(ue)&&L.push(c.persistence.referenceDelegate.updateLimboDocument(C,ue))}),L.push(function ed(p,o,c){let h=Qn(),_=Qn();return c.forEach(C=>h=h.add(C)),o.getEntries(p,h).next(C=>{let b=Tn();return c.forEach((L,G)=>{const Q=C.get(L);G.isFoundDocument()!==Q.isFoundDocument()&&(_=_.add(L)),G.isNoDocument()&&G.version.isEqual(rn.min())?(o.removeEntry(L,G.readTime),b=b.insert(L,G)):!Q.isValidDocument()||G.version.compareTo(Q.version)>0||0===G.version.compareTo(Q.version)&&Q.hasPendingWrites?(o.addEntry(G),b=b.insert(L,G)):vt("LocalStore","Ignoring outdated watch update for ",L,". Current version:",Q.version," Watch version:",G.version)}),{cs:b,ls:_}})}(C,b,o.documentUpdates).next(ue=>{G=ue.cs,Q=ue.ls})),!h.isEqual(rn.min())){const ue=c.Qr.getLastRemoteSnapshotVersion(C).next(Ce=>c.Qr.setTargetsMetadata(C,C.currentSequenceNumber,h));L.push(ue)}return fe.waitFor(L).next(()=>b.apply(C)).next(()=>c.localDocuments.getLocalViewOfDocuments(C,G,Q)).next(()=>G)}).then(C=>(c.ns=_,C))}(c.localStore,o);o.targetChanges.forEach((_,C)=>{const b=c.Fa.get(C);b&&(Ue(_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size<=1),_.addedDocuments.size>0?b.wa=!0:_.modifiedDocuments.size>0?Ue(b.wa):_.removedDocuments.size>0&&(Ue(b.wa),b.wa=!1))}),yield cc(c,h,o)}catch(h){yield Si(h)}})).apply(this,arguments)}function Bh(p,o,c){const h=Le(p);if(h.isPrimaryClient&&0===c||!h.isPrimaryClient&&1===c){const _=[];h.ba.forEach((C,b)=>{const L=b.view.j_(o);L.snapshot&&_.push(L.snapshot)}),function(b,L){const G=Le(b);G.onlineState=L;let Q=!1;G.queries.forEach((ue,Ce)=>{for(const Fe of Ce.U_)Fe.j_(L)&&(Q=!0)}),Q&&ac(G)}(h.eventManager,o),_.length&&h.Sa.h_(_),h.onlineState=o,h.isPrimaryClient&&h.sharedClientState.setOnlineState(o)}}function zf(p,o,c){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,ye.A)(function*(p,o,c){const h=Le(p);h.sharedClientState.updateQueryState(o,"rejected",c);const _=h.Fa.get(o),C=_&&_.key;if(C){let b=new Yn(Ht.comparator);b=b.insert(C,hi.newNoDocument(C,rn.min()));const L=Qn().add(C),G=new bs(rn.min(),new Map,new Yn(Sn),b,L);yield uc(h,G),h.va=h.va.remove(C),h.Fa.delete(o),Nm(h)}else yield bl(h.localStore,o,!1).then(()=>Kd(h,o,c)).catch(Si)})).apply(this,arguments)}function Yp(p,o){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,ye.A)(function*(p,o){const c=Le(p),h=o.batch.batchId;try{const _=yield function Ds(p,o){const c=Le(p);return c.persistence.runTransaction("Acknowledge batch","readwrite-primary",h=>{const _=o.batch.keys(),C=c.os.newChangeBuffer({trackRemovals:!0});return function(L,G,Q,ue){const Ce=Q.batch,Fe=Ce.keys();let gt=fe.resolve();return Fe.forEach(Lt=>{gt=gt.next(()=>ue.getEntry(G,Lt)).next(Zt=>{const jt=Q.docVersions.get(Lt);Ue(null!==jt),Zt.version.compareTo(jt)<0&&(Ce.applyToRemoteDocument(Zt,Q),Zt.isValidDocument()&&(Zt.setReadTime(Q.commitVersion),ue.addEntry(Zt)))})}),gt.next(()=>L.mutationQueue.removeMutationBatch(G,Ce))}(c,h,o,C).next(()=>C.apply(h)).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,_,o.batch.batchId)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,function(L){let G=Qn();for(let Q=0;Q<L.mutationResults.length;++Q)L.mutationResults[Q].transformResults.length>0&&(G=G.add(L.batch.mutations[Q].key));return G}(o))).next(()=>c.localDocuments.getDocuments(h,_))})}(c.localStore,o);Uh(c,h,null),Jp(c,h),c.sharedClientState.updateMutationState(h,"acknowledged"),yield cc(c,_)}catch(_){yield Si(_)}})).apply(this,arguments)}function Mm(p,o,c){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,ye.A)(function*(p,o,c){const h=Le(p);try{const _=yield function(b,L){const G=Le(b);return G.persistence.runTransaction("Reject batch","readwrite-primary",Q=>{let ue;return G.mutationQueue.lookupMutationBatch(Q,L).next(Ce=>(Ue(null!==Ce),ue=Ce.keys(),G.mutationQueue.removeMutationBatch(Q,Ce))).next(()=>G.mutationQueue.performConsistencyCheck(Q)).next(()=>G.documentOverlayCache.removeOverlaysForBatchId(Q,ue,L)).next(()=>G.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Q,ue)).next(()=>G.localDocuments.getDocuments(Q,ue))})}(h.localStore,o);Uh(h,o,c),Jp(h,o),h.sharedClientState.updateMutationState(o,"rejected",c),yield cc(h,_)}catch(_){yield Si(_)}})).apply(this,arguments)}function Jp(p,o){(p.Oa.get(o)||[]).forEach(c=>{c.resolve()}),p.Oa.delete(o)}function Uh(p,o,c){const h=Le(p);let _=h.xa[h.currentUser.toKey()];if(_){const C=_.get(o);C&&(c?C.reject(c):C.resolve(),_=_.remove(o)),h.xa[h.currentUser.toKey()]=_}}function Kd(p,o,c=null){p.sharedClientState.removeLocalQueryTarget(o);for(const h of p.Da.get(o))p.ba.delete(h),c&&p.Sa.ka(h,c);p.Da.delete(o),p.isPrimaryClient&&p.Ma.Vr(o).forEach(h=>{p.Ma.containsKey(h)||Om(p,h)})}function Om(p,o){p.Ca.delete(o.path.canonicalString());const c=p.va.get(o);null!==c&&(rc(p.remoteStore,c),p.va=p.va.remove(o),p.Fa.delete(c),Nm(p))}function eg(p,o,c){for(const h of c)h instanceof Vh?(p.Ma.addReference(h.key,o),Pm(p,h)):h instanceof xm?(vt("SyncEngine","Document no longer in limbo: "+h.key),p.Ma.removeReference(h.key,o),p.Ma.containsKey(h.key)||Om(p,h.key)):Ne()}function Pm(p,o){const c=o.key,h=c.path.canonicalString();p.va.get(c)||p.Ca.has(h)||(vt("SyncEngine","New document in limbo: "+c),p.Ca.add(h),Nm(p))}function Nm(p){for(;p.Ca.size>0&&p.va.size<p.maxConcurrentLimboResolutions;){const o=p.Ca.values().next().value;p.Ca.delete(o);const c=new Ht(Nt.fromString(o)),h=p.Na.next();p.Fa.set(h,new Sm(c)),p.va=p.va.insert(c,h),nd(p.remoteStore,new _a(To(Bo(c.path)),h,"TargetPurposeLimboResolution",yr.oe))}}function cc(p,o,c){return cd.apply(this,arguments)}function cd(){return cd=(0,ye.A)(function*(p,o,c){const h=Le(p),_=[],C=[],b=[];var L;h.ba.isEmpty()||(h.ba.forEach((L,G)=>{b.push(h.Ba(G,o,c).then(Q=>{if((Q||c)&&h.isPrimaryClient&&h.sharedClientState.updateQueryState(G.targetId,Q&&!Q.fromCache?"current":"not-current"),Q){_.push(Q);const ue=il.Ki(G.targetId,Q);C.push(ue)}}))}),yield Promise.all(b),h.Sa.h_(_),yield(L=(0,ye.A)(function*(Q,ue){const Ce=Le(Q);try{yield Ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",Fe=>fe.forEach(ue,gt=>fe.forEach(gt.qi,Lt=>Ce.persistence.referenceDelegate.addReference(Fe,gt.targetId,Lt)).next(()=>fe.forEach(gt.Qi,Lt=>Ce.persistence.referenceDelegate.removeReference(Fe,gt.targetId,Lt)))))}catch(Fe){if(!Se(Fe))throw Fe;vt("LocalStore","Failed to update sequence numbers: "+Fe)}for(const Fe of ue){const gt=Fe.targetId;if(!Fe.fromCache){const Lt=Ce.ns.get(gt),jt=Lt.withLastLimboFreeSnapshotVersion(Lt.snapshotVersion);Ce.ns=Ce.ns.insert(gt,jt)}}}),function G(Q,ue){return L.apply(this,arguments)})(h.localStore,C))}),cd.apply(this,arguments)}function tg(p,o){return ld.apply(this,arguments)}function ld(){return(ld=(0,ye.A)(function*(p,o){const c=Le(p);if(!c.currentUser.isEqual(o)){vt("SyncEngine","User change. New user:",o.toKey());const h=yield Tl(c.localStore,o);c.currentUser=o,(C=c).Oa.forEach(L=>{L.forEach(G=>{G.reject(new pe(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),C.Oa.clear(),c.sharedClientState.handleUserChange(o,h.removedBatchIds,h.addedBatchIds),yield cc(c,h.us)}var C})).apply(this,arguments)}function ng(p,o){const c=Le(p),h=c.Fa.get(o);if(h&&h.wa)return Qn().add(h.key);{let _=Qn();const C=c.Da.get(o);if(!C)return _;for(const b of C){const L=c.ba.get(b);_=_.unionWith(L.view.Ea)}return _}}function zh(p){const o=Le(p);return o.remoteStore.remoteSyncer.applyRemoteEvent=uc.bind(null,o),o.remoteStore.remoteSyncer.getRemoteKeysForTarget=ng.bind(null,o),o.remoteStore.remoteSyncer.rejectListen=zf.bind(null,o),o.Sa.h_=to.bind(null,o.eventManager),o.Sa.ka=sc.bind(null,o.eventManager),o}class cu{constructor(){this.synchronizeTabs=!1}initialize(o){var c=this;return(0,ye.A)(function*(){c.serializer=gr(o.databaseInfo.databaseId),c.sharedClientState=c.createSharedClientState(o),c.persistence=c.createPersistence(o),yield c.persistence.start(),c.localStore=c.createLocalStore(o),c.gcScheduler=c.createGarbageCollectionScheduler(o,c.localStore),c.indexBackfillerScheduler=c.createIndexBackfillerScheduler(o,c.localStore)})()}createGarbageCollectionScheduler(o,c){return null}createIndexBackfillerScheduler(o,c){return null}createLocalStore(o){return function ho(p,o,c,h){return new ec(p,o,c,h)}(this.persistence,new Al,o.initialUser,this.serializer)}createPersistence(o){return new Ci(Ju.Hr,this.serializer)}createSharedClientState(o){return new M}terminate(){var o=this;return(0,ye.A)(function*(){var c,h;null===(c=o.gcScheduler)||void 0===c||c.stop(),null===(h=o.indexBackfillerScheduler)||void 0===h||h.stop(),o.sharedClientState.shutdown(),yield o.persistence.shutdown()})()}}class lc{initialize(o,c){var h=this;return(0,ye.A)(function*(){h.localStore||(h.localStore=o.localStore,h.sharedClientState=o.sharedClientState,h.datastore=h.createDatastore(c),h.remoteStore=h.createRemoteStore(c),h.eventManager=h.createEventManager(c),h.syncEngine=h.createSyncEngine(c,!o.synchronizeTabs),h.sharedClientState.onlineStateHandler=_=>Bh(h.syncEngine,_,1),h.remoteStore.remoteSyncer.handleCredentialChange=tg.bind(null,h.syncEngine),yield Ff(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(o){return new Gp}createDatastore(o){const c=gr(o.databaseInfo.databaseId),h=new Vt(o.databaseInfo);return new Ua(o.authCredentials,o.appCheckCredentials,h,c)}createRemoteStore(o){return h=this.localStore,_=this.datastore,C=o.asyncQueue,b=c=>Bh(this.syncEngine,c,0),L=A.D()?new A:new E,new Oh(h,_,C,b,L);var h,_,C,b,L}createSyncEngine(o,c){return function(_,C,b,L,G,Q,ue){const Ce=new Dm(_,C,b,L,G,Q);return ue&&(Ce.La=!0),Ce}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,o.initialUser,o.maxConcurrentLimboResolutions,c)}terminate(){var o=this;return(0,ye.A)(function*(){var c,h;yield(h=(0,ye.A)(function*(C){const b=Le(C);vt("RemoteStore","RemoteStore shutting down."),b.M_.add(5),yield ou(b),b.O_.shutdown(),b.N_.set("Unknown")}),function _(C){return h.apply(this,arguments)})(o.remoteStore),null===(c=o.datastore)||void 0===c||c.terminate()})()}}class Ro{constructor(o){this.observer=o,this.muted=!1}next(o){this.observer.next&&this.Ka(this.observer.next,o)}error(o){this.observer.error?this.Ka(this.observer.error,o):en("Uncaught Error in snapshot listener:",o.toString())}$a(){this.muted=!0}Ka(o,c){this.muted||setTimeout(()=>{this.muted||o(c)},0)}}class R0{constructor(o,c,h,_){var C=this;this.authCredentials=o,this.appCheckCredentials=c,this.asyncQueue=h,this.databaseInfo=_,this.user=He.UNAUTHENTICATED,this.clientId=Hr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(h,function(){var b=(0,ye.A)(function*(L){vt("FirestoreClient","Received user=",L.uid),yield C.authCredentialListener(L),C.user=L});return function(L){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(h,b=>(vt("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(o){this.authCredentialListener=o}setAppCheckTokenChangeListener(o){this.appCheckCredentialListener=o}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new pe(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var o=this;this.asyncQueue.enterRestrictedMode();const c=new yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.A)(function*(){try{o._onlineComponents&&(yield o._onlineComponents.terminate()),o._offlineComponents&&(yield o._offlineComponents.terminate()),o.authCredentials.shutdown(),o.appCheckCredentials.shutdown(),c.resolve()}catch(h){const _=fo(h,"Failed to shutdown persistence");c.reject(_)}})),c.promise}}function Wh(p,o){return si.apply(this,arguments)}function si(){return si=(0,ye.A)(function*(p,o){p.asyncQueue.verifyOperationInProgress(),vt("FirestoreClient","Initializing OfflineComponentProvider");const c=p.configuration;yield o.initialize(c);let h=c.initialUser;p.setCredentialChangeListener(function(){var _=(0,ye.A)(function*(C){h.isEqual(C)||(yield Tl(o.localStore,C),h=C)});return function(C){return _.apply(this,arguments)}}()),o.persistence.setDatabaseDeletedListener(()=>p.terminate()),p._offlineComponents=o}),si.apply(this,arguments)}function Zf(p,o){return hd.apply(this,arguments)}function hd(){return(hd=(0,ye.A)(function*(p,o){p.asyncQueue.verifyOperationInProgress();const c=yield function Qd(p){return Jf.apply(this,arguments)}(p);vt("FirestoreClient","Initializing OnlineComponentProvider"),yield o.initialize(c,p.configuration),p.setCredentialChangeListener(h=>kr(o.remoteStore,h)),p.setAppCheckTokenChangeListener((h,_)=>kr(o.remoteStore,_)),p._onlineComponents=o})).apply(this,arguments)}function Jf(){return(Jf=(0,ye.A)(function*(p){if(!p._offlineComponents)if(p._uninitializedComponentsProvider){vt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Wh(p,p._uninitializedComponentsProvider._offline)}catch(o){const c=o;if(!function dc(p){return"FirebaseError"===p.name?p.code===le.FAILED_PRECONDITION||p.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code}(c))throw c;Fr("Error using user provided cache. Falling back to memory cache: "+c),yield Wh(p,new cu)}}else vt("FirestoreClient","Using default OfflineComponentProvider"),yield Wh(p,new cu);return p._offlineComponents})).apply(this,arguments)}function ep(p){return fd.apply(this,arguments)}function fd(){return(fd=(0,ye.A)(function*(p){return p._onlineComponents||(p._uninitializedComponentsProvider?(vt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Zf(p,p._uninitializedComponentsProvider._online)):(vt("FirestoreClient","Using default OnlineComponentProvider"),yield Zf(p,new lc))),p._onlineComponents})).apply(this,arguments)}function Yd(p){return jm.apply(this,arguments)}function jm(){return(jm=(0,ye.A)(function*(p){const o=yield ep(p),c=o.eventManager;return c.onListen=Rm.bind(null,o.syncEngine),c.onUnlisten=T0.bind(null,o.syncEngine),c.onFirstRemoteStoreListen=Kp.bind(null,o.syncEngine),c.onLastRemoteStoreUnlisten=b0.bind(null,o.syncEngine),c})).apply(this,arguments)}function hg(p){const o={};return void 0!==p.timeoutSeconds&&(o.timeoutSeconds=p.timeoutSeconds),o}const fg=new Map;function Zd(p,o,c){if(!c)throw new pe(le.INVALID_ARGUMENT,`Function ${p}() cannot be called with an empty ${o}.`)}function P0(p){if(!Ht.isDocumentKey(p))throw new pe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${p} has ${p.length}.`)}function $m(p){if(Ht.isDocumentKey(p))throw new pe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${p} has ${p.length}.`)}function pg(p){if(void 0===p)return"undefined";if(null===p)return"null";if("string"==typeof p)return p.length>20&&(p=`${p.substring(0,20)}...`),JSON.stringify(p);if("number"==typeof p||"boolean"==typeof p)return""+p;if("object"==typeof p){if(p instanceof Array)return"an array";{const o=(h=p).constructor?h.constructor.name:null;return o?`a custom ${o} object`:"an object"}}var h;return"function"==typeof p?"a function":Ne()}function Sr(p,o){if("_delegate"in p&&(p=p._delegate),!(p instanceof o)){if(o.name===p.constructor.name)throw new pe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const c=pg(p);throw new pe(le.INVALID_ARGUMENT,`Expected type '${o.name}', but it was: ${c}`)}}return p}class Jd{constructor(o){var c,h;if(void 0===o.host){if(void 0!==o.ssl)throw new pe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=o.host,this.ssl=null===(c=o.ssl)||void 0===c||c;if(this.credentials=o.credentials,this.ignoreUndefinedProperties=!!o.ignoreUndefinedProperties,this.localCache=o.localCache,void 0===o.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==o.cacheSizeBytes&&o.cacheSizeBytes<1048576)throw new pe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=o.cacheSizeBytes}(function i1(p,o,c,h){if(!0===o&&!0===h)throw new pe(le.INVALID_ARGUMENT,`${p} and ${c} cannot be used together.`)})("experimentalForceLongPolling",o.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",o.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!o.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==o.experimentalAutoDetectLongPolling&&!o.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=hg(null!==(h=o.experimentalLongPollingOptions)&&void 0!==h?h:{}),function(C){if(void 0!==C.timeoutSeconds){if(isNaN(C.timeoutSeconds))throw new pe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${C.timeoutSeconds} (must not be NaN)`);if(C.timeoutSeconds<5)throw new pe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${C.timeoutSeconds} (minimum allowed value is 5)`);if(C.timeoutSeconds>30)throw new pe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${C.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!o.useFetchStreams}isEqual(o){return this.host===o.host&&this.ssl===o.ssl&&this.credentials===o.credentials&&this.cacheSizeBytes===o.cacheSizeBytes&&this.experimentalForceLongPolling===o.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===o.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===o.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===o.ignoreUndefinedProperties&&this.useFetchStreams===o.useFetchStreams}}class wi{constructor(o,c,h,_){this._authCredentials=o,this._appCheckCredentials=c,this._databaseId=h,this._app=_,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new pe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(o){if(this._settingsFrozen)throw new pe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jd(o),void 0!==o.credentials&&(this._authCredentials=function(h){if(!h)return new Bn;switch(h.type){case"firstParty":return new no(h.sessionIndex||"0",h.iamToken||null,h.authTokenFactory||null);case"provider":return h.client;default:throw new pe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(o.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(c){const h=fg.get(c);h&&(vt("ComponentProvider","Removing Datastore"),fg.delete(c),h.terminate())}(this),Promise.resolve()}}class Jo{constructor(o,c,h){this.converter=c,this._query=h,this.type="query",this.firestore=o}withConverter(o){return new Jo(this.firestore,o,this._query)}}class Ii{constructor(o,c,h){this.converter=c,this._key=h,this.type="document",this.firestore=o}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fc(this.firestore,this.converter,this._key.path.popLast())}withConverter(o){return new Ii(this.firestore,o,this._key)}}class Fc extends Jo{constructor(o,c,h){super(o,c,Bo(h)),this._path=h,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const o=this._path.popLast();return o.isEmpty()?null:new Ii(this.firestore,null,new Ht(o))}withConverter(o){return new Fc(this.firestore,o,this._path)}}function np(p,o,...c){if(p=(0,Ee.Ku)(p),Zd("collection","path",o),p instanceof wi){const h=Nt.fromString(o,...c);return $m(h),new Fc(p,null,h)}{if(!(p instanceof Ii||p instanceof Fc))throw new pe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=p._path.child(Nt.fromString(o,...c));return $m(h),new Fc(p.firestore,null,h)}}function Kh(p,o,...c){if(p=(0,Ee.Ku)(p),1===arguments.length&&(o=Hr.newId()),Zd("doc","path",o),p instanceof wi){const h=Nt.fromString(o,...c);return P0(h),new Ii(p,null,new Ht(h))}{if(!(p instanceof Ii||p instanceof Fc))throw new pe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=p._path.child(Nt.fromString(o,...c));return P0(h),new Ii(p.firestore,p instanceof Fc?p.converter:null,new Ht(h))}}class ip{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new hs(this,"async_queue_retry"),this.hu=()=>{const c=In();c&&vt("AsyncQueue","Visibility state changed to "+c.visibilityState),this.Yo.Wo()};const o=In();o&&"function"==typeof o.addEventListener&&o.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(o){this.enqueue(o)}enqueueAndForgetEvenWhileRestricted(o){this.Pu(),this.Iu(o)}enterRestrictedMode(o){if(!this.ou){this.ou=!0,this.cu=o||!1;const c=In();c&&"function"==typeof c.removeEventListener&&c.removeEventListener("visibilitychange",this.hu)}}enqueue(o){if(this.Pu(),this.ou)return new Promise(()=>{});const c=new yt;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(o().then(c.resolve,c.reject),c.promise)).then(()=>c.promise)}enqueueRetryable(o){this.enqueueAndForget(()=>(this.su.push(o),this.Tu()))}Tu(){var o=this;return(0,ye.A)(function*(){if(0!==o.su.length){try{yield o.su[0](),o.su.shift(),o.Yo.reset()}catch(c){if(!Se(c))throw c;vt("AsyncQueue","Operation failed with retryable error: "+c)}o.su.length>0&&o.Yo.$o(()=>o.Tu())}})()}Iu(o){const c=this.iu.then(()=>(this.uu=!0,o().catch(h=>{throw this.au=h,this.uu=!1,en("INTERNAL UNHANDLED ERROR: ",function(b){let L=b.message||"";return b.stack&&(L=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),L}(h)),h}).then(h=>(this.uu=!1,h))));return this.iu=c,c}enqueueAfterDelay(o,c,h){this.Pu(),this.lu.indexOf(o)>-1&&(c=0);const _=Rs.createAndSchedule(this,o,c,h,C=>this.Eu(C));return this._u.push(_),_}Pu(){this.au&&Ne()}verifyOperationInProgress(){}du(){var o=this;return(0,ye.A)(function*(){let c;do{c=o.iu,yield c}while(c!==o.iu)})()}Au(o){for(const c of this._u)if(c.timerId===o)return!0;return!1}Ru(o){return this.du().then(()=>{this._u.sort((c,h)=>c.targetTimeMs-h.targetTimeMs);for(const c of this._u)if(c.skipDelay(),"all"!==o&&c.timerId===o)break;return this.du()})}Vu(o){this.lu.push(o)}Eu(o){const c=this._u.indexOf(o);this._u.splice(c,1)}}function Xh(p){return function(c,h){if("object"!=typeof c||null===c)return!1;const _=c;for(const C of["next","error","complete"])if(C in _&&"function"==typeof _[C])return!0;return!1}(p)}class Xi extends wi{constructor(o,c,h,_){super(o,c,h,_),this.type="firestore",this._queue=new ip,this._persistenceKey=_?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||k0(this),this._firestoreClient.terminate()}}function Wm(p,o){const c="object"==typeof p?p:(0,xt.Sx)(),h="string"==typeof p?p:o||"(default)",_=(0,xt.j6)(c,"firestore").getImmediate({identifier:h});if(!_._initialized){const C=(0,Ee.yU)("firestore");C&&function N0(p,o,c,h={}){var _;const C=(p=Sr(p,wi))._getSettings(),b=`${o}:${c}`;if("firestore.googleapis.com"!==C.host&&C.host!==b&&Fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),p._setSettings(Object.assign(Object.assign({},C),{host:b,ssl:!1})),h.mockUserToken){let L,G;if("string"==typeof h.mockUserToken)L=h.mockUserToken,G=He.MOCK_USER;else{L=(0,Ee.Fy)(h.mockUserToken,null===(_=p._app)||void 0===_?void 0:_.options.projectId);const Q=h.mockUserToken.sub||h.mockUserToken.user_id;if(!Q)throw new pe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");G=new He(Q)}p._authCredentials=new Jt(new Gt(L,G))}}(_,...C)}return _}function Mo(p){return p._firestoreClient||k0(p),p._firestoreClient.verifyNotTerminated(),p._firestoreClient}function k0(p){var o,c,h;const _=p._freezeSettings(),C=(G=(null===(o=p._app)||void 0===o?void 0:o.options.appId)||"",new ca(p._databaseId,G,p._persistenceKey,(ue=_).host,ue.ssl,ue.experimentalForceLongPolling,ue.experimentalAutoDetectLongPolling,hg(ue.experimentalLongPollingOptions),ue.useFetchStreams));var G,ue;p._firestoreClient=new R0(p._authCredentials,p._appCheckCredentials,p._queue,C),null!==(c=_.localCache)&&void 0!==c&&c._offlineComponentProvider&&null!==(h=_.localCache)&&void 0!==h&&h._onlineComponentProvider&&(p._firestoreClient._uninitializedComponentsProvider={_offlineKind:_.localCache.kind,_offline:_.localCache._offlineComponentProvider,_online:_.localCache._onlineComponentProvider})}class al{constructor(o){this._byteString=o}static fromBase64String(o){try{return new al(Ui.fromBase64String(o))}catch(c){throw new pe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+c)}}static fromUint8Array(o){return new al(Ui.fromUint8Array(o))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(o){return this._byteString.isEqual(o._byteString)}}class _d{constructor(...o){for(let c=0;c<o.length;++c)if(0===o[c].length)throw new pe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(o)}isEqual(o){return this._internalPath.isEqual(o._internalPath)}}class vd{constructor(o){this._methodName=o}}class _g{constructor(o,c){if(!isFinite(o)||o<-90||o>90)throw new pe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+o);if(!isFinite(c)||c<-180||c>180)throw new pe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+c);this._lat=o,this._long=c}get latitude(){return this._lat}get longitude(){return this._long}isEqual(o){return this._lat===o._lat&&this._long===o._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(o){return Sn(this._lat,o._lat)||Sn(this._long,o._long)}}const L0=/^__.*__$/;class V0{constructor(o,c,h){this.data=o,this.fieldMask=c,this.fieldTransforms=h}toMutation(o,c){return null!==this.fieldMask?new re(o,this.data,this.fieldMask,c,this.fieldTransforms):new F(o,this.data,c,this.fieldTransforms)}}class vg{constructor(o,c,h){this.data=o,this.fieldMask=c,this.fieldTransforms=h}toMutation(o,c){return new re(o,this.data,this.fieldMask,c,this.fieldTransforms)}}function yg(p){switch(p){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class Yh{constructor(o,c,h,_,C,b){this.settings=o,this.databaseId=c,this.serializer=h,this.ignoreUndefinedProperties=_,void 0===C&&this.mu(),this.fieldTransforms=C||[],this.fieldMask=b||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(o){return new Yh(Object.assign(Object.assign({},this.settings),o),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(o){var c;const h=null===(c=this.path)||void 0===c?void 0:c.child(o),_=this.gu({path:h,yu:!1});return _.wu(o),_}Su(o){var c;const h=null===(c=this.path)||void 0===c?void 0:c.child(o),_=this.gu({path:h,yu:!1});return _.mu(),_}bu(o){return this.gu({path:void 0,yu:!0})}Du(o){return hc(o,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(o){return void 0!==this.fieldMask.find(c=>o.isPrefixOf(c))||void 0!==this.fieldTransforms.find(c=>o.isPrefixOf(c.field))}mu(){if(this.path)for(let o=0;o<this.path.length;o++)this.wu(this.path.get(o))}wu(o){if(0===o.length)throw this.Du("Document fields must not be empty");if(yg(this.fu)&&L0.test(o))throw this.Du('Document fields cannot begin and end with "__"')}}class sp{constructor(o,c,h){this.databaseId=o,this.ignoreUndefinedProperties=c,this.serializer=h||gr(o)}Fu(o,c,h,_=!1){return new Yh({fu:o,methodName:c,vu:h,path:on.emptyPath(),yu:!1,Cu:_},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lc(p){const o=p._freezeSettings(),c=gr(p._databaseId);return new sp(p._databaseId,!!o.ignoreUndefinedProperties,c)}function Zh(p,o,c,h,_,C={}){const b=p.Fu(C.merge||C.mergeFields?2:0,o,c,_);Eg("Data must be an object, but it was:",b,h);const L=Ym(h,b);let G,Q;if(C.merge)G=new Di(b.fieldMask),Q=b.fieldTransforms;else if(C.mergeFields){const ue=[];for(const Ce of C.mergeFields){const Fe=Nl(o,Ce,c);if(!b.contains(Fe))throw new pe(le.INVALID_ARGUMENT,`Field '${Fe}' is specified in your field mask but missing from your input data.`);Jr(ue,Fe)||ue.push(Fe)}G=new Di(ue),Q=b.fieldTransforms.filter(Ce=>G.covers(Ce.field))}else G=null,Q=b.fieldTransforms;return new V0(new Qi(L),G,Q)}class ul extends vd{_toFieldTransform(o){if(2!==o.fu)throw o.Du(1===o.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return o.fieldMask.push(o.path),null}isEqual(o){return o instanceof ul}}function yd(p,o){if(B0(p=(0,Ee.Ku)(p)))return Eg("Unsupported field value:",o,p),Ym(p,o);if(p instanceof vd)return function(h,_){if(!yg(_.fu))throw _.Du(`${h._methodName}() can only be used with update() and set()`);if(!_.path)throw _.Du(`${h._methodName}() is not currently supported inside arrays`);const C=h._toFieldTransform(_);C&&_.fieldTransforms.push(C)}(p,o),null;if(void 0===p&&o.ignoreUndefinedProperties)return null;if(o.path&&o.fieldMask.push(o.path),p instanceof Array){if(o.settings.yu&&4!==o.fu)throw o.Du("Nested arrays are not supported");return function(h,_){const C=[];let b=0;for(const L of h){let G=yd(L,_.bu(b));null==G&&(G={nullValue:"NULL_VALUE"}),C.push(G),b++}return{arrayValue:{values:C}}}(p,o)}return function(h,_){if(null===(h=(0,Ee.Ku)(h)))return{nullValue:"NULL_VALUE"};if("number"==typeof h)return yc(_.serializer,h);if("boolean"==typeof h)return{booleanValue:h};if("string"==typeof h)return{stringValue:h};if(h instanceof Date){const C=ur.fromDate(h);return{timestampValue:Zi(_.serializer,C)}}if(h instanceof ur){const C=new ur(h.seconds,1e3*Math.floor(h.nanoseconds/1e3));return{timestampValue:Zi(_.serializer,C)}}if(h instanceof _g)return{geoPointValue:{latitude:h.latitude,longitude:h.longitude}};if(h instanceof al)return{bytesValue:gl(_.serializer,h._byteString)};if(h instanceof Ii){const C=_.databaseId,b=h.firestore._databaseId;if(!b.isEqual(C))throw _.Du(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${C.projectId}/${C.database}`);return{referenceValue:Ac(h.firestore._databaseId||_.databaseId,h._key.path)}}throw _.Du(`Unsupported field value: ${pg(h)}`)}(p,o)}function Ym(p,o){const c={};return Ao(p)?o.path&&o.path.length>0&&o.fieldMask.push(o.path):Bi(p,(h,_)=>{const C=yd(_,o.pu(h));null!=C&&(c[h]=C)}),{mapValue:{fields:c}}}function B0(p){return!("object"!=typeof p||null===p||p instanceof Array||p instanceof Date||p instanceof ur||p instanceof _g||p instanceof al||p instanceof Ii||p instanceof vd)}function Eg(p,o,c){if(!B0(c)||"object"!=typeof(_=c)||null===_||Object.getPrototypeOf(_)!==Object.prototype&&null!==Object.getPrototypeOf(_)){const h=pg(c);throw o.Du("an object"===h?p+" a custom object":p+" "+h)}var _}function Nl(p,o,c){if((o=(0,Ee.Ku)(o))instanceof _d)return o._internalPath;if("string"==typeof o)return ap(p,o);throw hc("Field path arguments must be of type string or ",p,!1,void 0,c)}const Cg=new RegExp("[~\\*/\\[\\]]");function ap(p,o,c){if(o.search(Cg)>=0)throw hc(`Invalid field path (${o}). Paths must not contain '~', '*', '/', '[', or ']'`,p,!1,void 0,c);try{return new _d(...o.split("."))._internalPath}catch{throw hc(`Invalid field path (${o}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,p,!1,void 0,c)}}function hc(p,o,c,h,_){const C=h&&!h.isEmpty(),b=void 0!==_;let L=`Function ${o}() called with invalid data`;c&&(L+=" (via `toFirestore()`)"),L+=". ";let G="";return(C||b)&&(G+=" (found",C&&(G+=` in field ${h}`),b&&(G+=` in document ${_}`),G+=")"),new pe(le.INVALID_ARGUMENT,L+p+G)}function Jr(p,o){return p.some(c=>c.isEqual(o))}class rh{constructor(o,c,h,_,C){this._firestore=o,this._userDataWriter=c,this._key=h,this._document=_,this._converter=C}get id(){return this._key.path.lastSegment()}get ref(){return new Ii(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const o=new Zm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(o)}return this._userDataWriter.convertValue(this._document.data.value)}}get(o){if(this._document){const c=this._document.data.field(ih("DocumentSnapshot.get",o));if(null!==c)return this._userDataWriter.convertValue(c)}}}class Zm extends rh{data(){return super.data()}}function ih(p,o){return"string"==typeof o?ap(p,o):o instanceof _d?o._internalPath:o._delegate._internalPath}function U0(p){if("L"===p.limitType&&0===p.explicitOrderBy.length)throw new pe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jm{}class Jh extends Jm{}function j0(p,o,...c){let h=[];o instanceof Jm&&h.push(o),h=h.concat(c),function(C){const b=C.filter(G=>G instanceof Ir).length,L=C.filter(G=>G instanceof ef).length;if(b>1||b>0&&L>0)throw new pe(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(h);for(const _ of h)p=_._apply(p);return p}class ef extends Jh{constructor(o,c,h){super(),this._field=o,this._op=c,this._value=h,this.type="where"}static _create(o,c,h){return new ef(o,c,h)}_apply(o){const c=this._parse(o);return sf(o._query,c),new Jo(o.firestore,o.converter,Y(o._query,c))}_parse(o){const c=Lc(o.firestore);return function(C,b,L,G,Q,ue,Ce){let Fe;if(Q.isKeyField()){if("array-contains"===ue||"array-contains-any"===ue)throw new pe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ue}' queries on documentId().`);if("in"===ue||"not-in"===ue){lp(Ce,ue);const gt=[];for(const Lt of Ce)gt.push(Ou(G,C,Lt));Fe={arrayValue:{values:gt}}}else Fe=Ou(G,C,Ce)}else"in"!==ue&&"not-in"!==ue&&"array-contains-any"!==ue||lp(Ce,ue),Fe=function Os(p,o,c,h=!1){return yd(c,p.Fu(h?4:3,o))}(L,"where",Ce,"in"===ue||"not-in"===ue);return Hn.create(Q,ue,Fe)}(o._query,0,c,o.firestore._databaseId,this._field,this._op,this._value)}}function u1(p,o,c){const h=o,_=ih("where",p);return ef._create(_,h,c)}class Ir extends Jm{constructor(o,c){super(),this.type=o,this._queryConstraints=c}static _create(o,c){return new Ir(o,c)}_parse(o){const c=this._queryConstraints.map(h=>h._parse(o)).filter(h=>h.getFilters().length>0);return 1===c.length?c[0]:dr.create(c,this._getOperator())}_apply(o){const c=this._parse(o);return 0===c.getFilters().length?o:(function(_,C){let b=_;const L=C.getFlattenedFilters();for(const G of L)sf(b,G),b=Y(b,G)}(o._query,c),new Jo(o.firestore,o.converter,Y(o._query,c)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Ou(p,o,c){if("string"==typeof(c=(0,Ee.Ku)(c))){if(""===c)throw new pe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Is(o)&&-1!==c.indexOf("/"))throw new pe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${c}' contains a '/' character.`);const h=o.path.child(Nt.fromString(c));if(!Ht.isDocumentKey(h))throw new pe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${h}' is not because it has an odd number of segments (${h.length}).`);return Vo(p,new Ht(h))}if(c instanceof Ii)return Vo(p,c._key);throw new pe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pg(c)}.`)}function lp(p,o){if(!Array.isArray(p)||0===p.length)throw new pe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${o.toString()}' filters.`)}function sf(p,o){const c=function(_,C){for(const b of _)for(const L of b.getFlattenedFilters())if(C.indexOf(L.op)>=0)return L.op;return null}(p.filters,function(_){switch(_){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(o.op));if(null!==c)throw new pe(le.INVALID_ARGUMENT,c===o.op?`Invalid query. You cannot use more than one '${o.op.toString()}' filter.`:`Invalid query. You cannot use '${o.op.toString()}' filters with '${c.toString()}' filters.`)}class Ag{convertValue(o,c="none"){switch(Lo(o)){case 0:return null;case 1:return o.booleanValue;case 2:return Ri(o.integerValue||o.doubleValue);case 3:return this.convertTimestamp(o.timestampValue);case 4:return this.convertServerTimestamp(o,c);case 5:return o.stringValue;case 6:return this.convertBytes(_s(o.bytesValue));case 7:return this.convertReference(o.referenceValue);case 8:return this.convertGeoPoint(o.geoPointValue);case 9:return this.convertArray(o.arrayValue,c);case 10:return this.convertObject(o.mapValue,c);default:throw Ne()}}convertObject(o,c){return this.convertObjectMap(o.fields,c)}convertObjectMap(o,c="none"){const h={};return Bi(o,(_,C)=>{h[_]=this.convertValue(C,c)}),h}convertGeoPoint(o){return new _g(Ri(o.latitude),Ri(o.longitude))}convertArray(o,c){return(o.values||[]).map(h=>this.convertValue(h,c))}convertServerTimestamp(o,c){switch(c){case"previous":const h=Oa(o);return null==h?null:this.convertValue(h,c);case"estimate":return this.convertTimestamp(Fo(o));default:return null}}convertTimestamp(o){const c=qo(o);return new ur(c.seconds,c.nanos)}convertDocumentKey(o,c){const h=Nt.fromString(o);Ue(Od(h));const _=new es(h.get(1),h.get(3)),C=new Ht(h.popFirst(5));return _.isEqual(c)||en(`Document ${C} contains a document reference within a different database (${_.projectId}/${_.database}) which is not supported. It will be treated as a reference in the current database (${c.projectId}/${c.database}) instead.`),C}}class Vc{constructor(o,c){this.hasPendingWrites=o,this.fromCache=c}isEqual(o){return this.hasPendingWrites===o.hasPendingWrites&&this.fromCache===o.fromCache}}class kl extends rh{constructor(o,c,h,_,C,b){super(o,c,h,_,b),this._firestore=o,this._firestoreImpl=o,this.metadata=C}exists(){return super.exists()}data(o={}){if(this._document){if(this._converter){const c=new fp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(c,o)}return this._userDataWriter.convertValue(this._document.data.value,o.serverTimestamps)}}get(o,c={}){if(this._document){const h=this._document.data.field(ih("DocumentSnapshot.get",o));if(null!==h)return this._userDataWriter.convertValue(h,c.serverTimestamps)}}}class fp extends kl{data(o={}){return super.data(o)}}class af{constructor(o,c,h,_){this._firestore=o,this._userDataWriter=c,this._snapshot=_,this.metadata=new Vc(_.hasPendingWrites,_.fromCache),this.query=h}get docs(){const o=[];return this.forEach(c=>o.push(c)),o}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(o,c){this._snapshot.docs.forEach(h=>{o.call(c,new fp(this._firestore,this._userDataWriter,h.key,h,new Vc(this._snapshot.mutatedKeys.has(h.key),this._snapshot.fromCache),this.query.converter))})}docChanges(o={}){const c=!!o.includeMetadataChanges;if(c&&this._snapshot.excludesMetadataChanges)throw new pe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===c||(this._cachedChanges=function(_,C){if(_._snapshot.oldDocs.isEmpty()){let b=0;return _._snapshot.docChanges.map(L=>({type:"added",doc:new fp(_._firestore,_._userDataWriter,L.doc.key,L.doc,new Vc(_._snapshot.mutatedKeys.has(L.doc.key),_._snapshot.fromCache),_.query.converter),oldIndex:-1,newIndex:b++}))}{let b=_._snapshot.oldDocs;return _._snapshot.docChanges.filter(L=>C||3!==L.type).map(L=>{const G=new fp(_._firestore,_._userDataWriter,L.doc.key,L.doc,new Vc(_._snapshot.mutatedKeys.has(L.doc.key),_._snapshot.fromCache),_.query.converter);let Q=-1,ue=-1;return 0!==L.type&&(Q=b.indexOf(L.doc.key),b=b.delete(L.doc.key)),1!==L.type&&(b=b.add(L.doc),ue=b.indexOf(L.doc.key)),{type:l1(L.type),doc:G,oldIndex:Q,newIndex:ue}})}}(this,c),this._cachedChangesIncludeMetadataChanges=c),this._cachedChanges}}function l1(p){switch(p){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}function q0(p){p=Sr(p,Ii);const o=Sr(p.firestore,Xi);return function Hm(p,o,c={}){const h=new yt;return p.asyncQueue.enqueueAndForget((0,ye.A)(function*(){return function(C,b,L,G,Q){const ue=new Ro({next:Fe=>{b.enqueueAndForget(()=>Ki(C,Ce));const gt=Fe.docs.has(L);!gt&&Fe.fromCache?Q.reject(new pe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):gt&&Fe.fromCache&&G&&"server"===G.source?Q.reject(new pe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Q.resolve(Fe)},error:Fe=>Q.reject(Fe)}),Ce=new Uf(Bo(L.path),ue,{includeMetadataChanges:!0,ra:!0});return Lf(C,Ce)}(yield Yd(p),p.asyncQueue,o,c,h)})),h.promise}(Mo(o),p._key).then(c=>df(o,p,c))}class Ps extends Ag{constructor(o){super(),this.firestore=o}convertBytes(o){return new al(o)}convertReference(o){const c=this.convertDocumentKey(o,this.firestore._databaseId);return new Ii(this.firestore,null,c)}}function n_(p){p=Sr(p,Jo);const o=Sr(p.firestore,Xi),c=Mo(o),h=new Ps(o);return U0(p._query),function r1(p,o,c={}){const h=new yt;return p.asyncQueue.enqueueAndForget((0,ye.A)(function*(){return function(C,b,L,G,Q){const ue=new Ro({next:Fe=>{b.enqueueAndForget(()=>Ki(C,Ce)),Fe.fromCache&&"server"===G.source?Q.reject(new pe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Q.resolve(Fe)},error:Fe=>Q.reject(Fe)}),Ce=new Uf(L,ue,{includeMetadataChanges:!0,ra:!0});return Lf(C,Ce)}(yield Yd(p),p.asyncQueue,o,c,h)})),h.promise}(c,p._query).then(_=>new af(o,h,p,_))}function cf(p,o,c,...h){p=Sr(p,Ii);const _=Sr(p.firestore,Xi),C=Lc(_);let b;return b="string"==typeof(o=(0,Ee.Ku)(o))||o instanceof _d?function ps(p,o,c,h,_,C){const b=p.Fu(1,o,c),L=[Nl(o,h,c)],G=[_];if(C.length%2!=0)throw new pe(le.INVALID_ARGUMENT,`Function ${o}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Fe=0;Fe<C.length;Fe+=2)L.push(Nl(o,C[Fe])),G.push(C[Fe+1]);const Q=[],ue=Qi.empty();for(let Fe=L.length-1;Fe>=0;--Fe)if(!Jr(Q,L[Fe])){const gt=L[Fe];let Lt=G[Fe];Lt=(0,Ee.Ku)(Lt);const Zt=b.Su(gt);if(Lt instanceof ul)Q.push(gt);else{const jt=yd(Lt,Zt);null!=jt&&(Q.push(gt),ue.set(gt,jt))}}const Ce=new Di(Q);return new vg(ue,Ce,b.fieldTransforms)}(C,"updateDoc",p._key,o,c,h):function Oo(p,o,c,h){const _=p.Fu(1,o,c);Eg("Data must be an object, but it was:",_,h);const C=[],b=Qi.empty();Bi(h,(G,Q)=>{const ue=ap(o,G,c);Q=(0,Ee.Ku)(Q);const Ce=_.Su(ue);if(Q instanceof ul)C.push(ue);else{const Fe=yd(Q,Ce);null!=Fe&&(C.push(ue),b.set(ue,Fe))}});const L=new Di(C);return new vg(b,L,_.fieldTransforms)}(C,"updateDoc",p._key,o),oh(_,[b.toMutation(p._key,Ln.exists(!0))])}function i_(p){return oh(Sr(p.firestore,Xi),[new dt(p._key,Ln.none())])}function lf(p,o){const c=Sr(p.firestore,Xi),h=Kh(p),_=function dp(p,o,c){let h;return h=p?c&&(c.merge||c.mergeFields)?p.toFirestore(o,c):p.toFirestore(o):o,h}(p.converter,o);return oh(c,[Zh(Lc(p.firestore),"addDoc",h._key,_,null!==p.converter,{}).toMutation(h._key,Ln.exists(!1))]).then(()=>h)}function oh(p,o){return function(h,_){const C=new yt;return h.asyncQueue.enqueueAndForget((0,ye.A)(function*(){return function Zr(p,o,c){return ad.apply(this,arguments)}(yield function tp(p){return ep(p).then(o=>o.syncEngine)}(h),_,C)})),C.promise}(Mo(p),o)}function df(p,o,c){const h=c.docs.get(o._key),_=new Ps(p);return new kl(p,_,o._key,h,new Vc(c.hasPendingWrites,c.fromCache),o.converter)}!function(o,c=!0){Yt=xt.MF,(0,xt.om)(new Xe.uA("firestore",(h,{instanceIdentifier:_,options:C})=>{const b=h.getProvider("app").getImmediate(),L=new Xi(new Xn(h.getProvider("auth-internal")),new Lr(h.getProvider("app-check-internal")),function(Q,ue){if(!Object.prototype.hasOwnProperty.apply(Q.options,["projectId"]))throw new pe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new es(Q.options.projectId,ue)}(b,_),b);return C=Object.assign({useFetchStreams:c},C),L._setSettings(C),L},"PUBLIC").setMultipleInstances(!0)),(0,xt.KO)(Mt,"4.6.3",o),(0,xt.KO)(Mt,"4.6.3","esm2017")}();var g1=ie(1985),h_=ie(6354),Ed=function(){return Ed=Object.assign||function(o){for(var c,h=1,_=arguments.length;h<_;h++)for(var C in c=arguments[h])Object.prototype.hasOwnProperty.call(c,C)&&(o[C]=c[C]);return o},Ed.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var m1={includeMetadataChanges:!1};function uh(p,o){return void 0===o&&(o={}),function J0(p){return function f_(p,o){return void 0===o&&(o=m1),new g1.c(function(c){var h=function o_(p,...o){var c,h,_;p=(0,Ee.Ku)(p);let C={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof o[b]||Xh(o[b])||(C=o[b],b++);const L={includeMetadataChanges:C.includeMetadataChanges,source:C.source};if(Xh(o[b])){const Ce=o[b];o[b]=null===(c=Ce.next)||void 0===c?void 0:c.bind(Ce),o[b+1]=null===(h=Ce.error)||void 0===h?void 0:h.bind(Ce),o[b+2]=null===(_=Ce.complete)||void 0===_?void 0:_.bind(Ce)}let G,Q,ue;if(p instanceof Ii)Q=Sr(p.firestore,Xi),ue=Bo(p._key.path),G={next:Ce=>{o[b]&&o[b](df(Q,p,Ce))},error:o[b+1],complete:o[b+2]};else{const Ce=Sr(p,Jo);Q=Sr(Ce.firestore,Xi),ue=Ce._query;const Fe=new Ps(Q);G={next:gt=>{o[b]&&o[b](new af(Q,Fe,Ce,gt))},error:o[b+1],complete:o[b+2]},U0(p._query)}return function(Fe,gt,Lt,Zt){const jt=new Ro(Zt),xn=new Uf(gt,jt,Lt);return Fe.asyncQueue.enqueueAndForget((0,ye.A)(function*(){return Lf(yield Yd(Fe),xn)})),()=>{jt.$a(),Fe.asyncQueue.enqueueAndForget((0,ye.A)(function*(){return Ki(yield Yd(Fe),xn)}))}}(Mo(Q),ue,L,G)}(p,o,{next:c.next.bind(c),error:c.error.bind(c),complete:c.complete.bind(c)});return{unsubscribe:h}})}(p,{includeMetadataChanges:!0}).pipe((0,h_.T)(function(o){return o.docs}))}(p).pipe((0,h_.T)(function(c){return c.map(function(h){return function g_(p,o){var c;void 0===o&&(o={});var h=p.data(o);return p.exists()&&"object"==typeof h&&null!==h&&o.idField?Ed(Ed({},h),((c={})[o.idField]=p.id,c)):h}(h,o)})}))}class ch{constructor(o){return o}}const kg="firestore",Fg=new O.nKC("angularfire2.firestore-instances");function w_(p){return(o,c)=>{const h=o.runOutsideAngular(()=>p(c));return new ch(h)}}const C1={provide:class tv{constructor(){return(0,D.CA)(kg)}},deps:[[new O.Xx1,Fg]]},w1={provide:ch,useFactory:function C_(p,o){const c=(0,D.lR)(kg,p,o);return c&&new ch(c)},deps:[[new O.Xx1,Fg],U.XU]};function nv(p,...o){return(0,nt.KO)("angularfire",D.xv.full,"fst"),(0,O.EmA)([w1,C1,{provide:Fg,useFactory:w_(p),multi:!0,deps:[O.SKi,O.zZn,D.u0,U.gL,[new O.Xx1,Oe.DF],[new O.Xx1,D.Jv],...o]}])}const iv=(0,D.S3)(uh,!0),R1=(0,D.S3)(lf,!0),u=(0,D.S3)(np,!0),T=(0,D.S3)(i_,!0),q=(0,D.S3)(Kh,!0),Kt=(0,D.S3)(q0,!0),ir=(0,D.S3)(n_,!0),po=(0,D.S3)(Wm,!0),N1=(0,D.S3)(j0,!0),F1=(0,D.S3)(cf,!0),Vg=(0,D.S3)(u1,!0)},3586:(Cn,bt,ie)=>{ie.d(bt,{xv:()=>Pt,u0:()=>Vr,Jv:()=>ut,CA:()=>_t,lR:()=>it,S3:()=>Le});var D=ie(3953),O=ie(2214),U=ie(8359);class Oe extends U.yU{constructor(pe,yt){super()}schedule(pe,yt=0){return this}}const nt={setInterval(le,pe,...yt){const{delegate:Gt}=nt;return Gt?.setInterval?Gt.setInterval(le,pe,...yt):setInterval(le,pe,...yt)},clearInterval(le){const{delegate:pe}=nt;return(pe?.clearInterval||clearInterval)(le)},delegate:void 0};var ye=ie(7908);class xt extends Oe{constructor(pe,yt){super(pe,yt),this.scheduler=pe,this.work=yt,this.pending=!1}schedule(pe,yt=0){var Gt;if(this.closed)return this;this.state=pe;const Bn=this.id,Jt=this.scheduler;return null!=Bn&&(this.id=this.recycleAsyncId(Jt,Bn,yt)),this.pending=!0,this.delay=yt,this.id=null!==(Gt=this.id)&&void 0!==Gt?Gt:this.requestAsyncId(Jt,this.id,yt),this}requestAsyncId(pe,yt,Gt=0){return nt.setInterval(pe.flush.bind(pe,this),Gt)}recycleAsyncId(pe,yt,Gt=0){if(null!=Gt&&this.delay===Gt&&!1===this.pending)return yt;null!=yt&&nt.clearInterval(yt)}execute(pe,yt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Gt=this._execute(pe,yt);if(Gt)return Gt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,yt){let Bn,Gt=!1;try{this.work(pe)}catch(Jt){Gt=!0,Bn=Jt||new Error("Scheduled action threw falsy error")}if(Gt)return this.unsubscribe(),Bn}unsubscribe(){if(!this.closed){const{id:pe,scheduler:yt}=this,{actions:Gt}=yt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ye.o)(Gt,this),null!=pe&&(this.id=this.recycleAsyncId(yt,pe,null)),this.delay=null,super.unsubscribe()}}}const lt={now:()=>(lt.delegate||Date).now(),delegate:void 0};class Ee{constructor(pe,yt=Ee.now){this.schedulerActionCtor=pe,this.now=yt}schedule(pe,yt=0,Gt){return new this.schedulerActionCtor(this,pe).schedule(Gt,yt)}}Ee.now=lt.now;class Te extends Ee{constructor(pe,yt=Ee.now){super(pe,yt),this.actions=[],this._active=!1}flush(pe){const{actions:yt}=this;if(this._active)return void yt.push(pe);let Gt;this._active=!0;do{if(Gt=pe.execute(pe.state,pe.delay))break}while(pe=yt.shift());if(this._active=!1,Gt){for(;pe=yt.shift();)pe.unsubscribe();throw Gt}}}const Et=new class Me extends Te{}(class Xe extends xt{constructor(pe,yt){super(pe,yt),this.scheduler=pe,this.work=yt}schedule(pe,yt=0){return yt>0?super.schedule(pe,yt):(this.delay=yt,this.state=pe,this.scheduler.flush(this),this)}execute(pe,yt){return yt>0||this.closed?super.execute(pe,yt):this._execute(pe,yt)}requestAsyncId(pe,yt,Gt=0){return null!=Gt&&Gt>0||null==Gt&&this.delay>0?super.requestAsyncId(pe,yt,Gt):(pe.flush(this),0)}}),It=new Te(xt);var hn=ie(1985),Wt=ie(8141),Kn=ie(6745),An=ie(941);const Pt=new D.RxE("ANGULARFIRE2_VERSION");function it(le,pe,yt){if(pe){if(1===pe.length)return pe[0];const Jt=pe.filter(Xn=>Xn.app===yt);if(1===Jt.length)return Jt[0]}return yt.container.getProvider(le).getImmediate({optional:!0})}const _t=(le,pe)=>{const yt=pe?[pe]:(0,O.Dk)(),Gt=[];return yt.forEach(Bn=>{Bn.container.getProvider(le).instances.forEach(Xn=>{Gt.includes(Xn)||Gt.push(Xn)})}),Gt};class ut{constructor(){return _t(Mt)}}const Mt="app-check";function He(){}class Yt{zone;delegate;constructor(pe,yt=Et){this.zone=pe,this.delegate=yt}now(){return this.delegate.now()}schedule(pe,yt,Gt){const Bn=this.zone;return this.delegate.schedule(function(Xn){Bn.runGuarded(()=>{pe.apply(this,[Xn])})},yt,Gt)}}class yn{zone;task=null;constructor(pe){this.zone=pe}call(pe,yt){const Gt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He)),yt.pipe((0,Wt.M)({next:Gt,complete:Gt,error:Gt})).subscribe(pe).add(Gt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vr=(()=>{class le{ngZone;outsideAngular;insideAngular;constructor(yt){this.ngZone=yt,this.outsideAngular=yt.runOutsideAngular(()=>new Yt(Zone.current)),this.insideAngular=yt.run(()=>new Yt(Zone.current,It)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Gt){return new(Gt||le)(D.KVO(D.SKi))};static \u0275prov=D.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function ui(){const le=globalThis.\u0275AngularFireScheduler;if(!le)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return le}function en(le){return ui().ngZone.run(()=>le())}function Ne(le){return function Ue(le){return function(yt){return(yt=yt.lift(new yn(le.ngZone))).pipe((0,Kn._)(le.outsideAngular),(0,An.Q)(le.insideAngular))}}(ui())(le)}const At=(le,pe)=>function(){const Gt=arguments;return pe&&setTimeout(()=>{"scheduled"===pe.state&&pe.invoke()},10),en(()=>le.apply(void 0,Gt))},Le=(le,pe)=>function(){let yt;const Gt=arguments;for(let Jt=0;Jt<arguments.length;Jt++)"function"==typeof Gt[Jt]&&(pe&&(yt||=en(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He))),Gt[Jt]=At(Gt[Jt],yt));const Bn=function vt(le){return ui().ngZone.runOutsideAngular(()=>le())}(()=>le.apply(this,Gt));if(!pe){if(Bn instanceof hn.c){const Jt=ui();return Bn.pipe((0,Kn._)(Jt.outsideAngular),(0,An.Q)(Jt.insideAngular))}return en(()=>Bn)}return Bn instanceof hn.c?Bn.pipe(Ne):Bn instanceof Promise?en(()=>new Promise((Jt,Xn)=>Bn.then(Rr=>en(()=>Jt(Rr)),Rr=>en(()=>Xn(Rr))))):"function"==typeof Bn&&yt?function(){return setTimeout(()=>{yt&&"scheduled"===yt.state&&yt.invoke()},10),Bn.apply(this,arguments)}:en(()=>Bn)}},4341:(Cn,bt,ie)=>{ie.d(bt,{me:()=>Je,ok:()=>Or,MJ:()=>ks,l_:()=>ns,JD:()=>Xo,j4:()=>_o,YN:()=>zc,BC:()=>or,cb:()=>on,xH:()=>$c,X1:()=>pl,wz:()=>zi,k0:()=>Yt,qT:()=>Ga,y7:()=>dr});var D=ie(3953),O=ie(177),U=ie(8455),Oe=ie(1985),nt=ie(3073),ye=ie(8750),xt=ie(3794),Xe=ie(4360),lt=ie(6450),Ee=ie(8496),Me=ie(1413),Et=ie(6354);let We=(()=>{class Y{constructor(H,oe){this._renderer=H,this._elementRef=oe,this.onChange=be=>{},this.onTouched=()=>{}}setProperty(H,oe){this._renderer.setProperty(this._elementRef.nativeElement,H,oe)}registerOnTouched(H){this.onTouched=H}registerOnChange(H){this.onChange=H}setDisabledState(H){this.setProperty("disabled",H)}static#e=this.\u0275fac=function(oe){return new(oe||Y)(D.rXU(D.sFG),D.rXU(D.aKT))};static#t=this.\u0275dir=D.FsC({type:Y})}return Y})(),It=(()=>{class Y extends We{static#e=this.\u0275fac=(()=>{let H;return function(be){return(H||(H=D.xGo(Y)))(be||Y)}})();static#t=this.\u0275dir=D.FsC({type:Y,features:[D.Vt3]})}return Y})();const Ut=new D.nKC(""),Kn={provide:Ut,useExisting:(0,D.Rfq)(()=>Je),multi:!0},Pt=new D.nKC("");let Je=(()=>{class Y extends We{constructor(H,oe,be){super(H,oe),this._compositionMode=be,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function An(){const Y=(0,O.QT)()?(0,O.QT)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(H){this.setProperty("value",H??"")}_handleInput(H){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(H)}_compositionStart(){this._composing=!0}_compositionEnd(H){this._composing=!1,this._compositionMode&&this.onChange(H)}static#e=this.\u0275fac=function(oe){return new(oe||Y)(D.rXU(D.sFG),D.rXU(D.aKT),D.rXU(Pt,8))};static#t=this.\u0275dir=D.FsC({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,be){1&oe&&D.bIt("input",function(Gn){return be._handleInput(Gn.target.value)})("blur",function(){return be.onTouched()})("compositionstart",function(){return be._compositionStart()})("compositionend",function(Gn){return be._compositionEnd(Gn.target.value)})},features:[D.Jv_([Kn]),D.Vt3]})}return Y})();function it(Y){return null==Y||("string"==typeof Y||Array.isArray(Y))&&0===Y.length}function _t(Y){return null!=Y&&"number"==typeof Y.length}const ut=new D.nKC(""),Mt=new D.nKC(""),He=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Yt{static min(Z){return function yn(Y){return Z=>{if(it(Z.value)||it(Y))return null;const H=parseFloat(Z.value);return!isNaN(H)&&H<Y?{min:{min:Y,actual:Z.value}}:null}}(Z)}static max(Z){return function Vr(Y){return Z=>{if(it(Z.value)||it(Y))return null;const H=parseFloat(Z.value);return!isNaN(H)&&H>Y?{max:{max:Y,actual:Z.value}}:null}}(Z)}static required(Z){return function ui(Y){return it(Y.value)?{required:!0}:null}(Z)}static requiredTrue(Z){return function vt(Y){return!0===Y.value?null:{required:!0}}(Z)}static email(Z){return function en(Y){return it(Y.value)||He.test(Y.value)?null:{email:!0}}(Z)}static minLength(Z){return function Fr(Y){return Z=>it(Z.value)||!_t(Z.value)?null:Z.value.length<Y?{minlength:{requiredLength:Y,actualLength:Z.value.length}}:null}(Z)}static maxLength(Z){return function ki(Y){return Z=>_t(Z.value)&&Z.value.length>Y?{maxlength:{requiredLength:Y,actualLength:Z.value.length}}:null}(Z)}static pattern(Z){return function Ne(Y){if(!Y)return Ue;let Z,H;return"string"==typeof Y?(H="","^"!==Y.charAt(0)&&(H+="^"),H+=Y,"$"!==Y.charAt(Y.length-1)&&(H+="$"),Z=new RegExp(H)):(H=Y.toString(),Z=Y),oe=>{if(it(oe.value))return null;const be=oe.value;return Z.test(be)?null:{pattern:{requiredPattern:H,actualValue:be}}}}(Z)}static nullValidator(Z){return null}static compose(Z){return Bn(Z)}static composeAsync(Z){return Xn(Z)}}function Ue(Y){return null}function At(Y){return null!=Y}function Le(Y){return(0,D.jNT)(Y)?(0,U.H)(Y):Y}function le(Y){let Z={};return Y.forEach(H=>{Z=null!=H?{...Z,...H}:Z}),0===Object.keys(Z).length?null:Z}function pe(Y,Z){return Z.map(H=>H(Y))}function Gt(Y){return Y.map(Z=>function yt(Y){return!Y.validate}(Z)?Z:H=>Z.validate(H))}function Bn(Y){if(!Y)return null;const Z=Y.filter(At);return 0==Z.length?null:function(H){return le(pe(H,Z))}}function Jt(Y){return null!=Y?Bn(Gt(Y)):null}function Xn(Y){if(!Y)return null;const Z=Y.filter(At);return 0==Z.length?null:function(H){return function Te(...Y){const Z=(0,xt.ms)(Y),{args:H,keys:oe}=(0,nt.D)(Y),be=new Oe.c(Ot=>{const{length:Gn}=H;if(!Gn)return void Ot.complete();const Uo=new Array(Gn);let pa=Gn,bo=Gn;for(let Bs=0;Bs<Gn;Bs++){let Tn=!1;(0,ye.Tg)(H[Bs]).subscribe((0,Xe._)(Ot,_c=>{Tn||(Tn=!0,bo--),Uo[Bs]=_c},()=>pa--,void 0,()=>{(!pa||!Tn)&&(bo||Ot.next(oe?(0,Ee.e)(oe,Uo):Uo),Ot.complete())}))}});return Z?be.pipe((0,lt.I)(Z)):be}(pe(H,Z).map(Le)).pipe((0,Et.T)(le))}}function Rr(Y){return null!=Y?Xn(Gt(Y)):null}function no(Y,Z){return null===Y?[Z]:Array.isArray(Y)?[...Y,Z]:[Y,Z]}function pr(Y){return Y._rawValidators}function Lr(Y){return Y._rawAsyncValidators}function Fi(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function un(Y,Z){return Array.isArray(Y)?Y.includes(Z):Y===Z}function Hr(Y,Z){const H=Fi(Z);return Fi(Y).forEach(be=>{un(H,be)||H.push(be)}),H}function Sn(Y,Z){return Fi(Z).filter(H=>!un(Y,H))}class _r{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Z){this._rawValidators=Z||[],this._composedValidatorFn=Jt(this._rawValidators)}_setAsyncValidators(Z){this._rawAsyncValidators=Z||[],this._composedAsyncValidatorFn=Rr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Z){this._onDestroyCallbacks.push(Z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Z=>Z()),this._onDestroyCallbacks=[]}reset(Z=void 0){this.control&&this.control.reset(Z)}hasError(Z,H){return!!this.control&&this.control.hasError(Z,H)}getError(Z,H){return this.control?this.control.getError(Z,H):null}}class ni extends _r{get formDirective(){return null}get path(){return null}}class ur extends _r{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rn{constructor(Z){this._cd=Z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let or=(()=>{class Y extends rn{constructor(H){super(H)}static#e=this.\u0275fac=function(oe){return new(oe||Y)(D.rXU(ur,2))};static#t=this.\u0275dir=D.FsC({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,be){2&oe&&D.AVh("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)},features:[D.Vt3]})}return Y})(),on=(()=>{class Y extends rn{constructor(H){super(H)}static#e=this.\u0275fac=function(oe){return new(oe||Y)(D.rXU(ni,10))};static#t=this.\u0275dir=D.FsC({type:Y,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,be){2&oe&&D.AVh("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)("ng-submitted",be.isSubmitted)},features:[D.Vt3]})}return Y})();const Ae="VALID",Qe="INVALID",de="PENDING",ge="DISABLED";class Se{}class pt extends Se{constructor(Z,H){super(),this.value=Z,this.source=H}}class qe extends Se{constructor(Z,H){super(),this.pristine=Z,this.source=H}}class qt extends Se{constructor(Z,H){super(),this.touched=Z,this.source=H}}class wn extends Se{constructor(Z,H){super(),this.status=Z,this.source=H}}class jn extends Se{constructor(Z){super(),this.source=Z}}class Kr extends Se{constructor(Z){super(),this.source=Z}}function yr(Y){return(Br(Y)?Y.validators:Y)||null}function Wn(Y,Z){return(Br(Z)?Z.asyncValidators:Y)||null}function Br(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}function ii(Y,Z,H){const oe=Y.controls;if(!(Z?Object.keys(oe):oe).length)throw new D.wOt(1e3,"");if(!oe[H])throw new D.wOt(1001,"")}function Ns(Y,Z,H){Y._forEachChild((oe,be)=>{if(void 0===H[be])throw new D.wOt(1002,"")})}class mo{constructor(Z,H){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new Me.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(Z),this._assignAsyncValidators(H)}get validator(){return this._composedValidatorFn}set validator(Z){this._rawValidators=this._composedValidatorFn=Z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Z){this._rawAsyncValidators=this._composedAsyncValidatorFn=Z}get parent(){return this._parent}get valid(){return this.status===Ae}get invalid(){return this.status===Qe}get pending(){return this.status==de}get disabled(){return this.status===ge}get enabled(){return this.status!==ge}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Z){this._assignValidators(Z)}setAsyncValidators(Z){this._assignAsyncValidators(Z)}addValidators(Z){this.setValidators(Hr(Z,this._rawValidators))}addAsyncValidators(Z){this.setAsyncValidators(Hr(Z,this._rawAsyncValidators))}removeValidators(Z){this.setValidators(Sn(Z,this._rawValidators))}removeAsyncValidators(Z){this.setAsyncValidators(Sn(Z,this._rawAsyncValidators))}hasValidator(Z){return un(this._rawValidators,Z)}hasAsyncValidator(Z){return un(this._rawAsyncValidators,Z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Z={}){const H=!1===this.touched;this.touched=!0;const oe=Z.sourceControl??this;this._parent&&!Z.onlySelf&&this._parent.markAsTouched({...Z,sourceControl:oe}),H&&!1!==Z.emitEvent&&this._events.next(new qt(!0,oe))}markAllAsTouched(Z={}){this.markAsTouched({onlySelf:!0,emitEvent:Z.emitEvent,sourceControl:this}),this._forEachChild(H=>H.markAllAsTouched(Z))}markAsUntouched(Z={}){const H=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const oe=Z.sourceControl??this;this._forEachChild(be=>{be.markAsUntouched({onlySelf:!0,emitEvent:Z.emitEvent,sourceControl:oe})}),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z,oe),H&&!1!==Z.emitEvent&&this._events.next(new qt(!1,oe))}markAsDirty(Z={}){const H=!0===this.pristine;this.pristine=!1;const oe=Z.sourceControl??this;this._parent&&!Z.onlySelf&&this._parent.markAsDirty({...Z,sourceControl:oe}),H&&!1!==Z.emitEvent&&this._events.next(new qe(!1,oe))}markAsPristine(Z={}){const H=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const oe=Z.sourceControl??this;this._forEachChild(be=>{be.markAsPristine({onlySelf:!0,emitEvent:Z.emitEvent})}),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z,oe),H&&!1!==Z.emitEvent&&this._events.next(new qe(!0,oe))}markAsPending(Z={}){this.status=de;const H=Z.sourceControl??this;!1!==Z.emitEvent&&(this._events.next(new wn(this.status,H)),this.statusChanges.emit(this.status)),this._parent&&!Z.onlySelf&&this._parent.markAsPending({...Z,sourceControl:H})}disable(Z={}){const H=this._parentMarkedDirty(Z.onlySelf);this.status=ge,this.errors=null,this._forEachChild(be=>{be.disable({...Z,onlySelf:!0})}),this._updateValue();const oe=Z.sourceControl??this;!1!==Z.emitEvent&&(this._events.next(new pt(this.value,oe)),this._events.next(new wn(this.status,oe)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Z,skipPristineCheck:H},this),this._onDisabledChange.forEach(be=>be(!0))}enable(Z={}){const H=this._parentMarkedDirty(Z.onlySelf);this.status=Ae,this._forEachChild(oe=>{oe.enable({...Z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent}),this._updateAncestors({...Z,skipPristineCheck:H},this),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(Z,H){this._parent&&!Z.onlySelf&&(this._parent.updateValueAndValidity(Z),Z.skipPristineCheck||this._parent._updatePristine({},H),this._parent._updateTouched({},H))}setParent(Z){this._parent=Z}getRawValue(){return this.value}updateValueAndValidity(Z={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const oe=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ae||this.status===de)&&this._runAsyncValidator(oe,Z.emitEvent)}const H=Z.sourceControl??this;!1!==Z.emitEvent&&(this._events.next(new pt(this.value,H)),this._events.next(new wn(this.status,H)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Z.onlySelf&&this._parent.updateValueAndValidity({...Z,sourceControl:H})}_updateTreeValidity(Z={emitEvent:!0}){this._forEachChild(H=>H._updateTreeValidity(Z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ge:Ae}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Z,H){if(this.asyncValidator){this.status=de,this._hasOwnPendingAsyncValidator={emitEvent:!1!==H};const oe=Le(this.asyncValidator(this));this._asyncValidationSubscription=oe.subscribe(be=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(be,{emitEvent:H,shouldHaveEmitted:Z})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const Z=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,Z}return!1}setErrors(Z,H={}){this.errors=Z,this._updateControlsErrors(!1!==H.emitEvent,this,H.shouldHaveEmitted)}get(Z){let H=Z;return null==H||(Array.isArray(H)||(H=H.split(".")),0===H.length)?null:H.reduce((oe,be)=>oe&&oe._find(be),this)}getError(Z,H){const oe=H?this.get(H):this;return oe&&oe.errors?oe.errors[Z]:null}hasError(Z,H){return!!this.getError(Z,H)}get root(){let Z=this;for(;Z._parent;)Z=Z._parent;return Z}_updateControlsErrors(Z,H,oe){this.status=this._calculateStatus(),Z&&this.statusChanges.emit(this.status),(Z||oe)&&this._events.next(new wn(this.status,H)),this._parent&&this._parent._updateControlsErrors(Z,H,oe)}_initObservables(){this.valueChanges=new D.bkB,this.statusChanges=new D.bkB}_calculateStatus(){return this._allControlsDisabled()?ge:this.errors?Qe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(de)?de:this._anyControlsHaveStatus(Qe)?Qe:Ae}_anyControlsHaveStatus(Z){return this._anyControls(H=>H.status===Z)}_anyControlsDirty(){return this._anyControls(Z=>Z.dirty)}_anyControlsTouched(){return this._anyControls(Z=>Z.touched)}_updatePristine(Z,H){const oe=!this._anyControlsDirty(),be=this.pristine!==oe;this.pristine=oe,this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z,H),be&&this._events.next(new qe(this.pristine,H))}_updateTouched(Z={},H){this.touched=this._anyControlsTouched(),this._events.next(new qt(this.touched,H)),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z,H)}_registerOnCollectionChange(Z){this._onCollectionChange=Z}_setUpdateStrategy(Z){Br(Z)&&null!=Z.updateOn&&(this._updateOn=Z.updateOn)}_parentMarkedDirty(Z){return!Z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Z){return null}_assignValidators(Z){this._rawValidators=Array.isArray(Z)?Z.slice():Z,this._composedValidatorFn=function ri(Y){return Array.isArray(Y)?Jt(Y):Y||null}(this._rawValidators)}_assignAsyncValidators(Z){this._rawAsyncValidators=Array.isArray(Z)?Z.slice():Z,this._composedAsyncValidatorFn=function Vi(Y){return Array.isArray(Y)?Rr(Y):Y||null}(this._rawAsyncValidators)}}class so extends mo{constructor(Z,H,oe){super(yr(H),Wn(oe,H)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(H),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Z,H){return this.controls[Z]?this.controls[Z]:(this.controls[Z]=H,H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange),H)}addControl(Z,H,oe={}){this.registerControl(Z,H),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(Z,H={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}setControl(Z,H,oe={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],H&&this.registerControl(Z,H),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(Z){return this.controls.hasOwnProperty(Z)&&this.controls[Z].enabled}setValue(Z,H={}){Ns(this,0,Z),Object.keys(Z).forEach(oe=>{ii(this,!0,oe),this.controls[oe].setValue(Z[oe],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H)}patchValue(Z,H={}){null!=Z&&(Object.keys(Z).forEach(oe=>{const be=this.controls[oe];be&&be.patchValue(Z[oe],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H))}reset(Z={},H={}){this._forEachChild((oe,be)=>{oe.reset(Z?Z[be]:null,{onlySelf:!0,emitEvent:H.emitEvent})}),this._updatePristine(H,this),this._updateTouched(H,this),this.updateValueAndValidity(H)}getRawValue(){return this._reduceChildren({},(Z,H,oe)=>(Z[oe]=H.getRawValue(),Z))}_syncPendingControls(){let Z=this._reduceChildren(!1,(H,oe)=>!!oe._syncPendingControls()||H);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){Object.keys(this.controls).forEach(H=>{const oe=this.controls[H];oe&&Z(oe,H)})}_setUpControls(){this._forEachChild(Z=>{Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Z){for(const[H,oe]of Object.entries(this.controls))if(this.contains(H)&&Z(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(H,oe,be)=>((oe.enabled||this.disabled)&&(H[be]=oe.value),H))}_reduceChildren(Z,H){let oe=Z;return this._forEachChild((be,Ot)=>{oe=H(oe,be,Ot)}),oe}_allControlsDisabled(){for(const Z of Object.keys(this.controls))if(this.controls[Z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Z){return this.controls.hasOwnProperty(Z)?this.controls[Z]:null}}class Da extends so{}const ze=new D.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>St}),St="always";function Fn(Y,Z,H=St){Ur(Y,Z),Z.valueAccessor.writeValue(Y.value),(Y.disabled||"always"===H)&&Z.valueAccessor.setDisabledState?.(Y.disabled),function No(Y,Z){Z.valueAccessor.registerOnChange(H=>{Y._pendingValue=H,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&gu(Y,Z)})}(Y,Z),function aa(Y,Z){const H=(oe,be)=>{Z.valueAccessor.writeValue(oe),be&&Z.viewToModelUpdate(oe)};Y.registerOnChange(H),Z._registerOnDestroy(()=>{Y._unregisterOnChange(H)})}(Y,Z),function Xr(Y,Z){Z.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&gu(Y,Z),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,Z),function Cr(Y,Z){if(Z.valueAccessor.setDisabledState){const H=oe=>{Z.valueAccessor.setDisabledState(oe)};Y.registerOnDisabledChange(H),Z._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(H)})}}(Y,Z)}function Dn(Y,Z,H=!0){const oe=()=>{};Z.valueAccessor&&(Z.valueAccessor.registerOnChange(oe),Z.valueAccessor.registerOnTouched(oe)),Gi(Y,Z),Y&&(Z._invokeOnDestroyCallbacks(),Y._registerOnCollectionChange(()=>{}))}function Nn(Y,Z){Y.forEach(H=>{H.registerOnValidatorChange&&H.registerOnValidatorChange(Z)})}function Ur(Y,Z){const H=pr(Y);null!==Z.validator?Y.setValidators(no(H,Z.validator)):"function"==typeof H&&Y.setValidators([H]);const oe=Lr(Y);null!==Z.asyncValidator?Y.setAsyncValidators(no(oe,Z.asyncValidator)):"function"==typeof oe&&Y.setAsyncValidators([oe]);const be=()=>Y.updateValueAndValidity();Nn(Z._rawValidators,be),Nn(Z._rawAsyncValidators,be)}function Gi(Y,Z){let H=!1;if(null!==Y){if(null!==Z.validator){const be=pr(Y);if(Array.isArray(be)&&be.length>0){const Ot=be.filter(Gn=>Gn!==Z.validator);Ot.length!==be.length&&(H=!0,Y.setValidators(Ot))}}if(null!==Z.asyncValidator){const be=Lr(Y);if(Array.isArray(be)&&be.length>0){const Ot=be.filter(Gn=>Gn!==Z.asyncValidator);Ot.length!==be.length&&(H=!0,Y.setAsyncValidators(Ot))}}}const oe=()=>{};return Nn(Z._rawValidators,oe),Nn(Z._rawAsyncValidators,oe),H}function gu(Y,Z){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),Z.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function rr(Y,Z){if(!Y.hasOwnProperty("model"))return!1;const H=Y.model;return!!H.isFirstChange()||!Object.is(Z,H.currentValue)}function Ao(Y,Z){if(!Z)return null;let H,oe,be;return Array.isArray(Z),Z.forEach(Ot=>{Ot.constructor===Je?H=Ot:function Bi(Y){return Object.getPrototypeOf(Y.constructor)===It}(Ot)?oe=Ot:be=Ot}),be||oe||H||null}function $i(Y,Z){const H=Y.indexOf(Z);H>-1&&Y.splice(H,1)}function Di(Y){return"object"==typeof Y&&null!==Y&&2===Object.keys(Y).length&&"value"in Y&&"disabled"in Y}Promise.resolve();const ks=class extends mo{constructor(Z=null,H,oe){super(yr(H),Wn(oe,H)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Z),this._setUpdateStrategy(H),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Br(H)&&(H.nonNullable||H.initialValueIsDefault)&&(this.defaultValue=Di(Z)?Z.value:Z)}setValue(Z,H={}){this.value=this._pendingValue=Z,this._onChange.length&&!1!==H.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==H.emitViewToModelChange)),this.updateValueAndValidity(H)}patchValue(Z,H={}){this.setValue(Z,H)}reset(Z=this.defaultValue,H={}){this._applyFormState(Z),this.markAsPristine(H),this.markAsUntouched(H),this.setValue(this.value,H),this._pendingChange=!1}_updateValue(){}_anyControls(Z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Z){this._onChange.push(Z)}_unregisterOnChange(Z){$i(this._onChange,Z)}registerOnDisabledChange(Z){this._onDisabledChange.push(Z)}_unregisterOnDisabledChange(Z){$i(this._onDisabledChange,Z)}_forEachChild(Z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Z){Di(Z)?(this.value=this._pendingValue=Z.value,Z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Z}};Promise.resolve();let Ga=(()=>{class Y{static#e=this.\u0275fac=function(oe){return new(oe||Y)};static#t=this.\u0275dir=D.FsC({type:Y,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Y})();const Vo=new D.nKC(""),Ko={provide:ur,useExisting:(0,D.Rfq)(()=>ns)};let ns=(()=>{class Y extends ur{set isDisabled(H){}static#e=this._ngModelWarningSentOnce=!1;constructor(H,oe,be,Ot,Gn){super(),this._ngModelWarningConfig=Ot,this.callSetDisabledState=Gn,this.update=new D.bkB,this._ngModelWarningSent=!1,this._setValidators(H),this._setAsyncValidators(oe),this.valueAccessor=Ao(0,be)}ngOnChanges(H){if(this._isControlChanged(H)){const oe=H.form.previousValue;oe&&Dn(oe,this,!1),Fn(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}rr(H,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Dn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}_isControlChanged(H){return H.hasOwnProperty("form")}static#t=this.\u0275fac=function(oe){return new(oe||Y)(D.rXU(ut,10),D.rXU(Mt,10),D.rXU(Ut,10),D.rXU(Vo,8),D.rXU(ze,8))};static#n=this.\u0275dir=D.FsC({type:Y,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[D.Jv_([Ko]),D.Vt3,D.OA$]})}return Y})();const _u={provide:ni,useExisting:(0,D.Rfq)(()=>_o)};let _o=(()=>{class Y extends ni{constructor(H,oe,be){super(),this.callSetDisabledState=be,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new D.bkB,this._setValidators(H),this._setAsyncValidators(oe)}ngOnChanges(H){this._checkFormPresent(),H.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(H){const oe=this.form.get(H.path);return Fn(oe,H,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(H),oe}getControl(H){return this.form.get(H.path)}removeControl(H){Dn(H.control||null,H,!1),function Yn(Y,Z){const H=Y.indexOf(Z);H>-1&&Y.splice(H,1)}(this.directives,H)}addFormGroup(H){this._setUpFormContainer(H)}removeFormGroup(H){this._cleanUpFormContainer(H)}getFormGroup(H){return this.form.get(H.path)}addFormArray(H){this._setUpFormContainer(H)}removeFormArray(H){this._cleanUpFormContainer(H)}getFormArray(H){return this.form.get(H.path)}updateModel(H,oe){this.form.get(H.path).setValue(oe)}onSubmit(H){return this.submitted=!0,function Ma(Y,Z){Y._syncPendingControls(),Z.forEach(H=>{const oe=H.control;"submit"===oe.updateOn&&oe._pendingChange&&(H.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(H),this.form._events.next(new jn(this.control)),"dialog"===H?.target?.method}onReset(){this.resetForm()}resetForm(H=void 0){this.form.reset(H),this.submitted=!1,this.form._events.next(new Kr(this.form))}_updateDomValue(){this.directives.forEach(H=>{const oe=H.control,be=this.form.get(H.path);oe!==be&&(Dn(oe||null,H),(Y=>Y instanceof ks)(be)&&(Fn(be,H,this.callSetDisabledState),H.control=be))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(H){const oe=this.form.get(H.path);(function Ra(Y,Z){Ur(Y,Z)})(oe,H),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(H){if(this.form){const oe=this.form.get(H.path);oe&&function Ha(Y,Z){return Gi(Y,Z)}(oe,H)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ur(this.form,this),this._oldForm&&Gi(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(oe){return new(oe||Y)(D.rXU(ut,10),D.rXU(Mt,10),D.rXU(ze,8))};static#t=this.\u0275dir=D.FsC({type:Y,selectors:[["","formGroup",""]],hostBindings:function(oe,be){1&oe&&D.bIt("submit",function(Gn){return be.onSubmit(Gn)})("reset",function(){return be.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[D.Jv_([_u]),D.Vt3,D.OA$]})}return Y})();const Wa={provide:ur,useExisting:(0,D.Rfq)(()=>Xo)};let Xo=(()=>{class Y extends ur{set isDisabled(H){}static#e=this._ngModelWarningSentOnce=!1;constructor(H,oe,be,Ot,Gn){super(),this._ngModelWarningConfig=Gn,this._added=!1,this.name=null,this.update=new D.bkB,this._ngModelWarningSent=!1,this._parent=H,this._setValidators(oe),this._setAsyncValidators(be),this.valueAccessor=Ao(0,Ot)}ngOnChanges(H){this._added||this._setUpControl(),rr(H,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}get path(){return function tn(Y,Z){return[...Z.path,Y]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(oe){return new(oe||Y)(D.rXU(ni,13),D.rXU(ut,10),D.rXU(Mt,10),D.rXU(Ut,10),D.rXU(Vo,8))};static#n=this.\u0275dir=D.FsC({type:Y,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[D.Jv_([Wa]),D.Vt3,D.OA$]})}return Y})();const Qi={provide:Ut,useExisting:(0,D.Rfq)(()=>zi),multi:!0};function vu(Y,Z){return null==Y?`${Z}`:(Z&&"object"==typeof Z&&(Z="Object"),`${Y}: ${Z}`.slice(0,50))}let zi=(()=>{class Y extends It{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(H){this._compareWith=H}writeValue(H){this.value=H;const be=vu(this._getOptionId(H),H);this.setProperty("value",be)}registerOnChange(H){this.onChange=oe=>{this.value=this._getOptionValue(oe),H(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(H){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe),H))return oe;return null}_getOptionValue(H){const oe=function hi(Y){return Y.split(":")[0]}(H);return this._optionMap.has(oe)?this._optionMap.get(oe):H}static#e=this.\u0275fac=(()=>{let H;return function(be){return(H||(H=D.xGo(Y)))(be||Y)}})();static#t=this.\u0275dir=D.FsC({type:Y,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(oe,be){1&oe&&D.bIt("change",function(Gn){return be.onChange(Gn.target.value)})("blur",function(){return be.onTouched()})},inputs:{compareWith:"compareWith"},features:[D.Jv_([Qi]),D.Vt3]})}return Y})(),$c=(()=>{class Y{constructor(H,oe,be){this._element=H,this._renderer=oe,this._select=be,this._select&&(this.id=this._select._registerOption())}set ngValue(H){null!=this._select&&(this._select._optionMap.set(this.id,H),this._setElementValue(vu(this.id,H)),this._select.writeValue(this._select.value))}set value(H){this._setElementValue(H),this._select&&this._select.writeValue(this._select.value)}_setElementValue(H){this._renderer.setProperty(this._element.nativeElement,"value",H)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||Y)(D.rXU(D.aKT),D.rXU(D.sFG),D.rXU(zi,9))};static#t=this.\u0275dir=D.FsC({type:Y,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Y})();const qa={provide:Ut,useExisting:(0,D.Rfq)(()=>Hn),multi:!0};function Ka(Y,Z){return null==Y?`${Z}`:("string"==typeof Z&&(Z=`'${Z}'`),Z&&"object"==typeof Z&&(Z="Object"),`${Y}: ${Z}`.slice(0,50))}let Hn=(()=>{class Y extends It{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(H){this._compareWith=H}writeValue(H){let oe;if(this.value=H,Array.isArray(H)){const be=H.map(Ot=>this._getOptionId(Ot));oe=(Ot,Gn)=>{Ot._setSelected(be.indexOf(Gn.toString())>-1)}}else oe=(be,Ot)=>{be._setSelected(!1)};this._optionMap.forEach(oe)}registerOnChange(H){this.onChange=oe=>{const be=[],Ot=oe.selectedOptions;if(void 0!==Ot){const Gn=Ot;for(let Uo=0;Uo<Gn.length;Uo++){const bo=this._getOptionValue(Gn[Uo].value);be.push(bo)}}else{const Gn=oe.options;for(let Uo=0;Uo<Gn.length;Uo++){const pa=Gn[Uo];if(pa.selected){const bo=this._getOptionValue(pa.value);be.push(bo)}}}this.value=be,H(be)}}_registerOption(H){const oe=(this._idCounter++).toString();return this._optionMap.set(oe,H),oe}_getOptionId(H){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe)._value,H))return oe;return null}_getOptionValue(H){const oe=function Bu(Y){return Y.split(":")[0]}(H);return this._optionMap.has(oe)?this._optionMap.get(oe)._value:H}static#e=this.\u0275fac=(()=>{let H;return function(be){return(H||(H=D.xGo(Y)))(be||Y)}})();static#t=this.\u0275dir=D.FsC({type:Y,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(oe,be){1&oe&&D.bIt("change",function(Gn){return be.onChange(Gn.target)})("blur",function(){return be.onTouched()})},inputs:{compareWith:"compareWith"},features:[D.Jv_([qa]),D.Vt3]})}return Y})(),dr=(()=>{class Y{constructor(H,oe,be){this._element=H,this._renderer=oe,this._select=be,this._select&&(this.id=this._select._registerOption(this))}set ngValue(H){null!=this._select&&(this._value=H,this._setElementValue(Ka(this.id,H)),this._select.writeValue(this._select.value))}set value(H){this._select?(this._value=H,this._setElementValue(Ka(this.id,H)),this._select.writeValue(this._select.value)):this._setElementValue(H)}_setElementValue(H){this._renderer.setProperty(this._element.nativeElement,"value",H)}_setSelected(H){this._renderer.setProperty(this._element.nativeElement,"selected",H)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||Y)(D.rXU(D.aKT),D.rXU(D.sFG),D.rXU(Hn,9))};static#t=this.\u0275dir=D.FsC({type:Y,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Y})(),Mn=(()=>{class Y{static#e=this.\u0275fac=function(oe){return new(oe||Y)};static#t=this.\u0275mod=D.$C({type:Y});static#n=this.\u0275inj=D.G2t({})}return Y})();class ws extends mo{constructor(Z,H,oe){super(yr(H),Wn(oe,H)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(H),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Z){return this.controls[this._adjustIndex(Z)]}push(Z,H={}){this.controls.push(Z),this._registerControl(Z),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}insert(Z,H,oe={}){this.controls.splice(Z,0,H),this._registerControl(H),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(Z,H={}){let oe=this._adjustIndex(Z);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:H.emitEvent})}setControl(Z,H,oe={}){let be=this._adjustIndex(Z);be<0&&(be=0),this.controls[be]&&this.controls[be]._registerOnCollectionChange(()=>{}),this.controls.splice(be,1),H&&(this.controls.splice(be,0,H),this._registerControl(H)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Z,H={}){Ns(this,0,Z),Z.forEach((oe,be)=>{ii(this,!1,be),this.at(be).setValue(oe,{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H)}patchValue(Z,H={}){null!=Z&&(Z.forEach((oe,be)=>{this.at(be)&&this.at(be).patchValue(oe,{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H))}reset(Z=[],H={}){this._forEachChild((oe,be)=>{oe.reset(Z[be],{onlySelf:!0,emitEvent:H.emitEvent})}),this._updatePristine(H,this),this._updateTouched(H,this),this.updateValueAndValidity(H)}getRawValue(){return this.controls.map(Z=>Z.getRawValue())}clear(Z={}){this.controls.length<1||(this._forEachChild(H=>H._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Z.emitEvent}))}_adjustIndex(Z){return Z<0?Z+this.length:Z}_syncPendingControls(){let Z=this.controls.reduce((H,oe)=>!!oe._syncPendingControls()||H,!1);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){this.controls.forEach((H,oe)=>{Z(H,oe)})}_updateValue(){this.value=this.controls.filter(Z=>Z.enabled||this.disabled).map(Z=>Z.value)}_anyControls(Z){return this.controls.some(H=>H.enabled&&Z(H))}_setUpControls(){this._forEachChild(Z=>this._registerControl(Z))}_allControlsDisabled(){for(const Z of this.controls)if(Z.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Z){Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)}_find(Z){return this.at(Z)??null}}function Bo(Y){return!!Y&&(void 0!==Y.asyncValidators||void 0!==Y.validators||void 0!==Y.updateOn)}let Or=(()=>{class Y{constructor(){this.useNonNullable=!1}get nonNullable(){const H=new Y;return H.useNonNullable=!0,H}group(H,oe=null){const be=this._reduceControls(H);let Ot={};return Bo(oe)?Ot=oe:null!==oe&&(Ot.validators=oe.validator,Ot.asyncValidators=oe.asyncValidator),new so(be,Ot)}record(H,oe=null){const be=this._reduceControls(H);return new Da(be,oe)}control(H,oe,be){let Ot={};return this.useNonNullable?(Bo(oe)?Ot=oe:(Ot.validators=oe,Ot.asyncValidators=be),new ks(H,{...Ot,nonNullable:!0})):new ks(H,oe,be)}array(H,oe,be){const Ot=H.map(Gn=>this._createControl(Gn));return new ws(Ot,oe,be)}_reduceControls(H){const oe={};return Object.keys(H).forEach(be=>{oe[be]=this._createControl(H[be])}),oe}_createControl(H){return H instanceof ks||H instanceof mo?H:Array.isArray(H)?this.control(H[0],H.length>1?H[1]:null,H.length>2?H[2]:null):this.control(H)}static#e=this.\u0275fac=function(oe){return new(oe||Y)};static#t=this.\u0275prov=D.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})(),zc=(()=>{class Y{static withConfig(H){return{ngModule:Y,providers:[{provide:ze,useValue:H.callSetDisabledState??St}]}}static#e=this.\u0275fac=function(oe){return new(oe||Y)};static#t=this.\u0275mod=D.$C({type:Y});static#n=this.\u0275inj=D.G2t({imports:[Mn]})}return Y})(),pl=(()=>{class Y{static withConfig(H){return{ngModule:Y,providers:[{provide:Vo,useValue:H.warnOnNgModelWithFormControl??"always"},{provide:ze,useValue:H.callSetDisabledState??St}]}}static#e=this.\u0275fac=function(oe){return new(oe||Y)};static#t=this.\u0275mod=D.$C({type:Y});static#n=this.\u0275inj=D.G2t({imports:[Mn]})}return Y})()},345:(Cn,bt,ie)=>{ie.d(bt,{B8:()=>At,hE:()=>Hr});var D=ie(177),O=ie(3953);class U extends D.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Oe extends U{static makeCurrent(){(0,D.ZD)(new Oe)}onAndCancel(tt,Ae,Qe){return tt.addEventListener(Ae,Qe),()=>{tt.removeEventListener(Ae,Qe)}}dispatchEvent(tt,Ae){tt.dispatchEvent(Ae)}remove(tt){tt.parentNode&&tt.parentNode.removeChild(tt)}createElement(tt,Ae){return(Ae=Ae||this.getDefaultDocument()).createElement(tt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(tt){return tt.nodeType===Node.ELEMENT_NODE}isShadowRoot(tt){return tt instanceof DocumentFragment}getGlobalEventTarget(tt,Ae){return"window"===Ae?window:"document"===Ae?tt:"body"===Ae?tt.body:null}getBaseHref(tt){const Ae=function ye(){return nt=nt||document.querySelector("base"),nt?nt.getAttribute("href"):null}();return null==Ae?null:function xt(fe){return new URL(fe,document.baseURI).pathname}(Ae)}resetBaseElement(){nt=null}getUserAgent(){return window.navigator.userAgent}getCookie(tt){return(0,D._b)(document.cookie,tt)}}let nt=null,lt=(()=>{class fe{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Qe){return new(Qe||fe)};static#t=this.\u0275prov=O.jDH({token:fe,factory:fe.\u0275fac})}return fe})();const Ee=new O.nKC("");let Te=(()=>{class fe{constructor(Ae,Qe){this._zone=Qe,this._eventNameToPlugin=new Map,Ae.forEach(de=>{de.manager=this}),this._plugins=Ae.slice().reverse()}addEventListener(Ae,Qe,de){return this._findPluginFor(Qe).addEventListener(Ae,Qe,de)}getZone(){return this._zone}_findPluginFor(Ae){let Qe=this._eventNameToPlugin.get(Ae);if(Qe)return Qe;if(Qe=this._plugins.find(ge=>ge.supports(Ae)),!Qe)throw new O.wOt(5101,!1);return this._eventNameToPlugin.set(Ae,Qe),Qe}static#e=this.\u0275fac=function(Qe){return new(Qe||fe)(O.KVO(Ee),O.KVO(O.SKi))};static#t=this.\u0275prov=O.jDH({token:fe,factory:fe.\u0275fac})}return fe})();class Me{constructor(tt){this._doc=tt}}const Et="ng-app-id";let We=(()=>{class fe{constructor(Ae,Qe,de,ge={}){this.doc=Ae,this.appId=Qe,this.nonce=de,this.platformId=ge,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,D.Vy)(ge),this.resetHostNodes()}addStyles(Ae){for(const Qe of Ae)1===this.changeUsageCount(Qe,1)&&this.onStyleAdded(Qe)}removeStyles(Ae){for(const Qe of Ae)this.changeUsageCount(Qe,-1)<=0&&this.onStyleRemoved(Qe)}ngOnDestroy(){const Ae=this.styleNodesInDOM;Ae&&(Ae.forEach(Qe=>Qe.remove()),Ae.clear());for(const Qe of this.getAllStyles())this.onStyleRemoved(Qe);this.resetHostNodes()}addHost(Ae){this.hostNodes.add(Ae);for(const Qe of this.getAllStyles())this.addStyleToHost(Ae,Qe)}removeHost(Ae){this.hostNodes.delete(Ae)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Ae){for(const Qe of this.hostNodes)this.addStyleToHost(Qe,Ae)}onStyleRemoved(Ae){const Qe=this.styleRef;Qe.get(Ae)?.elements?.forEach(de=>de.remove()),Qe.delete(Ae)}collectServerRenderedStyles(){const Ae=this.doc.head?.querySelectorAll(`style[${Et}="${this.appId}"]`);if(Ae?.length){const Qe=new Map;return Ae.forEach(de=>{null!=de.textContent&&Qe.set(de.textContent,de)}),Qe}return null}changeUsageCount(Ae,Qe){const de=this.styleRef;if(de.has(Ae)){const ge=de.get(Ae);return ge.usage+=Qe,ge.usage}return de.set(Ae,{usage:Qe,elements:[]}),Qe}getStyleElement(Ae,Qe){const de=this.styleNodesInDOM,ge=de?.get(Qe);if(ge?.parentNode===Ae)return de.delete(Qe),ge.removeAttribute(Et),ge;{const Se=this.doc.createElement("style");return this.nonce&&Se.setAttribute("nonce",this.nonce),Se.textContent=Qe,this.platformIsServer&&Se.setAttribute(Et,this.appId),Ae.appendChild(Se),Se}}addStyleToHost(Ae,Qe){const de=this.getStyleElement(Ae,Qe),ge=this.styleRef,Se=ge.get(Qe)?.elements;Se?Se.push(de):ge.set(Qe,{elements:[de],usage:1})}resetHostNodes(){const Ae=this.hostNodes;Ae.clear(),Ae.add(this.doc.head)}static#e=this.\u0275fac=function(Qe){return new(Qe||fe)(O.KVO(D.qQ),O.KVO(O.sZ2),O.KVO(O.BIS,8),O.KVO(O.Agw))};static#t=this.\u0275prov=O.jDH({token:fe,factory:fe.\u0275fac})}return fe})();const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ut=/%COMP%/g,Pt=new O.nKC("",{providedIn:"root",factory:()=>!0});function _t(fe,tt){return tt.map(Ae=>Ae.replace(Ut,fe))}let ut=(()=>{class fe{constructor(Ae,Qe,de,ge,Se,pt,qe,qt=null){this.eventManager=Ae,this.sharedStylesHost=Qe,this.appId=de,this.removeStylesOnCompDestroy=ge,this.doc=Se,this.platformId=pt,this.ngZone=qe,this.nonce=qt,this.rendererByCompId=new Map,this.platformIsServer=(0,D.Vy)(pt),this.defaultRenderer=new Mt(Ae,Se,qe,this.platformIsServer)}createRenderer(Ae,Qe){if(!Ae||!Qe)return this.defaultRenderer;this.platformIsServer&&Qe.encapsulation===O.gXe.ShadowDom&&(Qe={...Qe,encapsulation:O.gXe.Emulated});const de=this.getOrCreateRenderer(Ae,Qe);return de instanceof vt?de.applyToHost(Ae):de instanceof ui&&de.applyStyles(),de}getOrCreateRenderer(Ae,Qe){const de=this.rendererByCompId;let ge=de.get(Qe.id);if(!ge){const Se=this.doc,pt=this.ngZone,qe=this.eventManager,qt=this.sharedStylesHost,wn=this.removeStylesOnCompDestroy,jn=this.platformIsServer;switch(Qe.encapsulation){case O.gXe.Emulated:ge=new vt(qe,qt,Qe,this.appId,wn,Se,pt,jn);break;case O.gXe.ShadowDom:return new Vr(qe,qt,Ae,Qe,Se,pt,this.nonce,jn);default:ge=new ui(qe,qt,Qe,wn,Se,pt,jn)}de.set(Qe.id,ge)}return ge}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Qe){return new(Qe||fe)(O.KVO(Te),O.KVO(We),O.KVO(O.sZ2),O.KVO(Pt),O.KVO(D.qQ),O.KVO(O.Agw),O.KVO(O.SKi),O.KVO(O.BIS))};static#t=this.\u0275prov=O.jDH({token:fe,factory:fe.\u0275fac})}return fe})();class Mt{constructor(tt,Ae,Qe,de){this.eventManager=tt,this.doc=Ae,this.ngZone=Qe,this.platformIsServer=de,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(tt,Ae){return Ae?this.doc.createElementNS(It[Ae]||Ae,tt):this.doc.createElement(tt)}createComment(tt){return this.doc.createComment(tt)}createText(tt){return this.doc.createTextNode(tt)}appendChild(tt,Ae){(yn(tt)?tt.content:tt).appendChild(Ae)}insertBefore(tt,Ae,Qe){tt&&(yn(tt)?tt.content:tt).insertBefore(Ae,Qe)}removeChild(tt,Ae){tt&&tt.removeChild(Ae)}selectRootElement(tt,Ae){let Qe="string"==typeof tt?this.doc.querySelector(tt):tt;if(!Qe)throw new O.wOt(-5104,!1);return Ae||(Qe.textContent=""),Qe}parentNode(tt){return tt.parentNode}nextSibling(tt){return tt.nextSibling}setAttribute(tt,Ae,Qe,de){if(de){Ae=de+":"+Ae;const ge=It[de];ge?tt.setAttributeNS(ge,Ae,Qe):tt.setAttribute(Ae,Qe)}else tt.setAttribute(Ae,Qe)}removeAttribute(tt,Ae,Qe){if(Qe){const de=It[Qe];de?tt.removeAttributeNS(de,Ae):tt.removeAttribute(`${Qe}:${Ae}`)}else tt.removeAttribute(Ae)}addClass(tt,Ae){tt.classList.add(Ae)}removeClass(tt,Ae){tt.classList.remove(Ae)}setStyle(tt,Ae,Qe,de){de&(O.czy.DashCase|O.czy.Important)?tt.style.setProperty(Ae,Qe,de&O.czy.Important?"important":""):tt.style[Ae]=Qe}removeStyle(tt,Ae,Qe){Qe&O.czy.DashCase?tt.style.removeProperty(Ae):tt.style[Ae]=""}setProperty(tt,Ae,Qe){null!=tt&&(tt[Ae]=Qe)}setValue(tt,Ae){tt.nodeValue=Ae}listen(tt,Ae,Qe){if("string"==typeof tt&&!(tt=(0,D.QT)().getGlobalEventTarget(this.doc,tt)))throw new Error(`Unsupported event target ${tt} for event ${Ae}`);return this.eventManager.addEventListener(tt,Ae,this.decoratePreventDefault(Qe))}decoratePreventDefault(tt){return Ae=>{if("__ngUnwrap__"===Ae)return tt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>tt(Ae)):tt(Ae))&&Ae.preventDefault()}}}function yn(fe){return"TEMPLATE"===fe.tagName&&void 0!==fe.content}class Vr extends Mt{constructor(tt,Ae,Qe,de,ge,Se,pt,qe){super(tt,ge,Se,qe),this.sharedStylesHost=Ae,this.hostEl=Qe,this.shadowRoot=Qe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const qt=_t(de.id,de.styles);for(const wn of qt){const jn=document.createElement("style");pt&&jn.setAttribute("nonce",pt),jn.textContent=wn,this.shadowRoot.appendChild(jn)}}nodeOrShadowRoot(tt){return tt===this.hostEl?this.shadowRoot:tt}appendChild(tt,Ae){return super.appendChild(this.nodeOrShadowRoot(tt),Ae)}insertBefore(tt,Ae,Qe){return super.insertBefore(this.nodeOrShadowRoot(tt),Ae,Qe)}removeChild(tt,Ae){return super.removeChild(this.nodeOrShadowRoot(tt),Ae)}parentNode(tt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(tt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ui extends Mt{constructor(tt,Ae,Qe,de,ge,Se,pt,qe){super(tt,ge,Se,pt),this.sharedStylesHost=Ae,this.removeStylesOnCompDestroy=de,this.styles=qe?_t(qe,Qe.styles):Qe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class vt extends ui{constructor(tt,Ae,Qe,de,ge,Se,pt,qe){const qt=de+"-"+Qe.id;super(tt,Ae,Qe,ge,Se,pt,qe,qt),this.contentAttr=function Je(fe){return"_ngcontent-%COMP%".replace(Ut,fe)}(qt),this.hostAttr=function it(fe){return"_nghost-%COMP%".replace(Ut,fe)}(qt)}applyToHost(tt){this.applyStyles(),this.setAttribute(tt,this.hostAttr,"")}createElement(tt,Ae){const Qe=super.createElement(tt,Ae);return super.setAttribute(Qe,this.contentAttr,""),Qe}}let en=(()=>{class fe extends Me{constructor(Ae){super(Ae)}supports(Ae){return!0}addEventListener(Ae,Qe,de){return Ae.addEventListener(Qe,de,!1),()=>this.removeEventListener(Ae,Qe,de)}removeEventListener(Ae,Qe,de){return Ae.removeEventListener(Qe,de)}static#e=this.\u0275fac=function(Qe){return new(Qe||fe)(O.KVO(D.qQ))};static#t=this.\u0275prov=O.jDH({token:fe,factory:fe.\u0275fac})}return fe})();const Fr=["alt","control","meta","shift"],ki={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ne={alt:fe=>fe.altKey,control:fe=>fe.ctrlKey,meta:fe=>fe.metaKey,shift:fe=>fe.shiftKey};let Ue=(()=>{class fe extends Me{constructor(Ae){super(Ae)}supports(Ae){return null!=fe.parseEventName(Ae)}addEventListener(Ae,Qe,de){const ge=fe.parseEventName(Qe),Se=fe.eventCallback(ge.fullKey,de,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.QT)().onAndCancel(Ae,ge.domEventName,Se))}static parseEventName(Ae){const Qe=Ae.toLowerCase().split("."),de=Qe.shift();if(0===Qe.length||"keydown"!==de&&"keyup"!==de)return null;const ge=fe._normalizeKey(Qe.pop());let Se="",pt=Qe.indexOf("code");if(pt>-1&&(Qe.splice(pt,1),Se="code."),Fr.forEach(qt=>{const wn=Qe.indexOf(qt);wn>-1&&(Qe.splice(wn,1),Se+=qt+".")}),Se+=ge,0!=Qe.length||0===ge.length)return null;const qe={};return qe.domEventName=de,qe.fullKey=Se,qe}static matchEventFullKeyCode(Ae,Qe){let de=ki[Ae.key]||Ae.key,ge="";return Qe.indexOf("code.")>-1&&(de=Ae.code,ge="code."),!(null==de||!de)&&(de=de.toLowerCase()," "===de?de="space":"."===de&&(de="dot"),Fr.forEach(Se=>{Se!==de&&(0,Ne[Se])(Ae)&&(ge+=Se+".")}),ge+=de,ge===Qe)}static eventCallback(Ae,Qe,de){return ge=>{fe.matchEventFullKeyCode(ge,Ae)&&de.runGuarded(()=>Qe(ge))}}static _normalizeKey(Ae){return"esc"===Ae?"escape":Ae}static#e=this.\u0275fac=function(Qe){return new(Qe||fe)(O.KVO(D.qQ))};static#t=this.\u0275prov=O.jDH({token:fe,factory:fe.\u0275fac})}return fe})();function At(fe,tt){return(0,O.TL3)({rootComponent:fe,...le(tt)})}function le(fe){return{appProviders:[...pr,...fe?.providers??[]],platformProviders:Jt}}const Jt=[{provide:O.Agw,useValue:D.AJ},{provide:O.PLl,useValue:function yt(){Oe.makeCurrent()},multi:!0},{provide:D.qQ,useFactory:function Bn(){return(0,O.TL$)(document),document},deps:[]}],pr=[{provide:O.H8p,useValue:"root"},{provide:O.zcH,useFactory:function Gt(){return new O.zcH},deps:[]},{provide:Ee,useClass:en,multi:!0,deps:[D.qQ,O.SKi,O.Agw]},{provide:Ee,useClass:Ue,multi:!0,deps:[D.qQ]},ut,We,Te,{provide:O._9s,useExisting:ut},{provide:D.N0,useClass:lt,deps:[]},[]];let Hr=(()=>{class fe{constructor(Ae){this._doc=Ae}getTitle(){return this._doc.title}setTitle(Ae){this._doc.title=Ae||""}static#e=this.\u0275fac=function(Qe){return new(Qe||fe)(O.KVO(D.qQ))};static#t=this.\u0275prov=O.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},5379:(Cn,bt,ie)=>{ie.d(bt,{nX:()=>Ko,wF:()=>Ao,Ix:()=>ra,iI:()=>Wl,n3:()=>Wa,lh:()=>Xc,lG:()=>Yc,qQ:()=>Zc});var D=ie(467),O=ie(3953),U=ie(1985),Oe=ie(8071),ye=ie(8455),xt=ie(3794);function Xe(...S){const B=(0,xt.lI)(S);return(0,ye.H)(S,B)}var lt=ie(4412),Ee=ie(4572);const Me=(0,ie(1853).L)(S=>function(){S(this),this.name="EmptyError",this.message="no elements in sequence"});var Et=ie(8793),We=ie(8750);function It(S){return new U.c(B=>{(0,We.Tg)(S()).subscribe(B)})}var Ut=ie(1203);function hn(S,B){const R=(0,Oe.T)(S)?S:()=>S,j=X=>X.error(R());return new U.c(B?X=>B.schedule(j,0,X):j)}const Wt=new U.c(S=>S.complete());var Pt=ie(8359),Je=ie(9974),it=ie(4360);function _t(){return(0,Je.N)((S,B)=>{let R=null;S._refCount++;const j=(0,it._)(B,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(R=null);const X=S._connection,ae=R;R=null,X&&(!ae||X===ae)&&X.unsubscribe(),B.unsubscribe()});S.subscribe(j),j.closed||(R=S.connect())})}class ut extends U.c{constructor(B,R){super(),this.source=B,this.subjectFactory=R,this._subject=null,this._refCount=0,this._connection=null,(0,Je.S)(B)&&(this.lift=B.lift)}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:B}=this;this._subject=this._connection=null,B?.unsubscribe()}connect(){let B=this._connection;if(!B){B=this._connection=new Pt.yU;const R=this.getSubject();B.add(this.source.subscribe((0,it._)(R,void 0,()=>{this._teardown(),R.complete()},j=>{this._teardown(),R.error(j)},()=>this._teardown()))),B.closed&&(this._connection=null,B=Pt.yU.EMPTY)}return B}refCount(){return _t()(this)}}var Mt=ie(1413),He=ie(177),Yt=ie(6354);function yn(S,B){return(0,Je.N)((R,j)=>{let X=null,ae=0,Ie=!1;const ht=()=>Ie&&!X&&j.complete();R.subscribe((0,it._)(j,ke=>{X?.unsubscribe();let Bt=0;const dn=ae++;(0,We.Tg)(S(ke,dn)).subscribe(X=(0,it._)(j,Rn=>j.next(B?B(ke,Rn,dn,Bt++):Rn),()=>{X=null,ht()}))},()=>{Ie=!0,ht()}))})}function Vr(S){return S<=0?()=>Wt:(0,Je.N)((B,R)=>{let j=0;B.subscribe((0,it._)(R,X=>{++j<=S&&(R.next(X),S<=j&&R.complete())}))})}var ui=ie(9172);function vt(S,B){return(0,Je.N)((R,j)=>{let X=0;R.subscribe((0,it._)(j,ae=>S.call(B,ae,X++)&&j.next(ae)))})}var en=ie(1397);function Fr(S){return(0,Je.N)((B,R)=>{let j=!1;B.subscribe((0,it._)(R,X=>{j=!0,R.next(X)},()=>{j||R.next(S),R.complete()}))})}function ki(S=Ne){return(0,Je.N)((B,R)=>{let j=!1;B.subscribe((0,it._)(R,X=>{j=!0,R.next(X)},()=>j?R.complete():R.error(S())))})}function Ne(){return new Me}var Ue=ie(3669);function At(S,B){const R=arguments.length>=2;return j=>j.pipe(S?vt((X,ae)=>S(X,ae,j)):Ue.D,Vr(1),R?Fr(B):ki(()=>new Me))}function Le(S,B){return(0,Oe.T)(B)?(0,en.Z)(S,B,1):(0,en.Z)(S,1)}var le=ie(8141);function pe(S){return(0,Je.N)((B,R)=>{let ae,j=null,X=!1;j=B.subscribe((0,it._)(R,void 0,void 0,Ie=>{ae=(0,We.Tg)(S(Ie,pe(S)(B))),j?(j.unsubscribe(),j=null,ae.subscribe(R)):X=!0})),X&&(j.unsubscribe(),j=null,ae.subscribe(R))})}function Bn(S){return S<=0?()=>Wt:(0,Je.N)((B,R)=>{let j=[];B.subscribe((0,it._)(R,X=>{j.push(X),S<j.length&&j.shift()},()=>{for(const X of j)R.next(X);R.complete()},void 0,()=>{j=null}))})}function Rr(S){return(0,Je.N)((B,R)=>{try{B.subscribe(R)}finally{R.add(S)}})}var no=ie(5343),Lr=ie(6365),Fi=ie(345);const un="primary",Hr=Symbol("RouteTitle");class Sn{constructor(B){this.params=B||{}}has(B){return Object.prototype.hasOwnProperty.call(this.params,B)}get(B){if(this.has(B)){const R=this.params[B];return Array.isArray(R)?R[0]:R}return null}getAll(B){if(this.has(B)){const R=this.params[B];return Array.isArray(R)?R:[R]}return[]}get keys(){return Object.keys(this.params)}}function _r(S){return new Sn(S)}function ni(S,B,R){const j=R.path.split("/");if(j.length>S.length||"full"===R.pathMatch&&(B.hasChildren()||j.length<S.length))return null;const X={};for(let ae=0;ae<j.length;ae++){const Ie=j[ae],ht=S[ae];if(":"===Ie[0])X[Ie.substring(1)]=ht;else if(Ie!==ht.path)return null}return{consumed:S.slice(0,j.length),posParams:X}}function rn(S,B){const R=S?Io(S):void 0,j=B?Io(B):void 0;if(!R||!j||R.length!=j.length)return!1;let X;for(let ae=0;ae<R.length;ae++)if(X=R[ae],!Nt(S[X],B[X]))return!1;return!0}function Io(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}function Nt(S,B){if(Array.isArray(S)&&Array.isArray(B)){if(S.length!==B.length)return!1;const R=[...S].sort(),j=[...B].sort();return R.every((X,ae)=>j[ae]===X)}return S===B}function or(S){return S.length>0?S[S.length-1]:null}function on(S){return function nt(S){return!!S&&(S instanceof U.c||(0,Oe.T)(S.lift)&&(0,Oe.T)(S.subscribe))}(S)?S:(0,O.jNT)(S)?(0,ye.H)(Promise.resolve(S)):Xe(S)}const Ht={exact:function ci(S,B,R){if(!Yr(S.segments,B.segments)||!Un(S.segments,B.segments,R)||S.numberOfChildren!==B.numberOfChildren)return!1;for(const j in B.children)if(!S.children[j]||!ci(S.children[j],B.children[j],R))return!1;return!0},subset:$r},Gr={exact:function Mr(S,B){return rn(S,B)},subset:function li(S,B){return Object.keys(B).length<=Object.keys(S).length&&Object.keys(B).every(R=>Nt(S[R],B[R]))},ignored:()=>!0};function xi(S,B,R){return Ht[R.paths](S.root,B.root,R.matrixParams)&&Gr[R.queryParams](S.queryParams,B.queryParams)&&!("exact"===R.fragment&&S.fragment!==B.fragment)}function $r(S,B,R){return Li(S,B,B.segments,R)}function Li(S,B,R,j){if(S.segments.length>R.length){const X=S.segments.slice(0,R.length);return!(!Yr(X,R)||B.hasChildren()||!Un(X,R,j))}if(S.segments.length===R.length){if(!Yr(S.segments,R)||!Un(S.segments,R,j))return!1;for(const X in B.children)if(!S.children[X]||!$r(S.children[X],B.children[X],j))return!1;return!0}{const X=R.slice(0,S.segments.length),ae=R.slice(S.segments.length);return!!(Yr(S.segments,X)&&Un(S.segments,X,j)&&S.children[un])&&Li(S.children[un],B,ae,j)}}function Un(S,B,R){return B.every((j,X)=>Gr[R](S[X].parameters,j.parameters))}class Po{constructor(B=new zn([],{}),R={},j=null){this.root=B,this.queryParams=R,this.fragment=j}get queryParamMap(){return this._queryParamMap??=_r(this.queryParams),this._queryParamMap}toString(){return tt.serialize(this)}}class zn{constructor(B,R){this.segments=B,this.children=R,this.parent=null,Object.values(R).forEach(j=>j.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ae(this)}}class gi{constructor(B,R){this.path=B,this.parameters=R}get parameterMap(){return this._parameterMap??=_r(this.parameters),this._parameterMap}toString(){return wn(this)}}function Yr(S,B){return S.length===B.length&&S.every((R,j)=>R.path===B[j].path)}let lr=(()=>{class S{static#e=this.\u0275fac=function(j){return new(j||S)};static#t=this.\u0275prov=O.jDH({token:S,factory:()=>new fe,providedIn:"root"})}return S})();class fe{parse(B){const R=new so(B);return new Po(R.parseRootSegment(),R.parseQueryParams(),R.parseFragment())}serialize(B){const R=`/${Qe(B.root,!0)}`,j=function Kr(S){const B=Object.entries(S).map(([R,j])=>Array.isArray(j)?j.map(X=>`${ge(R)}=${ge(X)}`).join("&"):`${ge(R)}=${ge(j)}`).filter(R=>R);return B.length?`?${B.join("&")}`:""}(B.queryParams);return`${R}${j}${"string"==typeof B.fragment?`#${function Se(S){return encodeURI(S)}(B.fragment)}`:""}`}}const tt=new fe;function Ae(S){return S.segments.map(B=>wn(B)).join("/")}function Qe(S,B){if(!S.hasChildren())return Ae(S);if(B){const R=S.children[un]?Qe(S.children[un],!1):"",j=[];return Object.entries(S.children).forEach(([X,ae])=>{X!==un&&j.push(`${X}:${Qe(ae,!1)}`)}),j.length>0?`${R}(${j.join("//")})`:R}{const R=function Si(S,B){let R=[];return Object.entries(S.children).forEach(([j,X])=>{j===un&&(R=R.concat(B(X,j)))}),Object.entries(S.children).forEach(([j,X])=>{j!==un&&(R=R.concat(B(X,j)))}),R}(S,(j,X)=>X===un?[Qe(S.children[un],!1)]:[`${X}:${Qe(j,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[un]?`${Ae(S)}/${R[0]}`:`${Ae(S)}/(${R.join("//")})`}}function de(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ge(S){return de(S).replace(/%3B/gi,";")}function pt(S){return de(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qe(S){return decodeURIComponent(S)}function qt(S){return qe(S.replace(/\+/g,"%20"))}function wn(S){return`${pt(S.path)}${function jn(S){return Object.entries(S).map(([B,R])=>`;${pt(B)}=${pt(R)}`).join("")}(S.parameters)}`}const yr=/^[^\/()?;#]+/;function ri(S){const B=S.match(yr);return B?B[0]:""}const Wn=/^[^\/()?;=#]+/,Br=/^[^=?&#]+/,Ns=/^[^&#]+/;class so{constructor(B){this.url=B,this.remaining=B}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())}parseQueryParams(){const B={};if(this.consumeOptional("?"))do{this.parseQueryParam(B)}while(this.consumeOptional("&"));return B}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const B=[];for(this.peekStartsWith("(")||B.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),B.push(this.parseSegment());let R={};this.peekStartsWith("/(")&&(this.capture("/"),R=this.parseParens(!0));let j={};return this.peekStartsWith("(")&&(j=this.parseParens(!1)),(B.length>0||Object.keys(R).length>0)&&(j[un]=new zn(B,R)),j}parseSegment(){const B=ri(this.remaining);if(""===B&&this.peekStartsWith(";"))throw new O.wOt(4009,!1);return this.capture(B),new gi(qe(B),this.parseMatrixParams())}parseMatrixParams(){const B={};for(;this.consumeOptional(";");)this.parseParam(B);return B}parseParam(B){const R=function Vi(S){const B=S.match(Wn);return B?B[0]:""}(this.remaining);if(!R)return;this.capture(R);let j="";if(this.consumeOptional("=")){const X=ri(this.remaining);X&&(j=X,this.capture(j))}B[qe(R)]=qe(j)}parseQueryParam(B){const R=function ii(S){const B=S.match(Br);return B?B[0]:""}(this.remaining);if(!R)return;this.capture(R);let j="";if(this.consumeOptional("=")){const Ie=function mo(S){const B=S.match(Ns);return B?B[0]:""}(this.remaining);Ie&&(j=Ie,this.capture(j))}const X=qt(R),ae=qt(j);if(B.hasOwnProperty(X)){let Ie=B[X];Array.isArray(Ie)||(Ie=[Ie],B[X]=Ie),Ie.push(ae)}else B[X]=ae}parseParens(B){const R={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const j=ri(this.remaining),X=this.remaining[j.length];if("/"!==X&&")"!==X&&";"!==X)throw new O.wOt(4010,!1);let ae;j.indexOf(":")>-1?(ae=j.slice(0,j.indexOf(":")),this.capture(ae),this.capture(":")):B&&(ae=un);const Ie=this.parseChildren();R[ae]=1===Object.keys(Ie).length?Ie[un]:new zn([],Ie),this.consumeOptional("//")}return R}peekStartsWith(B){return this.remaining.startsWith(B)}consumeOptional(B){return!!this.peekStartsWith(B)&&(this.remaining=this.remaining.substring(B.length),!0)}capture(B){if(!this.consumeOptional(B))throw new O.wOt(4011,!1)}}function ms(S){return S.segments.length>0?new zn([],{[un]:S}):S}function pu(S){const B={};for(const[j,X]of Object.entries(S.children)){const ae=pu(X);if(j===un&&0===ae.segments.length&&ae.hasChildren())for(const[Ie,ht]of Object.entries(ae.children))B[Ie]=ht;else(ae.segments.length>0||ae.hasChildren())&&(B[j]=ae)}return function Sa(S){if(1===S.numberOfChildren&&S.children[un]){const B=S.children[un];return new zn(S.segments.concat(B.segments),B.children)}return S}(new zn(S.segments,B))}function Da(S){return S instanceof Po}function ze(S){let B;const X=ms(function R(ae){const Ie={};for(const ke of ae.children){const Bt=R(ke);Ie[ke.outlet]=Bt}const ht=new zn(ae.url,Ie);return ae===S&&(B=ht),ht}(S.root));return B??X}function St(S,B,R,j){let X=S;for(;X.parent;)X=X.parent;if(0===B.length)return Dn(X,X,X,R,j);const ae=function Ur(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Cr(!0,0,S);let B=0,R=!1;const j=S.reduce((X,ae,Ie)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const ht={};return Object.entries(ae.outlets).forEach(([ke,Bt])=>{ht[ke]="string"==typeof Bt?Bt.split("/"):Bt}),[...X,{outlets:ht}]}if(ae.segmentPath)return[...X,ae.segmentPath]}return"string"!=typeof ae?[...X,ae]:0===Ie?(ae.split("/").forEach((ht,ke)=>{0==ke&&"."===ht||(0==ke&&""===ht?R=!0:".."===ht?B++:""!=ht&&X.push(ht))}),X):[...X,ae]},[]);return new Cr(R,B,j)}(B);if(ae.toRoot())return Dn(X,X,new zn([],{}),R,j);const Ie=function No(S,B,R){if(S.isAbsolute)return new Gi(B,!0,0);if(!R)return new Gi(B,!1,NaN);if(null===R.parent)return new Gi(R,!0,0);const j=tn(S.commands[0])?0:1;return function Xr(S,B,R){let j=S,X=B,ae=R;for(;ae>X;){if(ae-=X,j=j.parent,!j)throw new O.wOt(4005,!1);X=j.segments.length}return new Gi(j,!1,X-ae)}(R,R.segments.length-1+j,S.numberOfDoubleDots)}(ae,X,S),ht=Ie.processChildren?Ra(Ie.segmentGroup,Ie.index,ae.commands):aa(Ie.segmentGroup,Ie.index,ae.commands);return Dn(X,Ie.segmentGroup,ht,R,j)}function tn(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Fn(S){return"object"==typeof S&&null!=S&&S.outlets}function Dn(S,B,R,j,X){let Ie,ae={};j&&Object.entries(j).forEach(([ke,Bt])=>{ae[ke]=Array.isArray(Bt)?Bt.map(dn=>`${dn}`):`${Bt}`}),Ie=S===B?R:Nn(S,B,R);const ht=ms(pu(Ie));return new Po(ht,ae,X)}function Nn(S,B,R){const j={};return Object.entries(S.children).forEach(([X,ae])=>{j[X]=ae===B?R:Nn(ae,B,R)}),new zn(S.segments,j)}class Cr{constructor(B,R,j){if(this.isAbsolute=B,this.numberOfDoubleDots=R,this.commands=j,B&&j.length>0&&tn(j[0]))throw new O.wOt(4003,!1);const X=j.find(Fn);if(X&&X!==or(j))throw new O.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gi{constructor(B,R,j){this.segmentGroup=B,this.processChildren=R,this.index=j}}function aa(S,B,R){if(S??=new zn([],{}),0===S.segments.length&&S.hasChildren())return Ra(S,B,R);const j=function Ha(S,B,R){let j=0,X=B;const ae={match:!1,pathIndex:0,commandIndex:0};for(;X<S.segments.length;){if(j>=R.length)return ae;const Ie=S.segments[X],ht=R[j];if(Fn(ht))break;const ke=`${ht}`,Bt=j<R.length-1?R[j+1]:null;if(X>0&&void 0===ke)break;if(ke&&Bt&&"object"==typeof Bt&&void 0===Bt.outlets){if(!ua(ke,Bt,Ie))return ae;j+=2}else{if(!ua(ke,{},Ie))return ae;j++}X++}return{match:!0,pathIndex:X,commandIndex:j}}(S,B,R),X=R.slice(j.commandIndex);if(j.match&&j.pathIndex<S.segments.length){const ae=new zn(S.segments.slice(0,j.pathIndex),{});return ae.children[un]=new zn(S.segments.slice(j.pathIndex),S.children),Ra(ae,0,X)}return j.match&&0===X.length?new zn(S.segments,{}):j.match&&!S.hasChildren()?Fu(S,B,R):j.match?Ra(S,0,X):Fu(S,B,R)}function Ra(S,B,R){if(0===R.length)return new zn(S.segments,{});{const j=function gu(S){return Fn(S[0])?S[0].outlets:{[un]:S}}(R),X={};if(Object.keys(j).some(ae=>ae!==un)&&S.children[un]&&1===S.numberOfChildren&&0===S.children[un].segments.length){const ae=Ra(S.children[un],B,R);return new zn(S.segments,ae.children)}return Object.entries(j).forEach(([ae,Ie])=>{"string"==typeof Ie&&(Ie=[Ie]),null!==Ie&&(X[ae]=aa(S.children[ae],B,Ie))}),Object.entries(S.children).forEach(([ae,Ie])=>{void 0===j[ae]&&(X[ae]=Ie)}),new zn(S.segments,X)}}function Fu(S,B,R){const j=S.segments.slice(0,B);let X=0;for(;X<R.length;){const ae=R[X];if(Fn(ae)){const ke=Lu(ae.outlets);return new zn(j,ke)}if(0===X&&tn(R[0])){j.push(new gi(S.segments[B].path,mu(R[0]))),X++;continue}const Ie=Fn(ae)?ae.outlets[un]:`${ae}`,ht=X<R.length-1?R[X+1]:null;Ie&&ht&&tn(ht)?(j.push(new gi(Ie,mu(ht))),X+=2):(j.push(new gi(Ie,{})),X++)}return new zn(j,{})}function Lu(S){const B={};return Object.entries(S).forEach(([R,j])=>{"string"==typeof j&&(j=[j]),null!==j&&(B[R]=Fu(new zn([],{}),0,j))}),B}function mu(S){const B={};return Object.entries(S).forEach(([R,j])=>B[R]=`${j}`),B}function ua(S,B,R){return S==R.path&&rn(B,R.parameters)}const oi="imperative";var rr=function(S){return S[S.NavigationStart=0]="NavigationStart",S[S.NavigationEnd=1]="NavigationEnd",S[S.NavigationCancel=2]="NavigationCancel",S[S.NavigationError=3]="NavigationError",S[S.RoutesRecognized=4]="RoutesRecognized",S[S.ResolveStart=5]="ResolveStart",S[S.ResolveEnd=6]="ResolveEnd",S[S.GuardsCheckStart=7]="GuardsCheckStart",S[S.GuardsCheckEnd=8]="GuardsCheckEnd",S[S.RouteConfigLoadStart=9]="RouteConfigLoadStart",S[S.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",S[S.ChildActivationStart=11]="ChildActivationStart",S[S.ChildActivationEnd=12]="ChildActivationEnd",S[S.ActivationStart=13]="ActivationStart",S[S.ActivationEnd=14]="ActivationEnd",S[S.Scroll=15]="Scroll",S[S.NavigationSkipped=16]="NavigationSkipped",S}(rr||{});class Bi{constructor(B,R){this.id=B,this.url=R}}class Ma extends Bi{constructor(B,R,j="imperative",X=null){super(B,R),this.type=rr.NavigationStart,this.navigationTrigger=j,this.restoredState=X}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ao extends Bi{constructor(B,R,j){super(B,R),this.urlAfterRedirects=j,this.type=rr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Yn=function(S){return S[S.Redirect=0]="Redirect",S[S.SupersededByNewNavigation=1]="SupersededByNewNavigation",S[S.NoDataFromResolver=2]="NoDataFromResolver",S[S.GuardRejected=3]="GuardRejected",S}(Yn||{}),Js=function(S){return S[S.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",S[S.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",S}(Js||{});class di extends Bi{constructor(B,R,j,X){super(B,R),this.reason=j,this.code=X,this.type=rr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vn extends Bi{constructor(B,R,j,X){super(B,R),this.reason=j,this.code=X,this.type=rr.NavigationSkipped}}class ea extends Bi{constructor(B,R,j,X){super(B,R),this.error=j,this.target=X,this.type=rr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $i extends Bi{constructor(B,R,j,X){super(B,R),this.urlAfterRedirects=j,this.state=X,this.type=rr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Di extends Bi{constructor(B,R,j,X){super(B,R),this.urlAfterRedirects=j,this.state=X,this.type=rr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ks extends Bi{constructor(B,R,j,X,ae){super(B,R),this.urlAfterRedirects=j,this.state=X,this.shouldActivate=ae,this.type=rr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jl extends Bi{constructor(B,R,j,X){super(B,R),this.urlAfterRedirects=j,this.state=X,this.type=rr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ui extends Bi{constructor(B,R,j,X){super(B,R),this.urlAfterRedirects=j,this.state=X,this.type=rr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ko{constructor(B){this.route=B,this.type=rr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qo{constructor(B){this.route=B,this.type=rr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ri{constructor(B){this.snapshot=B,this.type=rr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _s{constructor(B){this.snapshot=B,this.type=rr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vu{constructor(B){this.snapshot=B,this.type=rr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oa{constructor(B){this.snapshot=B,this.type=rr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fo{constructor(B,R,j){this.routerEvent=B,this.position=R,this.anchor=j,this.type=rr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ca{}class es{constructor(B,R){this.url=B,this.navigationBehaviorOptions=R}}class Ga{constructor(B){this.injector=B,this.outlet=null,this.route=null,this.children=new Lo(this.injector),this.attachRef=null}}let Lo=(()=>{class S{constructor(R){this.parentInjector=R,this.contexts=new Map}onChildOutletCreated(R,j){const X=this.getOrCreateContext(R);X.outlet=j,this.contexts.set(R,X)}onChildOutletDestroyed(R){const j=this.getContext(R);j&&(j.outlet=null,j.attachRef=null)}onOutletDeactivated(){const R=this.contexts;return this.contexts=new Map,R}onOutletReAttached(R){this.contexts=R}getOrCreateContext(R){let j=this.getContext(R);return j||(j=new Ga(this.parentInjector),this.contexts.set(R,j)),j}getContext(R){return this.contexts.get(R)||null}static#e=this.\u0275fac=function(j){return new(j||S)(O.KVO(O.uvJ))};static#t=this.\u0275prov=O.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class ao{constructor(B){this._root=B}get root(){return this._root.value}parent(B){const R=this.pathFromRoot(B);return R.length>1?R[R.length-2]:null}children(B){const R=ys(B,this._root);return R?R.children.map(j=>j.value):[]}firstChild(B){const R=ys(B,this._root);return R&&R.children.length>0?R.children[0].value:null}siblings(B){const R=Es(B,this._root);return R.length<2?[]:R[R.length-2].children.map(X=>X.value).filter(X=>X!==B)}pathFromRoot(B){return Es(B,this._root).map(R=>R.value)}}function ys(S,B){if(S===B.value)return B;for(const R of B.children){const j=ys(S,R);if(j)return j}return null}function Es(S,B){if(S===B.value)return[B];for(const R of B.children){const j=Es(S,R);if(j.length)return j.unshift(B),j}return[]}class uo{constructor(B,R){this.value=B,this.children=R}toString(){return`TreeNode(${this.value})`}}function ts(S){const B={};return S&&S.children.forEach(R=>B[R.value.outlet]=R),B}class Pa extends ao{constructor(B,R){super(B),this.snapshot=R,Na(this,B)}toString(){return this.snapshot.toString()}}function $a(S){const B=function Vo(S){const ae=new _u([],{},{},"",{},un,S,null,{});return new _o("",new uo(ae,[]))}(S),R=new lt.t([new gi("",{})]),j=new lt.t({}),X=new lt.t({}),ae=new lt.t({}),Ie=new lt.t(""),ht=new Ko(R,j,ae,Ie,X,un,S,B.root);return ht.snapshot=B.root,new Pa(new uo(ht,[]),B)}class Ko{constructor(B,R,j,X,ae,Ie,ht,ke){this.urlSubject=B,this.paramsSubject=R,this.queryParamsSubject=j,this.fragmentSubject=X,this.dataSubject=ae,this.outlet=Ie,this.component=ht,this._futureSnapshot=ke,this.title=this.dataSubject?.pipe((0,Yt.T)(Bt=>Bt[Hr]))??Xe(void 0),this.url=B,this.params=R,this.queryParams=j,this.fragment=X,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Yt.T)(B=>_r(B))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Yt.T)(B=>_r(B))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ns(S,B,R="emptyOnly"){let j;const{routeConfig:X}=S;return j=null===B||"always"!==R&&""!==X?.path&&(B.component||B.routeConfig?.loadComponent)?{params:{...S.params},data:{...S.data},resolve:{...S.data,...S._resolvedData??{}}}:{params:{...B.params,...S.params},data:{...B.data,...S.data},resolve:{...S.data,...B.data,...X?.data,...S._resolvedData}},X&&za(X)&&(j.resolve[Hr]=X.title),j}class _u{get title(){return this.data?.[Hr]}constructor(B,R,j,X,ae,Ie,ht,ke,Bt){this.url=B,this.params=R,this.queryParams=j,this.fragment=X,this.data=ae,this.outlet=Ie,this.component=ht,this.routeConfig=ke,this._resolve=Bt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_r(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_r(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(j=>j.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _o extends ao{constructor(B,R){super(R),this.url=B,Na(this,R)}toString(){return rs(this._root)}}function Na(S,B){B.value._routerState=S,B.children.forEach(R=>Na(S,R))}function rs(S){const B=S.children.length>0?` { ${S.children.map(rs).join(", ")} } `:"";return`${S.value}${B}`}function la(S){if(S.snapshot){const B=S.snapshot,R=S._futureSnapshot;S.snapshot=R,rn(B.queryParams,R.queryParams)||S.queryParamsSubject.next(R.queryParams),B.fragment!==R.fragment&&S.fragmentSubject.next(R.fragment),rn(B.params,R.params)||S.paramsSubject.next(R.params),function ur(S,B){if(S.length!==B.length)return!1;for(let R=0;R<S.length;++R)if(!rn(S[R],B[R]))return!1;return!0}(B.url,R.url)||S.urlSubject.next(R.url),rn(B.data,R.data)||S.dataSubject.next(R.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function vo(S,B){const R=rn(S.params,B.params)&&function Wo(S,B){return Yr(S,B)&&S.every((R,j)=>rn(R.parameters,B[j].parameters))}(S.url,B.url);return R&&!(!S.parent!=!B.parent)&&(!S.parent||vo(S.parent,B.parent))}function za(S){return"string"==typeof S.title||null===S.title}let Wa=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=un,this.activateEvents=new O.bkB,this.deactivateEvents=new O.bkB,this.attachEvents=new O.bkB,this.detachEvents=new O.bkB,this.parentContexts=(0,O.WQX)(Lo),this.location=(0,O.WQX)(O.c1b),this.changeDetector=(0,O.WQX)(O.gRc),this.inputBinder=(0,O.WQX)(Qi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(R){if(R.name){const{firstChange:j,previousValue:X}=R.name;if(j)return;this.isTrackedInParentContexts(X)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(X)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(R){return this.parentContexts.getContext(R)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const R=this.parentContexts.getContext(this.name);R?.route&&(R.attachRef?this.attach(R.attachRef,R.route):this.activateWith(R.route,R.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O.wOt(4012,!1);this.location.detach();const R=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(R.instance),R}attach(R,j){this.activated=R,this._activatedRoute=j,this.location.insert(R.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(R.instance)}deactivate(){if(this.activated){const R=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(R)}}activateWith(R,j){if(this.isActivated)throw new O.wOt(4013,!1);this._activatedRoute=R;const X=this.location,Ie=R.snapshot.component,ht=this.parentContexts.getOrCreateContext(this.name).children,ke=new Xo(R,ht,X.injector);this.activated=X.createComponent(Ie,{index:X.length,injector:ke,environmentInjector:j}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(j){return new(j||S)};static#t=this.\u0275dir=O.FsC({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[O.OA$]})}return S})();class Xo{__ngOutletInjector(B){return new Xo(this.route,this.childContexts,B)}constructor(B,R,j){this.route=B,this.childContexts=R,this.parent=j}get(B,R){return B===Ko?this.route:B===Lo?this.childContexts:this.parent.get(B,R)}}const Qi=new O.nKC("");let vu=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(R){this.unsubscribeFromRouteData(R),this.subscribeToRouteData(R)}unsubscribeFromRouteData(R){this.outletDataSubscriptions.get(R)?.unsubscribe(),this.outletDataSubscriptions.delete(R)}subscribeToRouteData(R){const{activatedRoute:j}=R,X=(0,Ee.z)([j.queryParams,j.params,j.data]).pipe(yn(([ae,Ie,ht],ke)=>(ht={...ae,...Ie,...ht},0===ke?Xe(ht):Promise.resolve(ht)))).subscribe(ae=>{if(!R.isActivated||!R.activatedComponentRef||R.activatedRoute!==j||null===j.component)return void this.unsubscribeFromRouteData(R);const Ie=(0,O.HJs)(j.component);if(Ie)for(const{templateName:ht}of Ie.inputs)R.activatedComponentRef.setInput(ht,ae[ht]);else this.unsubscribeFromRouteData(R)});this.outletDataSubscriptions.set(R,X)}static#e=this.\u0275fac=function(j){return new(j||S)};static#t=this.\u0275prov=O.jDH({token:S,factory:S.\u0275fac})}return S})();function zi(S,B,R){if(R&&S.shouldReuseRoute(B.value,R.value.snapshot)){const j=R.value;j._futureSnapshot=B.value;const X=function $c(S,B,R){return B.children.map(j=>{for(const X of R.children)if(S.shouldReuseRoute(j.value,X.value.snapshot))return zi(S,j,X);return zi(S,j)})}(S,B,R);return new uo(j,X)}{if(S.shouldAttach(B.value)){const ae=S.retrieve(B.value);if(null!==ae){const Ie=ae.route;return Ie.value._futureSnapshot=B.value,Ie.children=B.children.map(ht=>zi(S,ht)),Ie}}const j=function qa(S){return new Ko(new lt.t(S.url),new lt.t(S.params),new lt.t(S.queryParams),new lt.t(S.fragment),new lt.t(S.data),S.outlet,S.component,S)}(B.value),X=B.children.map(ae=>zi(S,ae));return new uo(j,X)}}class Ka{constructor(B,R){this.redirectTo=B,this.navigationBehaviorOptions=R}}const Bu="ngNavigationCancelingError";function nn(S,B){const{redirectTo:R,navigationBehaviorOptions:j}=Da(B)?{redirectTo:B,navigationBehaviorOptions:void 0}:B,X=Hn(!1,Yn.Redirect);return X.url=R,X.navigationBehaviorOptions=j,X}function Hn(S,B){const R=new Error(`NavigationCancelingError: ${S||""}`);return R[Bu]=!0,R.cancellationCode=B,R}function Fs(S){return!!S&&S[Bu]}let da=(()=>{class S{static#e=this.\u0275fac=function(j){return new(j||S)};static#t=this.\u0275cmp=O.VBU({type:S,selectors:[["ng-component"]],standalone:!0,features:[O.aNF],decls:1,vars:0,template:function(j,X){1&j&&O.nrm(0,"router-outlet")},dependencies:[Wa],encapsulation:2})}return S})();function Vs(S){const B=S.children&&S.children.map(Vs),R=B?{...S,children:B}:{...S};return!R.component&&!R.loadComponent&&(B||R.loadChildren)&&R.outlet&&R.outlet!==un&&(R.component=da),R}function Ar(S){return S.outlet||un}function ju(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let B=S.parent;B;B=B.parent){const R=B.routeConfig;if(R?._loadedInjector)return R._loadedInjector;if(R?._injector)return R._injector}return null}class Tr{constructor(B,R,j,X,ae){this.routeReuseStrategy=B,this.futureState=R,this.currState=j,this.forwardEvent=X,this.inputBindingEnabled=ae}activate(B){const R=this.futureState._root,j=this.currState?this.currState._root:null;this.deactivateChildRoutes(R,j,B),la(this.futureState.root),this.activateChildRoutes(R,j,B)}deactivateChildRoutes(B,R,j){const X=ts(R);B.children.forEach(ae=>{const Ie=ae.value.outlet;this.deactivateRoutes(ae,X[Ie],j),delete X[Ie]}),Object.values(X).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,j)})}deactivateRoutes(B,R,j){const X=B.value,ae=R?R.value:null;if(X===ae)if(X.component){const Ie=j.getContext(X.outlet);Ie&&this.deactivateChildRoutes(B,R,Ie.children)}else this.deactivateChildRoutes(B,R,j);else ae&&this.deactivateRouteAndItsChildren(R,j)}deactivateRouteAndItsChildren(B,R){B.value.component&&this.routeReuseStrategy.shouldDetach(B.value.snapshot)?this.detachAndStoreRouteSubtree(B,R):this.deactivateRouteAndOutlet(B,R)}detachAndStoreRouteSubtree(B,R){const j=R.getContext(B.value.outlet),X=j&&B.value.component?j.children:R,ae=ts(B);for(const Ie of Object.values(ae))this.deactivateRouteAndItsChildren(Ie,X);if(j&&j.outlet){const Ie=j.outlet.detach(),ht=j.children.onOutletDeactivated();this.routeReuseStrategy.store(B.value.snapshot,{componentRef:Ie,route:B,contexts:ht})}}deactivateRouteAndOutlet(B,R){const j=R.getContext(B.value.outlet),X=j&&B.value.component?j.children:R,ae=ts(B);for(const Ie of Object.values(ae))this.deactivateRouteAndItsChildren(Ie,X);j&&(j.outlet&&(j.outlet.deactivate(),j.children.onOutletDeactivated()),j.attachRef=null,j.route=null)}activateChildRoutes(B,R,j){const X=ts(R);B.children.forEach(ae=>{this.activateRoutes(ae,X[ae.value.outlet],j),this.forwardEvent(new Oa(ae.value.snapshot))}),B.children.length&&this.forwardEvent(new _s(B.value.snapshot))}activateRoutes(B,R,j){const X=B.value,ae=R?R.value:null;if(la(X),X===ae)if(X.component){const Ie=j.getOrCreateContext(X.outlet);this.activateChildRoutes(B,R,Ie.children)}else this.activateChildRoutes(B,R,j);else if(X.component){const Ie=j.getOrCreateContext(X.outlet);if(this.routeReuseStrategy.shouldAttach(X.snapshot)){const ht=this.routeReuseStrategy.retrieve(X.snapshot);this.routeReuseStrategy.store(X.snapshot,null),Ie.children.onOutletReAttached(ht.contexts),Ie.attachRef=ht.componentRef,Ie.route=ht.route.value,Ie.outlet&&Ie.outlet.attach(ht.componentRef,ht.route.value),la(ht.route.value),this.activateChildRoutes(B,null,Ie.children)}else{const ht=ju(X.snapshot);Ie.attachRef=null,Ie.route=X,Ie.injector=ht??Ie.injector,Ie.outlet&&Ie.outlet.activateWith(X,Ie.injector),this.activateChildRoutes(B,null,Ie.children)}}else this.activateChildRoutes(B,null,j)}}class is{constructor(B){this.path=B,this.route=this.path[this.path.length-1]}}class Gu{constructor(B,R){this.component=B,this.route=R}}function $u(S,B,R){const j=S._root;return ws(j,B?B._root:null,R,[j.value])}function Mn(S,B){const R=Symbol(),j=B.get(S,R);return j===R?"function"!=typeof S||(0,O.LfX)(S)?B.get(S):S:j}function ws(S,B,R,j,X={canDeactivateChecks:[],canActivateChecks:[]}){const ae=ts(B);return S.children.forEach(Ie=>{(function Yi(S,B,R,j,X={canDeactivateChecks:[],canActivateChecks:[]}){const ae=S.value,Ie=B?B.value:null,ht=R?R.getContext(S.value.outlet):null;if(Ie&&ae.routeConfig===Ie.routeConfig){const ke=function mc(S,B,R){if("function"==typeof R)return R(S,B);switch(R){case"pathParamsChange":return!Yr(S.url,B.url);case"pathParamsOrQueryParamsChange":return!Yr(S.url,B.url)||!rn(S.queryParams,B.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vo(S,B)||!rn(S.queryParams,B.queryParams);default:return!vo(S,B)}}(Ie,ae,ae.routeConfig.runGuardsAndResolvers);ke?X.canActivateChecks.push(new is(j)):(ae.data=Ie.data,ae._resolvedData=Ie._resolvedData),ws(S,B,ae.component?ht?ht.children:null:R,j,X),ke&&ht&&ht.outlet&&ht.outlet.isActivated&&X.canDeactivateChecks.push(new Gu(ht.outlet.component,Ie))}else Ie&&Bo(B,ht,X),X.canActivateChecks.push(new is(j)),ws(S,null,ae.component?ht?ht.children:null:R,j,X)})(Ie,ae[Ie.value.outlet],R,j.concat([Ie.value]),X),delete ae[Ie.value.outlet]}),Object.entries(ae).forEach(([Ie,ht])=>Bo(ht,R.getContext(Ie),X)),X}function Bo(S,B,R){const j=ts(S),X=S.value;Object.entries(j).forEach(([ae,Ie])=>{Bo(Ie,X.component?B?B.children.getContext(ae):null:B,R)}),R.canDeactivateChecks.push(new Gu(X.component&&B&&B.outlet&&B.outlet.isActivated?B.outlet.component:null,X))}function Or(S){return"function"==typeof S}function Z(S){return S instanceof Me||"EmptyError"===S?.name}const H=Symbol("INITIAL_VALUE");function oe(){return yn(S=>(0,Ee.z)(S.map(B=>B.pipe(Vr(1),(0,ui.Z)(H)))).pipe((0,Yt.T)(B=>{for(const R of B)if(!0!==R){if(R===H)return H;if(!1===R||be(R))return R}return!0}),vt(B=>B!==H),Vr(1)))}function be(S){return Da(S)||S instanceof Ka}function Wr(S){return(0,Ut.F)((0,le.M)(B=>{if("boolean"!=typeof B)throw nn(0,B)}),(0,Yt.T)(B=>!0===B))}class Cu{constructor(B){this.segmentGroup=B||null}}class _n extends Error{constructor(B){super(),this.urlTree=B}}function As(S){return hn(new Cu(S))}class mi{constructor(B,R){this.urlSerializer=B,this.urlTree=R}lineralizeSegments(B,R){let j=[],X=R.root;for(;;){if(j=j.concat(X.segments),0===X.numberOfChildren)return Xe(j);if(X.numberOfChildren>1||!X.children[un])return hn(new O.wOt(4e3,!1));X=X.children[un]}}applyRedirectCommands(B,R,j,X,ae){if("string"!=typeof R){const ht=R,{queryParams:ke,fragment:Bt,routeConfig:dn,url:Rn,outlet:On,params:va,data:So,title:ya}=X,Hs=(0,O.N4e)(ae,()=>ht({params:va,data:So,queryParams:ke,fragment:Bt,routeConfig:dn,url:Rn,outlet:On,title:ya}));if(Hs instanceof Po)throw new _n(Hs);R=Hs}const Ie=this.applyRedirectCreateUrlTree(R,this.urlSerializer.parse(R),B,j);if("/"===R[0])throw new _n(Ie);return Ie}applyRedirectCreateUrlTree(B,R,j,X){const ae=this.createSegmentGroup(B,R.root,j,X);return new Po(ae,this.createQueryParams(R.queryParams,this.urlTree.queryParams),R.fragment)}createQueryParams(B,R){const j={};return Object.entries(B).forEach(([X,ae])=>{if("string"==typeof ae&&":"===ae[0]){const ht=ae.substring(1);j[X]=R[ht]}else j[X]=ae}),j}createSegmentGroup(B,R,j,X){const ae=this.createSegments(B,R.segments,j,X);let Ie={};return Object.entries(R.children).forEach(([ht,ke])=>{Ie[ht]=this.createSegmentGroup(B,ke,j,X)}),new zn(ae,Ie)}createSegments(B,R,j,X){return R.map(ae=>":"===ae.path[0]?this.findPosParam(B,ae,X):this.findOrReturn(ae,j))}findPosParam(B,R,j){const X=j[R.path.substring(1)];if(!X)throw new O.wOt(4001,!1);return X}findOrReturn(B,R){let j=0;for(const X of R){if(X.path===B.path)return R.splice(j),X;j++}return B}}const er={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zu(S,B,R,j,X){const ae=yc(S,B,R);return ae.matched?(j=function ha(S,B){return S.providers&&!S._injector&&(S._injector=(0,O.Ol2)(S.providers,B,`Route: ${S.path}`)),S._injector??B}(B,j),function js(S,B,R,j){const X=B.canMatch;return X&&0!==X.length?Xe(X.map(Ie=>{const ht=Mn(Ie,S);return on(function Y(S){return S&&Or(S.canMatch)}(ht)?ht.canMatch(B,R):(0,O.N4e)(S,()=>ht(B,R)))})).pipe(oe(),Wr()):Xe(!0)}(j,B,R).pipe((0,Yt.T)(Ie=>!0===Ie?ae:{...er}))):Xe(ae)}function yc(S,B,R){if("**"===B.path)return function jr(S){return{matched:!0,parameters:S.length>0?or(S).parameters:{},consumedSegments:S,remainingSegments:[],positionalParamSegments:{}}}(R);if(""===B.path)return"full"===B.pathMatch&&(S.hasChildren()||R.length>0)?{...er}:{matched:!0,consumedSegments:[],remainingSegments:R,parameters:{},positionalParamSegments:{}};const X=(B.matcher||ni)(R,S,B);if(!X)return{...er};const ae={};Object.entries(X.posParams??{}).forEach(([ht,ke])=>{ae[ht]=ke.path});const Ie=X.consumed.length>0?{...ae,...X.consumed[X.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:X.consumed,remainingSegments:R.slice(X.consumed.length),parameters:Ie,positionalParamSegments:X.posParams??{}}}function Wc(S,B,R,j){return R.length>0&&function Ec(S,B,R){return R.some(j=>Cc(S,B,j)&&Ar(j)!==un)}(S,R,j)?{segmentGroup:new zn(B,wu(j,new zn(R,S.children))),slicedSegments:[]}:0===R.length&&function Qa(S,B,R){return R.some(j=>Cc(S,B,j))}(S,R,j)?{segmentGroup:new zn(S.segments,qc(S,R,j,S.children)),slicedSegments:R}:{segmentGroup:new zn(S.segments,S.children),slicedSegments:R}}function qc(S,B,R,j){const X={};for(const ae of R)if(Cc(S,B,ae)&&!j[Ar(ae)]){const Ie=new zn([],{});X[Ar(ae)]=Ie}return{...j,...X}}function wu(S,B){const R={};R[un]=B;for(const j of S)if(""===j.path&&Ar(j)!==un){const X=new zn([],{});R[Ar(j)]=X}return R}function Cc(S,B,R){return(!(S.hasChildren()||B.length>0)||"full"!==R.pathMatch)&&""===R.path}class Qr{}class Ya{constructor(B,R,j,X,ae,Ie,ht){this.injector=B,this.configLoader=R,this.rootComponentType=j,this.config=X,this.urlTree=ae,this.paramsInheritanceStrategy=Ie,this.urlSerializer=ht,this.applyRedirects=new mi(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(B){return new O.wOt(4002,`'${B.segmentGroup}'`)}recognize(){const B=Wc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(B).pipe((0,Yt.T)(({children:R,rootSnapshot:j})=>{const X=new uo(j,R),ae=new _o("",X),Ie=function wt(S,B,R=null,j=null){return St(ze(S),B,R,j)}(j,[],this.urlTree.queryParams,this.urlTree.fragment);return Ie.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(Ie),{state:ae,tree:Ie}}))}match(B){const R=new _u([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),un,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,B,un,R).pipe((0,Yt.T)(j=>({children:j,rootSnapshot:R})),pe(j=>{if(j instanceof _n)return this.urlTree=j.urlTree,this.match(j.urlTree.root);throw j instanceof Cu?this.noMatchError(j):j}))}processSegmentGroup(B,R,j,X,ae){return 0===j.segments.length&&j.hasChildren()?this.processChildren(B,R,j,ae):this.processSegment(B,R,j,j.segments,X,!0,ae).pipe((0,Yt.T)(Ie=>Ie instanceof uo?[Ie]:[]))}processChildren(B,R,j,X){const ae=[];for(const Ie of Object.keys(j.children))"primary"===Ie?ae.unshift(Ie):ae.push(Ie);return(0,ye.H)(ae).pipe(Le(Ie=>{const ht=j.children[Ie],ke=function Uu(S,B){const R=S.filter(j=>Ar(j)===B);return R.push(...S.filter(j=>Ar(j)!==B)),R}(R,Ie);return this.processSegmentGroup(B,ke,ht,Ie,X)}),function Gt(S,B){return(0,Je.N)(function yt(S,B,R,j,X){return(ae,Ie)=>{let ht=R,ke=B,Bt=0;ae.subscribe((0,it._)(Ie,dn=>{const Rn=Bt++;ke=ht?S(ke,dn,Rn):(ht=!0,dn),j&&Ie.next(ke)},X&&(()=>{ht&&Ie.next(ke),Ie.complete()})))}}(S,B,arguments.length>=2,!0))}((Ie,ht)=>(Ie.push(...ht),Ie)),Fr(null),function Jt(S,B){const R=arguments.length>=2;return j=>j.pipe(S?vt((X,ae)=>S(X,ae,j)):Ue.D,Bn(1),R?Fr(B):ki(()=>new Me))}(),(0,en.Z)(Ie=>{if(null===Ie)return As(j);const ht=Ln(Ie);return function _i(S){S.sort((B,R)=>B.value.outlet===un?-1:R.value.outlet===un?1:B.value.outlet.localeCompare(R.value.outlet))}(ht),Xe(ht)}))}processSegment(B,R,j,X,ae,Ie,ht){return(0,ye.H)(R).pipe(Le(ke=>this.processSegmentAgainstRoute(ke._injector??B,R,ke,j,X,ae,Ie,ht).pipe(pe(Bt=>{if(Bt instanceof Cu)return Xe(null);throw Bt}))),At(ke=>!!ke),pe(ke=>{if(Z(ke))return function Iu(S,B,R){return 0===B.length&&!S.children[R]}(j,X,ae)?Xe(new Qr):As(j);throw ke}))}processSegmentAgainstRoute(B,R,j,X,ae,Ie,ht,ke){return function wc(S,B,R,j){return!!(Ar(S)===j||j!==un&&Cc(B,R,S))&&yc(B,S,R).matched}(j,X,ae,Ie)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(B,X,j,ae,Ie,ke):this.allowRedirects&&ht?this.expandSegmentAgainstRouteUsingRedirect(B,X,R,j,ae,Ie,ke):As(X):As(X)}expandSegmentAgainstRouteUsingRedirect(B,R,j,X,ae,Ie,ht){const{matched:ke,parameters:Bt,consumedSegments:dn,positionalParamSegments:Rn,remainingSegments:On}=yc(R,X,ae);if(!ke)return As(R);"string"==typeof X.redirectTo&&"/"===X.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const va=new _u(ae,Bt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,br(X),Ar(X),X.component??X._loadedComponent??null,X,Qt(X)),So=ns(va,ht,this.paramsInheritanceStrategy);va.params=Object.freeze(So.params),va.data=Object.freeze(So.data);const ya=this.applyRedirects.applyRedirectCommands(dn,X.redirectTo,Rn,va,B);return this.applyRedirects.lineralizeSegments(X,ya).pipe((0,en.Z)(Hs=>this.processSegment(B,j,R,Hs.concat(On),Ie,!1,ht)))}matchSegmentAgainstRoute(B,R,j,X,ae,Ie){const ht=zu(R,j,X,B);return"**"===j.path&&(R.children={}),ht.pipe(yn(ke=>ke.matched?this.getChildConfig(B=j._injector??B,j,X).pipe(yn(({routes:Bt})=>{const dn=j._loadedInjector??B,{parameters:Rn,consumedSegments:On,remainingSegments:va}=ke,So=new _u(On,Rn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,br(j),Ar(j),j.component??j._loadedComponent??null,j,Qt(j)),ya=ns(So,Ie,this.paramsInheritanceStrategy);So.params=Object.freeze(ya.params),So.data=Object.freeze(ya.data);const{segmentGroup:Hs,slicedSegments:Gs}=Wc(R,On,va,Bt);if(0===Gs.length&&Hs.hasChildren())return this.processChildren(dn,Bt,Hs,So).pipe((0,Yt.T)(Ea=>new uo(So,Ea)));if(0===Bt.length&&0===Gs.length)return Xe(new uo(So,[]));const $s=Ar(j)===ae;return this.processSegment(dn,Bt,Hs,Gs,$s?un:ae,!0,So).pipe((0,Yt.T)(Ea=>new uo(So,Ea instanceof uo?[Ea]:[])))})):As(R)))}getChildConfig(B,R,j){return R.children?Xe({routes:R.children,injector:B}):R.loadChildren?void 0!==R._loadedRoutes?Xe({routes:R._loadedRoutes,injector:R._loadedInjector}):function Us(S,B,R,j){const X=B.canLoad;return void 0===X||0===X.length?Xe(!0):Xe(X.map(Ie=>{const ht=Mn(Ie,S);return on(function Eu(S){return S&&Or(S.canLoad)}(ht)?ht.canLoad(B,R):(0,O.N4e)(S,()=>ht(B,R)))})).pipe(oe(),Wr())}(B,R,j).pipe((0,en.Z)(X=>X?this.configLoader.loadChildren(B,R).pipe((0,le.M)(ae=>{R._loadedRoutes=ae.routes,R._loadedInjector=ae.injector})):function Rd(S){return hn(Hn(!1,Yn.GuardRejected))}())):Xe({routes:[],injector:B})}}function Za(S){const B=S.value.routeConfig;return B&&""===B.path}function Ln(S){const B=[],R=new Set;for(const j of S){if(!Za(j)){B.push(j);continue}const X=B.find(ae=>j.value.routeConfig===ae.value.routeConfig);void 0!==X?(X.children.push(...j.children),R.add(X)):B.push(j)}for(const j of R){const X=Ln(j.children);B.push(new uo(j.value,X))}return B.filter(j=>!R.has(j))}function br(S){return S.data||{}}function Qt(S){return S.resolve||{}}function Ch(S){const B=S.children.map(R=>Ch(R)).flat();return[S,...B]}function W(S){return yn(B=>{const R=S(B);return R?(0,ye.H)(R).pipe((0,Yt.T)(()=>B)):Xe(B)})}let ne=(()=>{class S{buildTitle(R){let j,X=R.root;for(;void 0!==X;)j=this.getResolvedTitleForRoute(X)??j,X=X.children.find(ae=>ae.outlet===un);return j}getResolvedTitleForRoute(R){return R.data[Hr]}static#e=this.\u0275fac=function(j){return new(j||S)};static#t=this.\u0275prov=O.jDH({token:S,factory:()=>(0,O.WQX)(we),providedIn:"root"})}return S})(),we=(()=>{class S extends ne{constructor(R){super(),this.title=R}updateTitle(R){const j=this.buildTitle(R);void 0!==j&&this.title.setTitle(j)}static#e=this.\u0275fac=function(j){return new(j||S)(O.KVO(Fi.hE))};static#t=this.\u0275prov=O.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const dt=new O.nKC("",{providedIn:"root",factory:()=>({})}),mt=new O.nKC("");let pn=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,O.WQX)(O.Ql9)}loadComponent(R){if(this.componentLoaders.get(R))return this.componentLoaders.get(R);if(R._loadedComponent)return Xe(R._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(R);const j=on(R.loadComponent()).pipe((0,Yt.T)(tr),(0,le.M)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(R),R._loadedComponent=ae}),Rr(()=>{this.componentLoaders.delete(R)})),X=new ut(j,()=>new Mt.B).pipe(_t());return this.componentLoaders.set(R,X),X}loadChildren(R,j){if(this.childrenLoaders.get(j))return this.childrenLoaders.get(j);if(j._loadedRoutes)return Xe({routes:j._loadedRoutes,injector:j._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(j);const ae=function fn(S,B,R,j){return on(S.loadChildren()).pipe((0,Yt.T)(tr),(0,en.Z)(X=>X instanceof O.Co$||Array.isArray(X)?Xe(X):(0,ye.H)(B.compileModuleAsync(X))),(0,Yt.T)(X=>{j&&j(S);let ae,Ie,ht=!1;return Array.isArray(X)?(Ie=X,!0):(ae=X.create(R).injector,Ie=ae.get(mt,[],{optional:!0,self:!0}).flat()),{routes:Ie.map(Vs),injector:ae}}))}(j,this.compiler,R,this.onLoadEndListener).pipe(Rr(()=>{this.childrenLoaders.delete(j)})),Ie=new ut(ae,()=>new Mt.B).pipe(_t());return this.childrenLoaders.set(j,Ie),Ie}static#e=this.\u0275fac=function(j){return new(j||S)};static#t=this.\u0275prov=O.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function tr(S){return function qr(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let hr=(()=>{class S{static#e=this.\u0275fac=function(j){return new(j||S)};static#t=this.\u0275prov=O.jDH({token:S,factory:()=>(0,O.WQX)(cr),providedIn:"root"})}return S})(),cr=(()=>{class S{shouldProcessUrl(R){return!0}extract(R){return R}merge(R,j){return R}static#e=this.\u0275fac=function(j){return new(j||S)};static#t=this.\u0275prov=O.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Ke=new O.nKC(""),Wi=new O.nKC("");function Qo(S,B,R){const j=S.get(Wi),X=S.get(He.qQ);return S.get(O.SKi).runOutsideAngular(()=>{if(!X.startViewTransition||j.skipNextTransition)return j.skipNextTransition=!1,new Promise(Bt=>setTimeout(Bt));let ae;const Ie=new Promise(Bt=>{ae=Bt}),ht=X.startViewTransition(()=>(ae(),function os(S){return new Promise(B=>{(0,O.mal)(B,{injector:S})})}(S))),{onViewTransitionCreated:ke}=j;return ke&&(0,O.N4e)(S,()=>ke({transition:ht,from:B,to:R})),Ie})}const Yo=new O.nKC("");let na=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Mt.B,this.transitionAbortSubject=new Mt.B,this.configLoader=(0,O.WQX)(pn),this.environmentInjector=(0,O.WQX)(O.uvJ),this.urlSerializer=(0,O.WQX)(lr),this.rootContexts=(0,O.WQX)(Lo),this.location=(0,O.WQX)(He.aZ),this.inputBindingEnabled=null!==(0,O.WQX)(Qi,{optional:!0}),this.titleStrategy=(0,O.WQX)(ne),this.options=(0,O.WQX)(dt,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,O.WQX)(hr),this.createViewTransition=(0,O.WQX)(Ke,{optional:!0}),this.navigationErrorHandler=(0,O.WQX)(Yo,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Xe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=X=>this.events.next(new qo(X)),this.configLoader.onLoadStartListener=X=>this.events.next(new ko(X))}complete(){this.transitions?.complete()}handleNavigationRequest(R){const j=++this.navigationId;this.transitions?.next({...this.transitions.value,...R,id:j})}setupNavigations(R,j,X){return this.transitions=new lt.t({id:0,currentUrlTree:j,currentRawUrl:j,extractedUrl:this.urlHandlingStrategy.extract(j),urlAfterRedirects:this.urlHandlingStrategy.extract(j),rawUrl:j,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:oi,restoredState:null,currentSnapshot:X.snapshot,targetSnapshot:null,currentRouterState:X,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vt(ae=>0!==ae.id),(0,Yt.T)(ae=>({...ae,extractedUrl:this.urlHandlingStrategy.extract(ae.rawUrl)})),yn(ae=>{let Ie=!1,ht=!1;return Xe(ae).pipe(yn(ke=>{if(this.navigationId>ae.id)return this.cancelNavigationTransition(ae,"",Yn.SupersededByNewNavigation),Wt;this.currentTransition=ae,this.currentNavigation={id:ke.id,initialUrl:ke.rawUrl,extractedUrl:ke.extractedUrl,trigger:ke.source,extras:ke.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Bt=!R.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Bt&&"reload"!==(ke.extras.onSameUrlNavigation??R.onSameUrlNavigation)){const Rn="";return this.events.next(new Vn(ke.id,this.urlSerializer.serialize(ke.rawUrl),Rn,Js.IgnoredSameUrlNavigation)),ke.resolve(!1),Wt}if(this.urlHandlingStrategy.shouldProcessUrl(ke.rawUrl))return Xe(ke).pipe(yn(Rn=>{const On=this.transitions?.getValue();return this.events.next(new Ma(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),Rn.source,Rn.restoredState)),On!==this.transitions?.getValue()?Wt:Promise.resolve(Rn)}),function Eh(S,B,R,j,X,ae){return(0,en.Z)(Ie=>function Wu(S,B,R,j,X,ae,Ie="emptyOnly"){return new Ya(S,B,R,j,X,Ie,ae).recognize()}(S,B,R,j,Ie.extractedUrl,X,ae).pipe((0,Yt.T)(({state:ht,tree:ke})=>({...Ie,targetSnapshot:ht,urlAfterRedirects:ke}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,R.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,le.M)(Rn=>{ae.targetSnapshot=Rn.targetSnapshot,ae.urlAfterRedirects=Rn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Rn.urlAfterRedirects};const On=new $i(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(On)}));if(Bt&&this.urlHandlingStrategy.shouldProcessUrl(ke.currentRawUrl)){const{id:Rn,extractedUrl:On,source:va,restoredState:So,extras:ya}=ke,Hs=new Ma(Rn,this.urlSerializer.serialize(On),va,So);this.events.next(Hs);const Gs=$a(this.rootComponentType).snapshot;return this.currentTransition=ae={...ke,targetSnapshot:Gs,urlAfterRedirects:On,extras:{...ya,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=On,Xe(ae)}{const Rn="";return this.events.next(new Vn(ke.id,this.urlSerializer.serialize(ke.extractedUrl),Rn,Js.IgnoredByUrlHandlingStrategy)),ke.resolve(!1),Wt}}),(0,le.M)(ke=>{const Bt=new Di(ke.id,this.urlSerializer.serialize(ke.extractedUrl),this.urlSerializer.serialize(ke.urlAfterRedirects),ke.targetSnapshot);this.events.next(Bt)}),(0,Yt.T)(ke=>(this.currentTransition=ae={...ke,guards:$u(ke.targetSnapshot,ke.currentSnapshot,this.rootContexts)},ae)),function Ot(S,B){return(0,en.Z)(R=>{const{targetSnapshot:j,currentSnapshot:X,guards:{canActivateChecks:ae,canDeactivateChecks:Ie}}=R;return 0===Ie.length&&0===ae.length?Xe({...R,guardsResult:!0}):function Gn(S,B,R,j){return(0,ye.H)(S).pipe((0,en.Z)(X=>function _c(S,B,R,j,X){const ae=B&&B.routeConfig?B.routeConfig.canDeactivate:null;return ae&&0!==ae.length?Xe(ae.map(ht=>{const ke=ju(B)??X,Bt=Mn(ht,ke);return on(function pl(S){return S&&Or(S.canDeactivate)}(Bt)?Bt.canDeactivate(S,B,R,j):(0,O.N4e)(ke,()=>Bt(S,B,R,j))).pipe(At())})).pipe(oe()):Xe(!0)}(X.component,X.route,R,B,j)),At(X=>!0!==X,!0))}(Ie,j,X,S).pipe((0,en.Z)(ht=>ht&&function Is(S){return"boolean"==typeof S}(ht)?function Uo(S,B,R,j){return(0,ye.H)(B).pipe(Le(X=>(0,Et.x)(function bo(S,B){return null!==S&&B&&B(new Ri(S)),Xe(!0)}(X.route.parent,j),function pa(S,B){return null!==S&&B&&B(new Vu(S)),Xe(!0)}(X.route,j),function Tn(S,B,R){const j=B[B.length-1],ae=B.slice(0,B.length-1).reverse().map(Ie=>function ta(S){const B=S.routeConfig?S.routeConfig.canActivateChild:null;return B&&0!==B.length?{node:S,guards:B}:null}(Ie)).filter(Ie=>null!==Ie).map(Ie=>It(()=>Xe(Ie.guards.map(ke=>{const Bt=ju(Ie.node)??R,dn=Mn(ke,Bt);return on(function zc(S){return S&&Or(S.canActivateChild)}(dn)?dn.canActivateChild(j,S):(0,O.N4e)(Bt,()=>dn(j,S))).pipe(At())})).pipe(oe())));return Xe(ae).pipe(oe())}(S,X.path,R),function Bs(S,B,R){const j=B.routeConfig?B.routeConfig.canActivate:null;if(!j||0===j.length)return Xe(!0);const X=j.map(ae=>It(()=>{const Ie=ju(B)??R,ht=Mn(ae,Ie);return on(function To(S){return S&&Or(S.canActivate)}(ht)?ht.canActivate(B,S):(0,O.N4e)(Ie,()=>ht(B,S))).pipe(At())}));return Xe(X).pipe(oe())}(S,X.route,R))),At(X=>!0!==X,!0))}(j,ae,S,B):Xe(ht)),(0,Yt.T)(ht=>({...R,guardsResult:ht})))})}(this.environmentInjector,ke=>this.events.next(ke)),(0,le.M)(ke=>{if(ae.guardsResult=ke.guardsResult,ke.guardsResult&&"boolean"!=typeof ke.guardsResult)throw nn(0,ke.guardsResult);const Bt=new ks(ke.id,this.urlSerializer.serialize(ke.extractedUrl),this.urlSerializer.serialize(ke.urlAfterRedirects),ke.targetSnapshot,!!ke.guardsResult);this.events.next(Bt)}),vt(ke=>!!ke.guardsResult||(this.cancelNavigationTransition(ke,"",Yn.GuardRejected),!1)),W(ke=>{if(ke.guards.canActivateChecks.length)return Xe(ke).pipe((0,le.M)(Bt=>{const dn=new jl(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),this.urlSerializer.serialize(Bt.urlAfterRedirects),Bt.targetSnapshot);this.events.next(dn)}),yn(Bt=>{let dn=!1;return Xe(Bt).pipe(function vr(S,B){return(0,en.Z)(R=>{const{targetSnapshot:j,guards:{canActivateChecks:X}}=R;if(!X.length)return Xe(R);const ae=new Set(X.map(ke=>ke.route)),Ie=new Set;for(const ke of ae)if(!Ie.has(ke))for(const Bt of Ch(ke))Ie.add(Bt);let ht=0;return(0,ye.H)(Ie).pipe(Le(ke=>ae.has(ke)?function co(S,B,R,j){const X=S.routeConfig,ae=S._resolve;return void 0!==X?.title&&!za(X)&&(ae[Hr]=X.title),function F(S,B,R,j){const X=Io(S);if(0===X.length)return Xe({});const ae={};return(0,ye.H)(X).pipe((0,en.Z)(Ie=>function re(S,B,R,j){const X=ju(B)??j,ae=Mn(S,X);return on(ae.resolve?ae.resolve(B,R):(0,O.N4e)(X,()=>ae(B,R)))}(S[Ie],B,R,j).pipe(At(),(0,le.M)(ht=>{if(ht instanceof Ka)throw nn(new fe,ht);ae[Ie]=ht}))),Bn(1),function Xn(S){return(0,Yt.T)(()=>S)}(ae),pe(Ie=>Z(Ie)?Wt:hn(Ie)))}(ae,S,B,j).pipe((0,Yt.T)(Ie=>(S._resolvedData=Ie,S.data=ns(S,S.parent,R).resolve,null)))}(ke,j,S,B):(ke.data=ns(ke,ke.parent,S).resolve,Xe(void 0))),(0,le.M)(()=>ht++),Bn(1),(0,en.Z)(ke=>ht===Ie.size?Xe(R):Wt))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,le.M)({next:()=>dn=!0,complete:()=>{dn||this.cancelNavigationTransition(Bt,"",Yn.NoDataFromResolver)}}))}),(0,le.M)(Bt=>{const dn=new Ui(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),this.urlSerializer.serialize(Bt.urlAfterRedirects),Bt.targetSnapshot);this.events.next(dn)}))}),W(ke=>{const Bt=dn=>{const Rn=[];dn.routeConfig?.loadComponent&&!dn.routeConfig._loadedComponent&&Rn.push(this.configLoader.loadComponent(dn.routeConfig).pipe((0,le.M)(On=>{dn.component=On}),(0,Yt.T)(()=>{})));for(const On of dn.children)Rn.push(...Bt(On));return Rn};return(0,Ee.z)(Bt(ke.targetSnapshot.root)).pipe(Fr(null),Vr(1))}),W(()=>this.afterPreactivation()),yn(()=>{const{currentSnapshot:ke,targetSnapshot:Bt}=ae,dn=this.createViewTransition?.(this.environmentInjector,ke.root,Bt.root);return dn?(0,ye.H)(dn).pipe((0,Yt.T)(()=>ae)):Xe(ae)}),(0,Yt.T)(ke=>{const Bt=function hi(S,B,R){const j=zi(S,B._root,R?R._root:void 0);return new Pa(j,B)}(R.routeReuseStrategy,ke.targetSnapshot,ke.currentRouterState);return this.currentTransition=ae={...ke,targetRouterState:Bt},this.currentNavigation.targetRouterState=Bt,ae}),(0,le.M)(()=>{this.events.next(new ca)}),((S,B,R,j)=>(0,Yt.T)(X=>(new Tr(B,X.targetRouterState,X.currentRouterState,R,j).activate(S),X)))(this.rootContexts,R.routeReuseStrategy,ke=>this.events.next(ke),this.inputBindingEnabled),Vr(1),(0,le.M)({next:ke=>{Ie=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ao(ke.id,this.urlSerializer.serialize(ke.extractedUrl),this.urlSerializer.serialize(ke.urlAfterRedirects))),this.titleStrategy?.updateTitle(ke.targetRouterState.snapshot),ke.resolve(!0)},complete:()=>{Ie=!0}}),function pr(S){return(0,Je.N)((B,R)=>{(0,We.Tg)(S).subscribe((0,it._)(R,()=>R.complete(),no.l)),!R.closed&&B.subscribe(R)})}(this.transitionAbortSubject.pipe((0,le.M)(ke=>{throw ke}))),Rr(()=>{!Ie&&!ht&&this.cancelNavigationTransition(ae,"",Yn.SupersededByNewNavigation),this.currentTransition?.id===ae.id&&(this.currentNavigation=null,this.currentTransition=null)}),pe(ke=>{if(ht=!0,Fs(ke))this.events.next(new di(ae.id,this.urlSerializer.serialize(ae.extractedUrl),ke.message,ke.cancellationCode)),function dr(S){return Fs(S)&&Da(S.url)}(ke)?this.events.next(new es(ke.url,ke.navigationBehaviorOptions)):ae.resolve(!1);else{const Bt=new ea(ae.id,this.urlSerializer.serialize(ae.extractedUrl),ke,ae.targetSnapshot??void 0);try{const dn=(0,O.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Bt));if(dn instanceof Ka){const{message:Rn,cancellationCode:On}=nn(0,dn);this.events.next(new di(ae.id,this.urlSerializer.serialize(ae.extractedUrl),Rn,On)),this.events.next(new es(dn.redirectTo,dn.navigationBehaviorOptions))}else{this.events.next(Bt);const Rn=R.errorHandler(ke);ae.resolve(!!Rn)}}catch(dn){this.options.resolveNavigationPromiseOnError?ae.resolve(!1):ae.reject(dn)}}return Wt}))}))}cancelNavigationTransition(R,j,X){const ae=new di(R.id,this.urlSerializer.serialize(R.extractedUrl),j,X);this.events.next(ae),R.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(j){return new(j||S)};static#t=this.\u0275prov=O.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Mi(S){return S!==oi}let ga=(()=>{class S{static#e=this.\u0275fac=function(j){return new(j||S)};static#t=this.\u0275prov=O.jDH({token:S,factory:()=>(0,O.WQX)(Ts),providedIn:"root"})}return S})();class vn{shouldDetach(B){return!1}store(B,R){}shouldAttach(B){return!1}retrieve(B){return null}shouldReuseRoute(B,R){return B.routeConfig===R.routeConfig}}let Ts=(()=>{class S extends vn{static#e=this.\u0275fac=(()=>{let R;return function(X){return(R||(R=O.xGo(S)))(X||S)}})();static#t=this.\u0275prov=O.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),bs=(()=>{class S{static#e=this.\u0275fac=function(j){return new(j||S)};static#t=this.\u0275prov=O.jDH({token:S,factory:()=>(0,O.WQX)(xs),providedIn:"root"})}return S})(),xs=(()=>{class S extends bs{constructor(){super(...arguments),this.location=(0,O.WQX)(He.aZ),this.urlSerializer=(0,O.WQX)(lr),this.options=(0,O.WQX)(dt,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,O.WQX)(hr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Po,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$a(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(R){return this.location.subscribe(j=>{"popstate"===j.type&&R(j.url,j.state)})}handleRouterEvent(R,j){if(R instanceof Ma)this.stateMemento=this.createStateMemento();else if(R instanceof Vn)this.rawUrlTree=j.initialUrl;else if(R instanceof $i){if("eager"===this.urlUpdateStrategy&&!j.extras.skipLocationChange){const X=this.urlHandlingStrategy.merge(j.finalUrl,j.initialUrl);this.setBrowserUrl(X,j)}}else R instanceof ca?(this.currentUrlTree=j.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(j.finalUrl,j.initialUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j))):R instanceof di&&(R.code===Yn.GuardRejected||R.code===Yn.NoDataFromResolver)?this.restoreHistory(j):R instanceof ea?this.restoreHistory(j,!0):R instanceof Ao&&(this.lastSuccessfulId=R.id,this.currentPageId=this.browserPageId)}setBrowserUrl(R,j){const X=this.urlSerializer.serialize(R);if(this.location.isCurrentPathEqualTo(X)||j.extras.replaceUrl){const Ie={...j.extras.state,...this.generateNgRouterState(j.id,this.browserPageId)};this.location.replaceState(X,"",Ie)}else{const ae={...j.extras.state,...this.generateNgRouterState(j.id,this.browserPageId+1)};this.location.go(X,"",ae)}}restoreHistory(R,j=!1){if("computed"===this.canceledNavigationResolution){const ae=this.currentPageId-this.browserPageId;0!==ae?this.location.historyGo(ae):this.currentUrlTree===R.finalUrl&&0===ae&&(this.resetState(R),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(j&&this.resetState(R),this.resetUrlToCurrentUrlTree())}resetState(R){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,R.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(R,j){return"computed"===this.canceledNavigationResolution?{navigationId:R,\u0275routerPageId:j}:{navigationId:R}}static#e=this.\u0275fac=(()=>{let R;return function(X){return(R||(R=O.xGo(S)))(X||S)}})();static#t=this.\u0275prov=O.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var qu=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(qu||{});function Hl(S,B){S.events.pipe(vt(R=>R instanceof Ao||R instanceof di||R instanceof ea||R instanceof Vn),(0,Yt.T)(R=>R instanceof Ao||R instanceof Vn?qu.COMPLETE:R instanceof di&&(R.code===Yn.Redirect||R.code===Yn.SupersededByNewNavigation)?qu.REDIRECTING:qu.FAILED),vt(R=>R!==qu.REDIRECTING),Vr(1)).subscribe(()=>{B()})}function Md(S){throw S}const ss={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ra=(()=>{class S{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,O.WQX)(O.H3F),this.stateManager=(0,O.WQX)(bs),this.options=(0,O.WQX)(dt,{optional:!0})||{},this.pendingTasks=(0,O.WQX)(O.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,O.WQX)(na),this.urlSerializer=(0,O.WQX)(lr),this.location=(0,O.WQX)(He.aZ),this.urlHandlingStrategy=(0,O.WQX)(hr),this._events=new Mt.B,this.errorHandler=this.options.errorHandler||Md,this.navigated=!1,this.routeReuseStrategy=(0,O.WQX)(ga),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,O.WQX)(mt,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,O.WQX)(Qi,{optional:!0}),this.eventsSubscription=new Pt.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:R=>{this.console.warn(R)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const R=this.navigationTransitions.events.subscribe(j=>{try{const X=this.navigationTransitions.currentTransition,ae=this.navigationTransitions.currentNavigation;if(null!==X&&null!==ae)if(this.stateManager.handleRouterEvent(j,ae),j instanceof di&&j.code!==Yn.Redirect&&j.code!==Yn.SupersededByNewNavigation)this.navigated=!0;else if(j instanceof Ao)this.navigated=!0;else if(j instanceof es){const Ie=j.navigationBehaviorOptions,ht=this.urlHandlingStrategy.merge(j.url,X.currentRawUrl),ke={info:X.extras.info,skipLocationChange:X.extras.skipLocationChange,replaceUrl:X.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Mi(X.source),...Ie};this.scheduleNavigation(ht,oi,null,ke,{resolve:X.resolve,reject:X.reject,promise:X.promise})}(function Gl(S){return!(S instanceof ca||S instanceof es)})(j)&&this._events.next(j)}catch(X){this.navigationTransitions.transitionAbortSubject.next(X)}});this.eventsSubscription.add(R)}resetRootComponentType(R){this.routerState.root.component=R,this.navigationTransitions.rootComponentType=R}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),oi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((R,j)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(R,"popstate",j)},0)})}navigateToSyncWithBrowser(R,j,X){const ae={replaceUrl:!0},Ie=X?.navigationId?X:null;if(X){const ke={...X};delete ke.navigationId,delete ke.\u0275routerPageId,0!==Object.keys(ke).length&&(ae.state=ke)}const ht=this.parseUrl(R);this.scheduleNavigation(ht,j,Ie,ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(R){this.config=R.map(Vs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(R,j={}){const{relativeTo:X,queryParams:ae,fragment:Ie,queryParamsHandling:ht,preserveFragment:ke}=j,Bt=ke?this.currentUrlTree.fragment:Ie;let Rn,dn=null;switch(ht){case"merge":dn={...this.currentUrlTree.queryParams,...ae};break;case"preserve":dn=this.currentUrlTree.queryParams;break;default:dn=ae||null}null!==dn&&(dn=this.removeEmptyProps(dn));try{Rn=ze(X?X.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof R[0]||"/"!==R[0][0])&&(R=[]),Rn=this.currentUrlTree.root}return St(Rn,R,dn,Bt??null)}navigateByUrl(R,j={skipLocationChange:!1}){const X=Da(R)?R:this.parseUrl(R),ae=this.urlHandlingStrategy.merge(X,this.rawUrlTree);return this.scheduleNavigation(ae,oi,null,j)}navigate(R,j={skipLocationChange:!1}){return function ia(S){for(let B=0;B<S.length;B++)if(null==S[B])throw new O.wOt(4008,!1)}(R),this.navigateByUrl(this.createUrlTree(R,j),j)}serializeUrl(R){return this.urlSerializer.serialize(R)}parseUrl(R){try{return this.urlSerializer.parse(R)}catch{return this.urlSerializer.parse("/")}}isActive(R,j){let X;if(X=!0===j?{...ss}:!1===j?{...xo}:j,Da(R))return xi(this.currentUrlTree,R,X);const ae=this.parseUrl(R);return xi(this.currentUrlTree,ae,X)}removeEmptyProps(R){return Object.entries(R).reduce((j,[X,ae])=>(null!=ae&&(j[X]=ae),j),{})}scheduleNavigation(R,j,X,ae,Ie){if(this.disposed)return Promise.resolve(!1);let ht,ke,Bt;Ie?(ht=Ie.resolve,ke=Ie.reject,Bt=Ie.promise):Bt=new Promise((Rn,On)=>{ht=Rn,ke=On});const dn=this.pendingTasks.add();return Hl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(dn))}),this.navigationTransitions.handleNavigationRequest({source:j,restoredState:X,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:R,extras:ae,resolve:ht,reject:ke,promise:Bt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Bt.catch(Rn=>Promise.reject(Rn))}static#e=this.\u0275fac=function(j){return new(j||S)};static#t=this.\u0275prov=O.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class ka{}let Ic=(()=>{class S{constructor(R,j,X,ae,Ie){this.router=R,this.injector=X,this.preloadingStrategy=ae,this.loader=Ie}setUpPreloading(){this.subscription=this.router.events.pipe(vt(R=>R instanceof Ao),Le(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(R,j){const X=[];for(const ae of j){ae.providers&&!ae._injector&&(ae._injector=(0,O.Ol2)(ae.providers,R,`Route: ${ae.path}`));const Ie=ae._injector??R,ht=ae._loadedInjector??Ie;(ae.loadChildren&&!ae._loadedRoutes&&void 0===ae.canLoad||ae.loadComponent&&!ae._loadedComponent)&&X.push(this.preloadConfig(Ie,ae)),(ae.children||ae._loadedRoutes)&&X.push(this.processRoutes(ht,ae.children??ae._loadedRoutes))}return(0,ye.H)(X).pipe((0,Lr.U)())}preloadConfig(R,j){return this.preloadingStrategy.preload(j,()=>{let X;X=j.loadChildren&&void 0===j.canLoad?this.loader.loadChildren(R,j):Xe(null);const ae=X.pipe((0,en.Z)(Ie=>null===Ie?Xe(void 0):(j._loadedRoutes=Ie.routes,j._loadedInjector=Ie.injector,this.processRoutes(Ie.injector??R,Ie.routes))));if(j.loadComponent&&!j._loadedComponent){const Ie=this.loader.loadComponent(j);return(0,ye.H)([ae,Ie]).pipe((0,Lr.U)())}return ae})}static#e=this.\u0275fac=function(j){return new(j||S)(O.KVO(ra),O.KVO(O.Ql9),O.KVO(O.uvJ),O.KVO(ka),O.KVO(pn))};static#t=this.\u0275prov=O.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Oi=new O.nKC("");let Ac=(()=>{class S{constructor(R,j,X,ae,Ie={}){this.urlSerializer=R,this.transitions=j,this.viewportScroller=X,this.zone=ae,this.options=Ie,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,O.WQX)(O.uvJ),Ie.scrollPositionRestoration||="disabled",Ie.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof Ma?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=R.navigationTrigger,this.restoredId=R.restoredState?R.restoredState.navigationId:0):R instanceof Ao?(this.lastId=R.id,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.urlAfterRedirects).fragment)):R instanceof Vn&&R.code===Js.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof Fo&&(R.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(R.position):R.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(R.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(R,j){var X=this;this.zone.runOutsideAngular((0,D.A)(function*(){yield new Promise(ae=>{setTimeout(()=>{ae()}),(0,O.mal)(()=>{ae()},{injector:X.environmentInjector})}),X.zone.run(()=>{X.transitions.events.next(new Fo(R,"popstate"===X.lastSource?X.store[X.restoredId]:null,j))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(j){O.QTQ()};static#t=this.\u0275prov=O.jDH({token:S,factory:S.\u0275fac})}return S})();function Xc(S,...B){return(0,O.EmA)([{provide:mt,multi:!0,useValue:S},[],{provide:Ko,useFactory:Ja,deps:[ra]},{provide:O.iLQ,multi:!0,useFactory:fi},B.map(R=>R.\u0275providers)])}function Ja(S){return S.routerState.root}function vi(S,B){return{\u0275kind:S,\u0275providers:B}}function fi(){const S=(0,O.WQX)(O.zZn);return B=>{const R=S.get(O.o8S);if(B!==R.components[0])return;const j=S.get(ra),X=S.get(Pr);1===S.get(us)&&j.initialNavigation(),S.get(Zo,null,O.$GK.Optional)?.setUpPreloading(),S.get(Oi,null,O.$GK.Optional)?.init(),j.resetRootComponentType(R.componentTypes[0]),X.closed||(X.next(),X.complete(),X.unsubscribe())}}const Pr=new O.nKC("",{factory:()=>new Mt.B}),us=new O.nKC("",{providedIn:"root",factory:()=>1}),Zo=new O.nKC("");function ma(S){return vi(0,[{provide:Zo,useExisting:Ic},{provide:ka,useExisting:S}])}function Yc(){return vi(8,[vu,{provide:Qi,useExisting:vu}])}function Zc(S){return vi(9,[{provide:Ke,useValue:Qo},{provide:Wi,useValue:{skipNextTransition:!!S?.skipInitialTransition,...S}}])}const Jc=new O.nKC("ROUTER_FORROOT_GUARD"),ml=[He.aZ,{provide:lr,useClass:fe},ra,Lo,{provide:Ko,useFactory:Ja,deps:[ra]},pn,[]];let Wl=(()=>{class S{constructor(R){}static forRoot(R,j){return{ngModule:S,providers:[ml,[],{provide:mt,multi:!0,useValue:R},{provide:Jc,useFactory:La,deps:[[ra,new O.Xx1,new O.kdw]]},{provide:dt,useValue:j||{}},j?.useHash?{provide:He.hb,useClass:He.fw}:{provide:He.hb,useClass:He.Sm},{provide:Oi,useFactory:()=>{const S=(0,O.WQX)(He.Xr),B=(0,O.WQX)(O.SKi),R=(0,O.WQX)(dt),j=(0,O.WQX)(na),X=(0,O.WQX)(lr);return R.scrollOffset&&S.setOffset(R.scrollOffset),new Ac(X,j,S,B,R)}},j?.preloadingStrategy?ma(j.preloadingStrategy).\u0275providers:[],j?.initialNavigation?Od(j):[],j?.bindToComponentInputs?Yc().\u0275providers:[],j?.enableViewTransitions?Zc().\u0275providers:[],[{provide:_a,useFactory:fi},{provide:O.iLQ,multi:!0,useExisting:_a}]]}}static forChild(R){return{ngModule:S,providers:[{provide:mt,multi:!0,useValue:R}]}}static#e=this.\u0275fac=function(j){return new(j||S)(O.KVO(Jc,8))};static#t=this.\u0275mod=O.$C({type:S});static#n=this.\u0275inj=O.G2t({})}return S})();function La(S){return"guarded"}function Od(S){return["disabled"===S.initialNavigation?vi(3,[{provide:O.hnV,multi:!0,useFactory:()=>{const B=(0,O.WQX)(ra);return()=>{B.setUpLocationChangeListener()}}},{provide:us,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?vi(2,[{provide:us,useValue:0},{provide:O.hnV,multi:!0,deps:[O.zZn],useFactory:B=>{const R=B.get(He.hj,Promise.resolve());return()=>R.then(()=>new Promise(j=>{const X=B.get(ra),ae=B.get(Pr);Hl(X,()=>{j(!0)}),B.get(na).afterPreactivation=()=>(j(!0),ae.closed?Xe(void 0):ae),X.initialNavigation()}))}}]).\u0275providers:[]]}const _a=new O.nKC("")},7852:(Cn,bt,ie)=>{ie.d(bt,{MF:()=>Si,j6:()=>li,xZ:()=>Un,om:()=>ci,Sx:()=>tt,Dk:()=>Ae,Wp:()=>lr,KO:()=>ge});var D=ie(467),O=ie(1362),U=ie(8041),Oe=ie(1076);const nt=(wt,ze)=>ze.some(St=>wt instanceof St);let ye,xt;const Ee=new WeakMap,Te=new WeakMap,Me=new WeakMap,Et=new WeakMap,We=new WeakMap;let hn={get(wt,ze,St){if(wt instanceof IDBTransaction){if("done"===ze)return Te.get(wt);if("objectStoreNames"===ze)return wt.objectStoreNames||Me.get(wt);if("store"===ze)return St.objectStoreNames[1]?void 0:St.objectStore(St.objectStoreNames[0])}return Pt(wt[ze])},set:(wt,ze,St)=>(wt[ze]=St,!0),has:(wt,ze)=>wt instanceof IDBTransaction&&("done"===ze||"store"===ze)||ze in wt};function An(wt){return"function"==typeof wt?function Kn(wt){return wt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lt(){return xt||(xt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(wt)?function(...ze){return wt.apply(Je(this),ze),Pt(Ee.get(this))}:function(...ze){return Pt(wt.apply(Je(this),ze))}:function(ze,...St){const tn=wt.call(Je(this),ze,...St);return Me.set(tn,ze.sort?ze.sort():[ze]),Pt(tn)}}(wt):(wt instanceof IDBTransaction&&function Ut(wt){if(Te.has(wt))return;const ze=new Promise((St,tn)=>{const Fn=()=>{wt.removeEventListener("complete",Dn),wt.removeEventListener("error",Nn),wt.removeEventListener("abort",Nn)},Dn=()=>{St(),Fn()},Nn=()=>{tn(wt.error||new DOMException("AbortError","AbortError")),Fn()};wt.addEventListener("complete",Dn),wt.addEventListener("error",Nn),wt.addEventListener("abort",Nn)});Te.set(wt,ze)}(wt),nt(wt,function Xe(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(wt,hn):wt)}function Pt(wt){if(wt instanceof IDBRequest)return function It(wt){const ze=new Promise((St,tn)=>{const Fn=()=>{wt.removeEventListener("success",Dn),wt.removeEventListener("error",Nn)},Dn=()=>{St(Pt(wt.result)),Fn()},Nn=()=>{tn(wt.error),Fn()};wt.addEventListener("success",Dn),wt.addEventListener("error",Nn)});return ze.then(St=>{St instanceof IDBCursor&&Ee.set(St,wt)}).catch(()=>{}),We.set(ze,wt),ze}(wt);if(Et.has(wt))return Et.get(wt);const ze=An(wt);return ze!==wt&&(Et.set(wt,ze),We.set(ze,wt)),ze}const Je=wt=>We.get(wt),ut=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],He=new Map;function Yt(wt,ze){if(!(wt instanceof IDBDatabase)||ze in wt||"string"!=typeof ze)return;if(He.get(ze))return He.get(ze);const St=ze.replace(/FromIndex$/,""),tn=ze!==St,Fn=Mt.includes(St);if(!(St in(tn?IDBIndex:IDBObjectStore).prototype)||!Fn&&!ut.includes(St))return;const Dn=function(){var Nn=(0,D.A)(function*(Cr,...Ur){const Gi=this.transaction(Cr,Fn?"readwrite":"readonly");let No=Gi.store;return tn&&(No=No.index(Ur.shift())),(yield Promise.all([No[St](...Ur),Fn&&Gi.done]))[0]});return function(Ur){return Nn.apply(this,arguments)}}();return He.set(ze,Dn),Dn}!function Wt(wt){hn=wt(hn)}(wt=>({...wt,get:(ze,St,tn)=>Yt(ze,St)||wt.get(ze,St,tn),has:(ze,St)=>!!Yt(ze,St)||wt.has(ze,St)}));class yn{constructor(ze){this.container=ze}getPlatformInfoString(){return this.container.getProviders().map(St=>{if(function Vr(wt){const ze=wt.getComponent();return"VERSION"===ze?.type}(St)){const tn=St.getImmediate();return`${tn.library}/${tn.version}`}return null}).filter(St=>St).join(" ")}}const ui="@firebase/app",en=new U.Vy("@firebase/app"),Fr="@firebase/app-compat",ki="@firebase/analytics-compat",Ne="@firebase/analytics",Ue="@firebase/app-check-compat",At="@firebase/app-check",Le="@firebase/auth",le="@firebase/auth-compat",pe="@firebase/database",yt="@firebase/database-compat",Gt="@firebase/functions",Bn="@firebase/functions-compat",Jt="@firebase/installations",Xn="@firebase/installations-compat",Rr="@firebase/messaging",no="@firebase/messaging-compat",pr="@firebase/performance",Lr="@firebase/performance-compat",Fi="@firebase/remote-config",un="@firebase/remote-config-compat",Hr="@firebase/storage",Sn="@firebase/storage-compat",_r="@firebase/firestore",ni="@firebase/vertexai-preview",ur="@firebase/firestore-compat",rn="firebase",Nt="[DEFAULT]",or={[ui]:"fire-core",[Fr]:"fire-core-compat",[Ne]:"fire-analytics",[ki]:"fire-analytics-compat",[At]:"fire-app-check",[Ue]:"fire-app-check-compat",[Le]:"fire-auth",[le]:"fire-auth-compat",[pe]:"fire-rtdb",[yt]:"fire-rtdb-compat",[Gt]:"fire-fn",[Bn]:"fire-fn-compat",[Jt]:"fire-iid",[Xn]:"fire-iid-compat",[Rr]:"fire-fcm",[no]:"fire-fcm-compat",[pr]:"fire-perf",[Lr]:"fire-perf-compat",[Fi]:"fire-rc",[un]:"fire-rc-compat",[Hr]:"fire-gcs",[Sn]:"fire-gcs-compat",[_r]:"fire-fst",[ur]:"fire-fst-compat",[ni]:"fire-vertex","fire-js":"fire-js",[rn]:"fire-js-all"},on=new Map,Ht=new Map,Gr=new Map;function xi(wt,ze){try{wt.container.addComponent(ze)}catch(St){en.debug(`Component ${ze.name} failed to register with FirebaseApp ${wt.name}`,St)}}function ci(wt){const ze=wt.name;if(Gr.has(ze))return en.debug(`There were multiple attempts to register component ${ze}.`),!1;Gr.set(ze,wt);for(const St of on.values())xi(St,wt);for(const St of Ht.values())xi(St,wt);return!0}function li(wt,ze){const St=wt.container.getProvider("heartbeat").getImmediate({optional:!0});return St&&St.triggerHeartbeat(),wt.container.getProvider(ze)}function Un(wt){return void 0!==wt.settings}const gi=new Oe.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Wo{constructor(ze,St,tn){this._isDeleted=!1,this._options=Object.assign({},ze),this._config=Object.assign({},St),this._name=St.name,this._automaticDataCollectionEnabled=St.automaticDataCollectionEnabled,this._container=tn,this.container.addComponent(new O.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ze){this._isDeleted=ze}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}const Si="10.12.2";function lr(wt,ze={}){let St=wt;"object"!=typeof ze&&(ze={name:ze});const tn=Object.assign({name:Nt,automaticDataCollectionEnabled:!1},ze),Fn=tn.name;if("string"!=typeof Fn||!Fn)throw gi.create("bad-app-name",{appName:String(Fn)});if(St||(St=(0,Oe.T9)()),!St)throw gi.create("no-options");const Dn=on.get(Fn);if(Dn){if((0,Oe.bD)(St,Dn.options)&&(0,Oe.bD)(tn,Dn.config))return Dn;throw gi.create("duplicate-app",{appName:Fn})}const Nn=new O.h1(Fn);for(const Ur of Gr.values())Nn.addComponent(Ur);const Cr=new Wo(St,tn,Nn);return on.set(Fn,Cr),Cr}function tt(wt=Nt){const ze=on.get(wt);if(!ze&&wt===Nt&&(0,Oe.T9)())return lr();if(!ze)throw gi.create("no-app",{appName:wt});return ze}function Ae(){return Array.from(on.values())}function ge(wt,ze,St){var tn;let Fn=null!==(tn=or[wt])&&void 0!==tn?tn:wt;St&&(Fn+=`-${St}`);const Dn=Fn.match(/\s|\//),Nn=ze.match(/\s|\//);if(Dn||Nn){const Cr=[`Unable to register library "${Fn}" with version "${ze}":`];return Dn&&Cr.push(`library name "${Fn}" contains illegal characters (whitespace or "/")`),Dn&&Nn&&Cr.push("and"),Nn&&Cr.push(`version name "${ze}" contains illegal characters (whitespace or "/")`),void en.warn(Cr.join(" "))}ci(new O.uA(`${Fn}-version`,()=>({library:Fn,version:ze}),"VERSION"))}const qe="firebase-heartbeat-database",qt=1,wn="firebase-heartbeat-store";let jn=null;function Kr(){return jn||(jn=function it(wt,ze,{blocked:St,upgrade:tn,blocking:Fn,terminated:Dn}={}){const Nn=indexedDB.open(wt,ze),Cr=Pt(Nn);return tn&&Nn.addEventListener("upgradeneeded",Ur=>{tn(Pt(Nn.result),Ur.oldVersion,Ur.newVersion,Pt(Nn.transaction),Ur)}),St&&Nn.addEventListener("blocked",Ur=>St(Ur.oldVersion,Ur.newVersion,Ur)),Cr.then(Ur=>{Dn&&Ur.addEventListener("close",()=>Dn()),Fn&&Ur.addEventListener("versionchange",Gi=>Fn(Gi.oldVersion,Gi.newVersion,Gi))}).catch(()=>{}),Cr}(qe,qt,{upgrade:(wt,ze)=>{if(0===ze)try{wt.createObjectStore(wn)}catch(St){console.warn(St)}}}).catch(wt=>{throw gi.create("idb-open",{originalErrorMessage:wt.message})})),jn}function ri(){return(ri=(0,D.A)(function*(wt){try{const St=(yield Kr()).transaction(wn),tn=yield St.objectStore(wn).get(Br(wt));return yield St.done,tn}catch(ze){if(ze instanceof Oe.g)en.warn(ze.message);else{const St=gi.create("idb-get",{originalErrorMessage:ze?.message});en.warn(St.message)}}})).apply(this,arguments)}function Wn(wt,ze){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,D.A)(function*(wt,ze){try{const tn=(yield Kr()).transaction(wn,"readwrite");yield tn.objectStore(wn).put(ze,Br(wt)),yield tn.done}catch(St){if(St instanceof Oe.g)en.warn(St.message);else{const tn=gi.create("idb-set",{originalErrorMessage:St?.message});en.warn(tn.message)}}})).apply(this,arguments)}function Br(wt){return`${wt.name}!${wt.options.appId}`}class mo{constructor(ze){this.container=ze,this._heartbeatsCache=null;const St=this.container.getProvider("app").getImmediate();this._storage=new pu(St),this._heartbeatsCachePromise=this._storage.read().then(tn=>(this._heartbeatsCache=tn,tn))}triggerHeartbeat(){var ze=this;return(0,D.A)(function*(){var St,tn;const Dn=ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nn=so();if((null!=(null===(St=ze._heartbeatsCache)||void 0===St?void 0:St.heartbeats)||(ze._heartbeatsCache=yield ze._heartbeatsCachePromise,null!=(null===(tn=ze._heartbeatsCache)||void 0===tn?void 0:tn.heartbeats)))&&ze._heartbeatsCache.lastSentHeartbeatDate!==Nn&&!ze._heartbeatsCache.heartbeats.some(Cr=>Cr.date===Nn))return ze._heartbeatsCache.heartbeats.push({date:Nn,agent:Dn}),ze._heartbeatsCache.heartbeats=ze._heartbeatsCache.heartbeats.filter(Cr=>{const Ur=new Date(Cr.date).valueOf();return Date.now()-Ur<=2592e6}),ze._storage.overwrite(ze._heartbeatsCache)})()}getHeartbeatsHeader(){var ze=this;return(0,D.A)(function*(){var St;if(null===ze._heartbeatsCache&&(yield ze._heartbeatsCachePromise),null==(null===(St=ze._heartbeatsCache)||void 0===St?void 0:St.heartbeats)||0===ze._heartbeatsCache.heartbeats.length)return"";const tn=so(),{heartbeatsToSend:Fn,unsentEntries:Dn}=function ms(wt,ze=1024){const St=[];let tn=wt.slice();for(const Fn of wt){const Dn=St.find(Nn=>Nn.agent===Fn.agent);if(Dn){if(Dn.dates.push(Fn.date),Sa(St)>ze){Dn.dates.pop();break}}else if(St.push({agent:Fn.agent,dates:[Fn.date]}),Sa(St)>ze){St.pop();break}tn=tn.slice(1)}return{heartbeatsToSend:St,unsentEntries:tn}}(ze._heartbeatsCache.heartbeats),Nn=(0,Oe.Uj)(JSON.stringify({version:2,heartbeats:Fn}));return ze._heartbeatsCache.lastSentHeartbeatDate=tn,Dn.length>0?(ze._heartbeatsCache.heartbeats=Dn,yield ze._storage.overwrite(ze._heartbeatsCache)):(ze._heartbeatsCache.heartbeats=[],ze._storage.overwrite(ze._heartbeatsCache)),Nn})()}}function so(){return(new Date).toISOString().substring(0,10)}class pu{constructor(ze){this.app=ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,D.A)(function*(){return!!(0,Oe.zW)()&&(0,Oe.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ze=this;return(0,D.A)(function*(){if(yield ze._canUseIndexedDBPromise){const tn=yield function yr(wt){return ri.apply(this,arguments)}(ze.app);return tn?.heartbeats?tn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ze){var St=this;return(0,D.A)(function*(){var tn;if(yield St._canUseIndexedDBPromise){const Dn=yield St.read();return Wn(St.app,{lastSentHeartbeatDate:null!==(tn=ze.lastSentHeartbeatDate)&&void 0!==tn?tn:Dn.lastSentHeartbeatDate,heartbeats:ze.heartbeats})}})()}add(ze){var St=this;return(0,D.A)(function*(){var tn;if(yield St._canUseIndexedDBPromise){const Dn=yield St.read();return Wn(St.app,{lastSentHeartbeatDate:null!==(tn=ze.lastSentHeartbeatDate)&&void 0!==tn?tn:Dn.lastSentHeartbeatDate,heartbeats:[...Dn.heartbeats,...ze.heartbeats]})}})()}}function Sa(wt){return(0,Oe.Uj)(JSON.stringify({version:2,heartbeats:wt})).length}!function Da(wt){ci(new O.uA("platform-logger",ze=>new yn(ze),"PRIVATE")),ci(new O.uA("heartbeat",ze=>new mo(ze),"PRIVATE")),ge(ui,"0.10.5",wt),ge(ui,"0.10.5","esm2017"),ge("fire-js","")}("")},1362:(Cn,bt,ie)=>{ie.d(bt,{h1:()=>Xe,uA:()=>U});var D=ie(467),O=ie(1076);class U{constructor(Ee,Te,Me){this.name=Ee,this.instanceFactory=Te,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ee){return this.instantiationMode=Ee,this}setMultipleInstances(Ee){return this.multipleInstances=Ee,this}setServiceProps(Ee){return this.serviceProps=Ee,this}setInstanceCreatedCallback(Ee){return this.onInstanceCreated=Ee,this}}const Oe="[DEFAULT]";class nt{constructor(Ee,Te){this.name=Ee,this.container=Te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ee){const Te=this.normalizeInstanceIdentifier(Ee);if(!this.instancesDeferred.has(Te)){const Me=new O.cY;if(this.instancesDeferred.set(Te,Me),this.isInitialized(Te)||this.shouldAutoInitialize())try{const Et=this.getOrInitializeService({instanceIdentifier:Te});Et&&Me.resolve(Et)}catch{}}return this.instancesDeferred.get(Te).promise}getImmediate(Ee){var Te;const Me=this.normalizeInstanceIdentifier(Ee?.identifier),Et=null!==(Te=Ee?.optional)&&void 0!==Te&&Te;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(We){if(Et)return null;throw We}}getComponent(){return this.component}setComponent(Ee){if(Ee.name!==this.name)throw Error(`Mismatching Component ${Ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ee,this.shouldAutoInitialize()){if(function xt(lt){return"EAGER"===lt.instantiationMode}(Ee))try{this.getOrInitializeService({instanceIdentifier:Oe})}catch{}for(const[Te,Me]of this.instancesDeferred.entries()){const Et=this.normalizeInstanceIdentifier(Te);try{const We=this.getOrInitializeService({instanceIdentifier:Et});Me.resolve(We)}catch{}}}}clearInstance(Ee=Oe){this.instancesDeferred.delete(Ee),this.instancesOptions.delete(Ee),this.instances.delete(Ee)}delete(){var Ee=this;return(0,D.A)(function*(){const Te=Array.from(Ee.instances.values());yield Promise.all([...Te.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...Te.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ee=Oe){return this.instances.has(Ee)}getOptions(Ee=Oe){return this.instancesOptions.get(Ee)||{}}initialize(Ee={}){const{options:Te={}}=Ee,Me=this.normalizeInstanceIdentifier(Ee.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Et=this.getOrInitializeService({instanceIdentifier:Me,options:Te});for(const[We,It]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(We)&&It.resolve(Et);return Et}onInit(Ee,Te){var Me;const Et=this.normalizeInstanceIdentifier(Te),We=null!==(Me=this.onInitCallbacks.get(Et))&&void 0!==Me?Me:new Set;We.add(Ee),this.onInitCallbacks.set(Et,We);const It=this.instances.get(Et);return It&&Ee(It,Et),()=>{We.delete(Ee)}}invokeOnInitCallbacks(Ee,Te){const Me=this.onInitCallbacks.get(Te);if(Me)for(const Et of Me)try{Et(Ee,Te)}catch{}}getOrInitializeService({instanceIdentifier:Ee,options:Te={}}){let Me=this.instances.get(Ee);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(lt=Ee,lt===Oe?void 0:lt),options:Te}),this.instances.set(Ee,Me),this.instancesOptions.set(Ee,Te),this.invokeOnInitCallbacks(Me,Ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ee,Me)}catch{}var lt;return Me||null}normalizeInstanceIdentifier(Ee=Oe){return this.component?this.component.multipleInstances?Ee:Oe:Ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xe{constructor(Ee){this.name=Ee,this.providers=new Map}addComponent(Ee){const Te=this.getProvider(Ee.name);if(Te.isComponentSet())throw new Error(`Component ${Ee.name} has already been registered with ${this.name}`);Te.setComponent(Ee)}addOrOverwriteComponent(Ee){this.getProvider(Ee.name).isComponentSet()&&this.providers.delete(Ee.name),this.addComponent(Ee)}getProvider(Ee){if(this.providers.has(Ee))return this.providers.get(Ee);const Te=new nt(Ee,this);return this.providers.set(Ee,Te),Te}getProviders(){return Array.from(this.providers.values())}}},8041:(Cn,bt,ie)=>{ie.d(bt,{$b:()=>O,Vy:()=>xt});const D=[];var O=function(Ee){return Ee[Ee.DEBUG=0]="DEBUG",Ee[Ee.VERBOSE=1]="VERBOSE",Ee[Ee.INFO=2]="INFO",Ee[Ee.WARN=3]="WARN",Ee[Ee.ERROR=4]="ERROR",Ee[Ee.SILENT=5]="SILENT",Ee}(O||{});const U={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},Oe=O.INFO,nt={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},ye=(Ee,Te,...Me)=>{if(Te<Ee.logLevel)return;const Et=(new Date).toISOString(),We=nt[Te];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${Te})`);console[We](`[${Et}]  ${Ee.name}:`,...Me)};class xt{constructor(Te){this.name=Te,this._logLevel=Oe,this._logHandler=ye,this._userLogHandler=null,D.push(this)}get logLevel(){return this._logLevel}set logLevel(Te){if(!(Te in O))throw new TypeError(`Invalid value "${Te}" assigned to \`logLevel\``);this._logLevel=Te}setLogLevel(Te){this._logLevel="string"==typeof Te?U[Te]:Te}get logHandler(){return this._logHandler}set logHandler(Te){if("function"!=typeof Te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Te}get userLogHandler(){return this._userLogHandler}set userLogHandler(Te){this._userLogHandler=Te}debug(...Te){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...Te),this._logHandler(this,O.DEBUG,...Te)}log(...Te){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...Te),this._logHandler(this,O.VERBOSE,...Te)}info(...Te){this._userLogHandler&&this._userLogHandler(this,O.INFO,...Te),this._logHandler(this,O.INFO,...Te)}warn(...Te){this._userLogHandler&&this._userLogHandler(this,O.WARN,...Te),this._logHandler(this,O.WARN,...Te)}error(...Te){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...Te),this._logHandler(this,O.ERROR,...Te)}}},2214:(Cn,bt,ie)=>{ie.d(bt,{Dk:()=>D.Dk,KO:()=>D.KO,Sx:()=>D.Sx,Wp:()=>D.Wp});var D=ie(7852);(0,D.KO)("firebase","10.12.2","app")},6114:(Cn,bt,ie)=>{ie.d(bt,{Dt:()=>yu,HF:()=>gc,eJ:()=>Wc,xI:()=>Of,hg:()=>os,x9:()=>wu,df:()=>Qu});var D=ie(467),O=ie(7852),U=ie(1076),Oe=ie(8041),nt=ie(1635),ye=ie(1362);const It=function Et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ut=new U.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Wt=new Oe.Vy("@firebase/auth");function An(M,...E){Wt.logLevel<=Oe.$b.ERROR&&Wt.error(`Auth (${O.MF}): ${M}`,...E)}function Pt(M,...E){throw Mt(M,...E)}function Je(M,...E){return Mt(M,...E)}function it(M,E,A){const k=Object.assign(Object.assign({},It()),{[E]:A});return new U.FA("auth","Firebase",k).create(E,{appName:M.name})}function _t(M){return it(M,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mt(M,...E){if("string"!=typeof M){const A=E[0],k=[...E.slice(1)];return k[0]&&(k[0].appName=M.name),M._errorFactory.create(A,...k)}return Ut.create(M,...E)}function He(M,E,...A){if(!M)throw Mt(E,...A)}function Yt(M){const E="INTERNAL ASSERTION FAILED: "+M;throw An(E),new Error(E)}function yn(M,E){M||Yt(E)}function Vr(){var M;return typeof self<"u"&&(null===(M=self.location)||void 0===M?void 0:M.href)||""}function vt(){var M;return typeof self<"u"&&(null===(M=self.location)||void 0===M?void 0:M.protocol)||null}class ki{constructor(E,A){this.shortDelay=E,this.longDelay=A,yn(A>E,"Short delay should be less than long delay!"),this.isMobile=(0,U.jZ)()||(0,U.lV)()}get(){return function en(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ui(){return"http:"===vt()||"https:"===vt()}()||(0,U.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ne(M,E){yn(M.emulator,"Emulator should always be set here");const{url:A}=M.emulator;return E?`${A}${E.startsWith("/")?E.slice(1):E}`:A}class Ue{static initialize(E,A,k){this.fetchImpl=E,A&&(this.headersImpl=A),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const At={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Le=new ki(3e4,6e4);function le(M,E){return M.tenantId&&!E.tenantId?Object.assign(Object.assign({},E),{tenantId:M.tenantId}):E}function pe(M,E,A,k){return yt.apply(this,arguments)}function yt(){return(yt=(0,D.A)(function*(M,E,A,k,te={}){return Gt(M,te,(0,D.A)(function*(){let ce={},Ge={};k&&("GET"===E?Ge=k:ce={body:JSON.stringify(k)});const ot=(0,U.Am)(Object.assign({key:M.config.apiKey},Ge)).slice(1),Vt=yield M._getAdditionalHeaders();return Vt["Content-Type"]="application/json",M.languageCode&&(Vt["X-Firebase-Locale"]=M.languageCode),Ue.fetch()(Rr(M,M.config.apiHost,A,ot),Object.assign({method:E,headers:Vt,referrerPolicy:"no-referrer"},ce))}))})).apply(this,arguments)}function Gt(M,E,A){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,D.A)(function*(M,E,A){M._canInitEmulator=!1;const k=Object.assign(Object.assign({},At),E);try{const te=new pr(M),ce=yield Promise.race([A(),te.promise]);te.clearNetworkTimeout();const Ge=yield ce.json();if("needConfirmation"in Ge)throw Lr(M,"account-exists-with-different-credential",Ge);if(ce.ok&&!("errorMessage"in Ge))return Ge;{const ot=ce.ok?Ge.errorMessage:Ge.error.message,[Vt,En]=ot.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Vt)throw Lr(M,"credential-already-in-use",Ge);if("EMAIL_EXISTS"===Vt)throw Lr(M,"email-already-in-use",Ge);if("USER_DISABLED"===Vt)throw Lr(M,"user-disabled",Ge);const In=k[Vt]||Vt.toLowerCase().replace(/[_\s]+/g,"-");if(En)throw it(M,In,En);Pt(M,In)}}catch(te){if(te instanceof U.g)throw te;Pt(M,"network-request-failed",{message:String(te)})}})).apply(this,arguments)}function Jt(M,E,A,k){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,D.A)(function*(M,E,A,k,te={}){const ce=yield pe(M,E,A,k,te);return"mfaPendingCredential"in ce&&Pt(M,"multi-factor-auth-required",{_serverResponse:ce}),ce})).apply(this,arguments)}function Rr(M,E,A,k){const te=`${E}${A}?${k}`;return M.config.emulator?Ne(M.config,te):`${M.config.apiScheme}://${te}`}function no(M){switch(M){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pr{constructor(E){this.auth=E,this.timer=null,this.promise=new Promise((A,k)=>{this.timer=setTimeout(()=>k(Je(this.auth,"network-request-failed")),Le.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lr(M,E,A){const k={appName:M.name};A.email&&(k.email=A.email),A.phoneNumber&&(k.phoneNumber=A.phoneNumber);const te=Je(M,E,k);return te.customData._tokenResponse=A,te}function un(M){return void 0!==M&&void 0!==M.enterprise}class Hr{constructor(E){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===E.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=E.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=E.recaptchaEnforcementState}getProviderEnforcementState(E){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const A of this.recaptchaEnforcementState)if(A.provider&&A.provider===E)return no(A.enforcementState);return null}isProviderEnabled(E){return"ENFORCE"===this.getProviderEnforcementState(E)||"AUDIT"===this.getProviderEnforcementState(E)}}function ni(M,E){return ur.apply(this,arguments)}function ur(){return(ur=(0,D.A)(function*(M,E){return pe(M,"GET","/v2/recaptchaConfig",le(M,E))})).apply(this,arguments)}function Io(){return(Io=(0,D.A)(function*(M,E){return pe(M,"POST","/v1/accounts:delete",E)})).apply(this,arguments)}function on(M,E){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,D.A)(function*(M,E){return pe(M,"POST","/v1/accounts:lookup",E)})).apply(this,arguments)}function Gr(M){if(M)try{const E=new Date(Number(M));if(!isNaN(E.getTime()))return E.toUTCString()}catch{}}function ci(){return(ci=(0,D.A)(function*(M,E=!1){const A=(0,U.Ku)(M),k=yield A.getIdToken(E),te=$r(k);He(te&&te.exp&&te.auth_time&&te.iat,A.auth,"internal-error");const ce="object"==typeof te.firebase?te.firebase:void 0,Ge=ce?.sign_in_provider;return{claims:te,token:k,authTime:Gr(li(te.auth_time)),issuedAtTime:Gr(li(te.iat)),expirationTime:Gr(li(te.exp)),signInProvider:Ge||null,signInSecondFactor:ce?.sign_in_second_factor||null}})).apply(this,arguments)}function li(M){return 1e3*Number(M)}function $r(M){const[E,A,k]=M.split(".");if(void 0===E||void 0===A||void 0===k)return An("JWT malformed, contained fewer than 3 sections"),null;try{const te=(0,U.u)(A);return te?JSON.parse(te):(An("Failed to decode base64 JWT payload"),null)}catch(te){return An("Caught error parsing JWT payload as JSON",te?.toString()),null}}function Li(M){const E=$r(M);return He(E,"internal-error"),He(typeof E.exp<"u","internal-error"),He(typeof E.iat<"u","internal-error"),Number(E.exp)-Number(E.iat)}function Un(M,E){return Po.apply(this,arguments)}function Po(){return(Po=(0,D.A)(function*(M,E,A=!1){if(A)return E;try{return yield E}catch(k){throw k instanceof U.g&&function zn({code:M}){return"auth/user-disabled"===M||"auth/user-token-expired"===M}(k)&&M.auth.currentUser===M&&(yield M.auth.signOut()),k}})).apply(this,arguments)}class gi{constructor(E){this.user=E,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(E){var A;if(E){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const te=(null!==(A=this.user.stsTokenManager.expirationTime)&&void 0!==A?A:0)-Date.now()-3e5;return Math.max(0,te)}}schedule(E=!1){var A=this;if(!this.isRunning)return;const k=this.getInterval(E);this.timerId=setTimeout((0,D.A)(function*(){yield A.iteration()}),k)}iteration(){var E=this;return(0,D.A)(function*(){try{yield E.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===A?.code&&E.schedule(!0))}E.schedule()})()}}class Wo{constructor(E,A){this.createdAt=E,this.lastLoginAt=A,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gr(this.lastLoginAt),this.creationTime=Gr(this.createdAt)}_copy(E){this.createdAt=E.createdAt,this.lastLoginAt=E.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yr(M){return Si.apply(this,arguments)}function Si(){return(Si=(0,D.A)(function*(M){var E;const A=M.auth,k=yield M.getIdToken(),te=yield Un(M,on(A,{idToken:k}));He(te?.users.length,A,"internal-error");const ce=te.users[0];M._notifyReloadListener(ce);const Ge=null!==(E=ce.providerUserInfo)&&void 0!==E&&E.length?Ae(ce.providerUserInfo):[],ot=function tt(M,E){return[...M.filter(k=>!E.some(te=>te.providerId===k.providerId)),...E]}(M.providerData,Ge),In=!!M.isAnonymous&&!(M.email&&ce.passwordHash||ot?.length),gr={uid:ce.localId,displayName:ce.displayName||null,photoURL:ce.photoUrl||null,email:ce.email||null,emailVerified:ce.emailVerified||!1,phoneNumber:ce.phoneNumber||null,tenantId:ce.tenantId||null,providerData:ot,metadata:new Wo(ce.createdAt,ce.lastLoginAt),isAnonymous:In};Object.assign(M,gr)})).apply(this,arguments)}function fe(){return(fe=(0,D.A)(function*(M){const E=(0,U.Ku)(M);yield Yr(E),yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)})).apply(this,arguments)}function Ae(M){return M.map(E=>{var{providerId:A}=E,k=(0,nt.Tt)(E,["providerId"]);return{providerId:A,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}function de(){return(de=(0,D.A)(function*(M,E){const A=yield Gt(M,{},(0,D.A)(function*(){const k=(0,U.Am)({grant_type:"refresh_token",refresh_token:E}).slice(1),{tokenApiHost:te,apiKey:ce}=M.config,Ge=Rr(M,te,"/v1/token",`key=${ce}`),ot=yield M._getAdditionalHeaders();return ot["Content-Type"]="application/x-www-form-urlencoded",Ue.fetch()(Ge,{method:"POST",headers:ot,body:k})}));return{accessToken:A.access_token,expiresIn:A.expires_in,refreshToken:A.refresh_token}})).apply(this,arguments)}function Se(){return(Se=(0,D.A)(function*(M,E){return pe(M,"POST","/v2/accounts:revokeToken",le(M,E))})).apply(this,arguments)}class pt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(E){He(E.idToken,"internal-error"),He(typeof E.idToken<"u","internal-error"),He(typeof E.refreshToken<"u","internal-error");const A="expiresIn"in E&&typeof E.expiresIn<"u"?Number(E.expiresIn):Li(E.idToken);this.updateTokensAndExpiration(E.idToken,E.refreshToken,A)}updateFromIdToken(E){He(0!==E.length,"internal-error");const A=Li(E);this.updateTokensAndExpiration(E,null,A)}getToken(E,A=!1){var k=this;return(0,D.A)(function*(){return A||!k.accessToken||k.isExpired?(He(k.refreshToken,E,"user-token-expired"),k.refreshToken?(yield k.refresh(E,k.refreshToken),k.accessToken):null):k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(E,A){var k=this;return(0,D.A)(function*(){const{accessToken:te,refreshToken:ce,expiresIn:Ge}=yield function Qe(M,E){return de.apply(this,arguments)}(E,A);k.updateTokensAndExpiration(te,ce,Number(Ge))})()}updateTokensAndExpiration(E,A,k){this.refreshToken=A||null,this.accessToken=E||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(E,A){const{refreshToken:k,accessToken:te,expirationTime:ce}=A,Ge=new pt;return k&&(He("string"==typeof k,"internal-error",{appName:E}),Ge.refreshToken=k),te&&(He("string"==typeof te,"internal-error",{appName:E}),Ge.accessToken=te),ce&&(He("number"==typeof ce,"internal-error",{appName:E}),Ge.expirationTime=ce),Ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(E){this.accessToken=E.accessToken,this.refreshToken=E.refreshToken,this.expirationTime=E.expirationTime}_clone(){return Object.assign(new pt,this.toJSON())}_performRefresh(){return Yt("not implemented")}}function qe(M,E){He("string"==typeof M||typeof M>"u","internal-error",{appName:E})}class qt{constructor(E){var{uid:A,auth:k,stsTokenManager:te}=E,ce=(0,nt.Tt)(E,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=A,this.auth=k,this.stsTokenManager=te,this.accessToken=te.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.emailVerified=ce.emailVerified||!1,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.tenantId=ce.tenantId||null,this.providerData=ce.providerData?[...ce.providerData]:[],this.metadata=new Wo(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(E){var A=this;return(0,D.A)(function*(){const k=yield Un(A,A.stsTokenManager.getToken(A.auth,E));return He(k,A.auth,"internal-error"),A.accessToken!==k&&(A.accessToken=k,yield A.auth._persistUserIfCurrent(A),A.auth._notifyListenersIfCurrent(A)),k})()}getIdTokenResult(E){return function Mr(M){return ci.apply(this,arguments)}(this,E)}reload(){return function lr(M){return fe.apply(this,arguments)}(this)}_assign(E){this!==E&&(He(this.uid===E.uid,this.auth,"internal-error"),this.displayName=E.displayName,this.photoURL=E.photoURL,this.email=E.email,this.emailVerified=E.emailVerified,this.phoneNumber=E.phoneNumber,this.isAnonymous=E.isAnonymous,this.tenantId=E.tenantId,this.providerData=E.providerData.map(A=>Object.assign({},A)),this.metadata._copy(E.metadata),this.stsTokenManager._assign(E.stsTokenManager))}_clone(E){const A=new qt(Object.assign(Object.assign({},this),{auth:E,stsTokenManager:this.stsTokenManager._clone()}));return A.metadata._copy(this.metadata),A}_onReload(E){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=E,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(E){this.reloadListener?this.reloadListener(E):this.reloadUserInfo=E}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(E,A=!1){var k=this;return(0,D.A)(function*(){let te=!1;E.idToken&&E.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(E),te=!0),A&&(yield Yr(k)),yield k.auth._persistUserIfCurrent(k),te&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var E=this;return(0,D.A)(function*(){if((0,O.xZ)(E.auth.app))return Promise.reject(_t(E.auth));const A=yield E.getIdToken();return yield Un(E,function rn(M,E){return Io.apply(this,arguments)}(E.auth,{idToken:A})),E.stsTokenManager.clearRefreshToken(),E.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(E=>Object.assign({},E)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(E,A){var k,te,ce,Ge,ot,Vt,En,In;const gr=null!==(k=A.displayName)&&void 0!==k?k:void 0,hs=null!==(te=A.email)&&void 0!==te?te:void 0,nc=null!==(ce=A.phoneNumber)&&void 0!==ce?ce:void 0,Dl=null!==(Ge=A.photoURL)&&void 0!==Ge?Ge:void 0,Pf=null!==(ot=A.tenantId)&&void 0!==ot?ot:void 0,Ua=null!==(Vt=A._redirectEventId)&&void 0!==Vt?Vt:void 0,td=null!==(En=A.createdAt)&&void 0!==En?En:void 0,Oh=null!==(In=A.lastLoginAt)&&void 0!==In?In:void 0,{uid:xr,emailVerified:Rl,isAnonymous:ou,providerData:eo,stsTokenManager:nd}=A;He(xr&&nd,E,"internal-error");const rc=pt.fromJSON(this.name,nd);He("string"==typeof xr,E,"internal-error"),qe(gr,E.name),qe(hs,E.name),He("boolean"==typeof Rl,E,"internal-error"),He("boolean"==typeof ou,E,"internal-error"),qe(nc,E.name),qe(Dl,E.name),qe(Pf,E.name),qe(Ua,E.name),qe(td,E.name),qe(Oh,E.name);const su=new qt({uid:xr,auth:E,email:hs,emailVerified:Rl,displayName:gr,isAnonymous:ou,photoURL:Dl,phoneNumber:nc,tenantId:Pf,stsTokenManager:rc,createdAt:td,lastLoginAt:Oh});return eo&&Array.isArray(eo)&&(su.providerData=eo.map(fr=>Object.assign({},fr))),Ua&&(su._redirectEventId=Ua),su}static _fromIdTokenResponse(E,A,k=!1){return(0,D.A)(function*(){const te=new pt;te.updateFromServerResponse(A);const ce=new qt({uid:A.localId,auth:E,stsTokenManager:te,isAnonymous:k});return yield Yr(ce),ce})()}static _fromGetAccountInfoResponse(E,A,k){return(0,D.A)(function*(){const te=A.users[0];He(void 0!==te.localId,"internal-error");const ce=void 0!==te.providerUserInfo?Ae(te.providerUserInfo):[],Ge=!(te.email&&te.passwordHash||ce?.length),ot=new pt;ot.updateFromIdToken(k);const Vt=new qt({uid:te.localId,auth:E,stsTokenManager:ot,isAnonymous:Ge}),En={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:ce,metadata:new Wo(te.createdAt,te.lastLoginAt),isAnonymous:!(te.email&&te.passwordHash||ce?.length)};return Object.assign(Vt,En),Vt})()}}const wn=new Map;function jn(M){yn(M instanceof Function,"Expected a class definition");let E=wn.get(M);return E?(yn(E instanceof M,"Instance stored in cache mismatched with class"),E):(E=new M,wn.set(M,E),E)}const yr=(()=>{class M{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,D.A)(function*(){return!0})()}_set(A,k){var te=this;return(0,D.A)(function*(){te.storage[A]=k})()}_get(A){var k=this;return(0,D.A)(function*(){const te=k.storage[A];return void 0===te?null:te})()}_remove(A){var k=this;return(0,D.A)(function*(){delete k.storage[A]})()}_addListener(A,k){}_removeListener(A,k){}}return M.type="NONE",M})();function ri(M,E,A){return`firebase:${M}:${E}:${A}`}class Wn{constructor(E,A,k){this.persistence=E,this.auth=A,this.userKey=k;const{config:te,name:ce}=this.auth;this.fullUserKey=ri(this.userKey,te.apiKey,ce),this.fullPersistenceKey=ri("persistence",te.apiKey,ce),this.boundEventHandler=A._onStorageEvent.bind(A),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(E){return this.persistence._set(this.fullUserKey,E.toJSON())}getCurrentUser(){var E=this;return(0,D.A)(function*(){const A=yield E.persistence._get(E.fullUserKey);return A?qt._fromJSON(E.auth,A):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(E){var A=this;return(0,D.A)(function*(){if(A.persistence===E)return;const k=yield A.getCurrentUser();return yield A.removeCurrentUser(),A.persistence=E,k?A.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(E,A,k="authUser"){return(0,D.A)(function*(){if(!A.length)return new Wn(jn(yr),E,k);const te=(yield Promise.all(A.map(function(){var En=(0,D.A)(function*(In){if(yield In._isAvailable())return In});return function(In){return En.apply(this,arguments)}}()))).filter(En=>En);let ce=te[0]||jn(yr);const Ge=ri(k,E.config.apiKey,E.name);let ot=null;for(const En of A)try{const In=yield En._get(Ge);if(In){const gr=qt._fromJSON(E,In);En!==ce&&(ot=gr),ce=En;break}}catch{}const Vt=te.filter(En=>En._shouldAllowMigration);return ce._shouldAllowMigration&&Vt.length?(ce=Vt[0],ot&&(yield ce._set(Ge,ot.toJSON())),yield Promise.all(A.map(function(){var En=(0,D.A)(function*(In){if(In!==ce)try{yield In._remove(Ge)}catch{}});return function(In){return En.apply(this,arguments)}}())),new Wn(ce,E,k)):new Wn(ce,E,k)})()}}function Vi(M){const E=M.toLowerCase();if(E.includes("opera/")||E.includes("opr/")||E.includes("opios/"))return"Opera";if(mo(E))return"IEMobile";if(E.includes("msie")||E.includes("trident/"))return"IE";if(E.includes("edge/"))return"Edge";if(Br(E))return"Firefox";if(E.includes("silk/"))return"Silk";if(ms(E))return"Blackberry";if(pu(E))return"Webos";if(ii(E))return"Safari";if((E.includes("chrome/")||Ns(E))&&!E.includes("edge/"))return"Chrome";if(so(E))return"Android";{const k=M.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===k?.length)return k[1]}return"Other"}function Br(M=(0,U.ZQ)()){return/firefox\//i.test(M)}function ii(M=(0,U.ZQ)()){const E=M.toLowerCase();return E.includes("safari/")&&!E.includes("chrome/")&&!E.includes("crios/")&&!E.includes("android")}function Ns(M=(0,U.ZQ)()){return/crios\//i.test(M)}function mo(M=(0,U.ZQ)()){return/iemobile/i.test(M)}function so(M=(0,U.ZQ)()){return/android/i.test(M)}function ms(M=(0,U.ZQ)()){return/blackberry/i.test(M)}function pu(M=(0,U.ZQ)()){return/webos/i.test(M)}function Sa(M=(0,U.ZQ)()){return/iphone|ipad|ipod/i.test(M)||/macintosh/i.test(M)&&/mobile/i.test(M)}function St(M=(0,U.ZQ)()){return Sa(M)||so(M)||pu(M)||ms(M)||/windows phone/i.test(M)||mo(M)}function Fn(M,E=[]){let A;switch(M){case"Browser":A=Vi((0,U.ZQ)());break;case"Worker":A=`${Vi((0,U.ZQ)())}-${M}`;break;default:A=M}const k=E.length?E.join(","):"FirebaseCore-web";return`${A}/JsCore/${O.MF}/${k}`}class Dn{constructor(E){this.auth=E,this.queue=[]}pushCallback(E,A){const k=ce=>new Promise((Ge,ot)=>{try{Ge(E(ce))}catch(Vt){ot(Vt)}});k.onAbort=A,this.queue.push(k);const te=this.queue.length-1;return()=>{this.queue[te]=()=>Promise.resolve()}}runMiddleware(E){var A=this;return(0,D.A)(function*(){if(A.auth.currentUser===E)return;const k=[];try{for(const te of A.queue)yield te(E),te.onAbort&&k.push(te.onAbort)}catch(te){k.reverse();for(const ce of k)try{ce()}catch{}throw A.auth._errorFactory.create("login-blocked",{originalMessage:te?.message})}})()}}function Cr(){return(Cr=(0,D.A)(function*(M,E={}){return pe(M,"GET","/v2/passwordPolicy",le(M,E))})).apply(this,arguments)}class Gi{constructor(E){var A,k,te,ce;const Ge=E.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(A=Ge.minPasswordLength)&&void 0!==A?A:6,Ge.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ge.maxPasswordLength),void 0!==Ge.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ge.containsLowercaseCharacter),void 0!==Ge.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ge.containsUppercaseCharacter),void 0!==Ge.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ge.containsNumericCharacter),void 0!==Ge.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ge.containsNonAlphanumericCharacter),this.enforcementState=E.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(te=null===(k=E.allowedNonAlphanumericCharacters)||void 0===k?void 0:k.join(""))&&void 0!==te?te:"",this.forceUpgradeOnSignin=null!==(ce=E.forceUpgradeOnSignin)&&void 0!==ce&&ce,this.schemaVersion=E.schemaVersion}validatePassword(E){var A,k,te,ce,Ge,ot;const Vt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(E,Vt),this.validatePasswordCharacterOptions(E,Vt),Vt.isValid&&(Vt.isValid=null===(A=Vt.meetsMinPasswordLength)||void 0===A||A),Vt.isValid&&(Vt.isValid=null===(k=Vt.meetsMaxPasswordLength)||void 0===k||k),Vt.isValid&&(Vt.isValid=null===(te=Vt.containsLowercaseLetter)||void 0===te||te),Vt.isValid&&(Vt.isValid=null===(ce=Vt.containsUppercaseLetter)||void 0===ce||ce),Vt.isValid&&(Vt.isValid=null===(Ge=Vt.containsNumericCharacter)||void 0===Ge||Ge),Vt.isValid&&(Vt.isValid=null===(ot=Vt.containsNonAlphanumericCharacter)||void 0===ot||ot),Vt}validatePasswordLengthOptions(E,A){const k=this.customStrengthOptions.minPasswordLength,te=this.customStrengthOptions.maxPasswordLength;k&&(A.meetsMinPasswordLength=E.length>=k),te&&(A.meetsMaxPasswordLength=E.length<=te)}validatePasswordCharacterOptions(E,A){let k;this.updatePasswordCharacterOptionsStatuses(A,!1,!1,!1,!1);for(let te=0;te<E.length;te++)k=E.charAt(te),this.updatePasswordCharacterOptionsStatuses(A,k>="a"&&k<="z",k>="A"&&k<="Z",k>="0"&&k<="9",this.allowedNonAlphanumericCharacters.includes(k))}updatePasswordCharacterOptionsStatuses(E,A,k,te,ce){this.customStrengthOptions.containsLowercaseLetter&&(E.containsLowercaseLetter||(E.containsLowercaseLetter=A)),this.customStrengthOptions.containsUppercaseLetter&&(E.containsUppercaseLetter||(E.containsUppercaseLetter=k)),this.customStrengthOptions.containsNumericCharacter&&(E.containsNumericCharacter||(E.containsNumericCharacter=te)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(E.containsNonAlphanumericCharacter||(E.containsNonAlphanumericCharacter=ce))}}class No{constructor(E,A,k,te){this.app=E,this.heartbeatServiceProvider=A,this.appCheckServiceProvider=k,this.config=te,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gu(this),this.idTokenSubscription=new gu(this),this.beforeStateQueue=new Dn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ut,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=E.name,this.clientVersion=te.sdkClientVersion}_initializeWithPersistence(E,A){var k=this;return A&&(this._popupRedirectResolver=jn(A)),this._initializationPromise=this.queue((0,D.A)(function*(){var te,ce;if(!k._deleted&&(k.persistenceManager=yield Wn.create(k,E),!k._deleted)){if(null!==(te=k._popupRedirectResolver)&&void 0!==te&&te._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch{}yield k.initializeCurrentUser(A),k.lastNotifiedUid=(null===(ce=k.currentUser)||void 0===ce?void 0:ce.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var E=this;return(0,D.A)(function*(){if(E._deleted)return;const A=yield E.assertedPersistence.getCurrentUser();if(E.currentUser||A){if(E.currentUser&&A&&E.currentUser.uid===A.uid)return E._currentUser._assign(A),void(yield E.currentUser.getIdToken());yield E._updateCurrentUser(A,!0)}})()}initializeCurrentUserFromIdToken(E){var A=this;return(0,D.A)(function*(){try{const k=yield on(A,{idToken:E}),te=yield qt._fromGetAccountInfoResponse(A,k,E);yield A.directlySetCurrentUser(te)}catch(k){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",k),yield A.directlySetCurrentUser(null)}})()}initializeCurrentUser(E){var A=this;return(0,D.A)(function*(){var k;if((0,O.xZ)(A.app)){const ot=A.app.settings.authIdToken;return ot?new Promise(Vt=>{setTimeout(()=>A.initializeCurrentUserFromIdToken(ot).then(Vt,Vt))}):A.directlySetCurrentUser(null)}const te=yield A.assertedPersistence.getCurrentUser();let ce=te,Ge=!1;if(E&&A.config.authDomain){yield A.getOrInitRedirectPersistenceManager();const ot=null===(k=A.redirectUser)||void 0===k?void 0:k._redirectEventId,Vt=ce?._redirectEventId,En=yield A.tryRedirectSignIn(E);(!ot||ot===Vt)&&En?.user&&(ce=En.user,Ge=!0)}if(!ce)return A.directlySetCurrentUser(null);if(!ce._redirectEventId){if(Ge)try{yield A.beforeStateQueue.runMiddleware(ce)}catch(ot){ce=te,A._popupRedirectResolver._overrideRedirectResult(A,()=>Promise.reject(ot))}return ce?A.reloadAndSetCurrentUserOrClear(ce):A.directlySetCurrentUser(null)}return He(A._popupRedirectResolver,A,"argument-error"),yield A.getOrInitRedirectPersistenceManager(),A.redirectUser&&A.redirectUser._redirectEventId===ce._redirectEventId?A.directlySetCurrentUser(ce):A.reloadAndSetCurrentUserOrClear(ce)})()}tryRedirectSignIn(E){var A=this;return(0,D.A)(function*(){let k=null;try{k=yield A._popupRedirectResolver._completeRedirectFn(A,E,!0)}catch{yield A._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(E){var A=this;return(0,D.A)(function*(){try{yield Yr(E)}catch(k){if("auth/network-request-failed"!==k?.code)return A.directlySetCurrentUser(null)}return A.directlySetCurrentUser(E)})()}useDeviceLanguage(){this.languageCode=function Fr(){if(typeof navigator>"u")return null;const M=navigator;return M.languages&&M.languages[0]||M.language||null}()}_delete(){var E=this;return(0,D.A)(function*(){E._deleted=!0})()}updateCurrentUser(E){var A=this;return(0,D.A)(function*(){if((0,O.xZ)(A.app))return Promise.reject(_t(A));const k=E?(0,U.Ku)(E):null;return k&&He(k.auth.config.apiKey===A.config.apiKey,A,"invalid-user-token"),A._updateCurrentUser(k&&k._clone(A))})()}_updateCurrentUser(E,A=!1){var k=this;return(0,D.A)(function*(){if(!k._deleted)return E&&He(k.tenantId===E.tenantId,k,"tenant-id-mismatch"),A||(yield k.beforeStateQueue.runMiddleware(E)),k.queue((0,D.A)(function*(){yield k.directlySetCurrentUser(E),k.notifyAuthListeners()}))})()}signOut(){var E=this;return(0,D.A)(function*(){return(0,O.xZ)(E.app)?Promise.reject(_t(E)):(yield E.beforeStateQueue.runMiddleware(null),(E.redirectPersistenceManager||E._popupRedirectResolver)&&(yield E._setRedirectUser(null)),E._updateCurrentUser(null,!0))})()}setPersistence(E){var A=this;return(0,O.xZ)(this.app)?Promise.reject(_t(this)):this.queue((0,D.A)(function*(){yield A.assertedPersistence.setPersistence(jn(E))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(E){var A=this;return(0,D.A)(function*(){A._getPasswordPolicyInternal()||(yield A._updatePasswordPolicy());const k=A._getPasswordPolicyInternal();return k.schemaVersion!==A.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(A._errorFactory.create("unsupported-password-policy-schema-version",{})):k.validatePassword(E)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var E=this;return(0,D.A)(function*(){const A=yield function Nn(M){return Cr.apply(this,arguments)}(E),k=new Gi(A);null===E.tenantId?E._projectPasswordPolicy=k:E._tenantPasswordPolicies[E.tenantId]=k})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(E){this._errorFactory=new U.FA("auth","Firebase",E())}onAuthStateChanged(E,A,k){return this.registerStateListener(this.authStateSubscription,E,A,k)}beforeAuthStateChanged(E,A){return this.beforeStateQueue.pushCallback(E,A)}onIdTokenChanged(E,A,k){return this.registerStateListener(this.idTokenSubscription,E,A,k)}authStateReady(){return new Promise((E,A)=>{if(this.currentUser)E();else{const k=this.onAuthStateChanged(()=>{k(),E()},A)}})}revokeAccessToken(E){var A=this;return(0,D.A)(function*(){if(A.currentUser){const k=yield A.currentUser.getIdToken(),te={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:E,idToken:k};null!=A.tenantId&&(te.tenantId=A.tenantId),yield function ge(M,E){return Se.apply(this,arguments)}(A,te)}})()}toJSON(){var E;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(E=this._currentUser)||void 0===E?void 0:E.toJSON()}}_setRedirectUser(E,A){var k=this;return(0,D.A)(function*(){const te=yield k.getOrInitRedirectPersistenceManager(A);return null===E?te.removeCurrentUser():te.setCurrentUser(E)})()}getOrInitRedirectPersistenceManager(E){var A=this;return(0,D.A)(function*(){if(!A.redirectPersistenceManager){const k=E&&jn(E)||A._popupRedirectResolver;He(k,A,"argument-error"),A.redirectPersistenceManager=yield Wn.create(A,[jn(k._redirectPersistence)],"redirectUser"),A.redirectUser=yield A.redirectPersistenceManager.getCurrentUser()}return A.redirectPersistenceManager})()}_redirectUserForId(E){var A=this;return(0,D.A)(function*(){var k,te;return A._isInitialized&&(yield A.queue((0,D.A)(function*(){}))),(null===(k=A._currentUser)||void 0===k?void 0:k._redirectEventId)===E?A._currentUser:(null===(te=A.redirectUser)||void 0===te?void 0:te._redirectEventId)===E?A.redirectUser:null})()}_persistUserIfCurrent(E){var A=this;return(0,D.A)(function*(){if(E===A.currentUser)return A.queue((0,D.A)(function*(){return A.directlySetCurrentUser(E)}))})()}_notifyListenersIfCurrent(E){E===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var E,A;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(A=null===(E=this.currentUser)||void 0===E?void 0:E.uid)&&void 0!==A?A:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(E,A,k,te){if(this._deleted)return()=>{};const ce="function"==typeof A?A:A.next.bind(A);let Ge=!1;const ot=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(ot,this,"internal-error"),ot.then(()=>{Ge||ce(this.currentUser)}),"function"==typeof A){const Vt=E.addObserver(A,k,te);return()=>{Ge=!0,Vt()}}{const Vt=E.addObserver(A);return()=>{Ge=!0,Vt()}}}directlySetCurrentUser(E){var A=this;return(0,D.A)(function*(){A.currentUser&&A.currentUser!==E&&A._currentUser._stopProactiveRefresh(),E&&A.isProactiveRefreshEnabled&&E._startProactiveRefresh(),A.currentUser=E,E?yield A.assertedPersistence.setCurrentUser(E):yield A.assertedPersistence.removeCurrentUser()})()}queue(E){return this.operations=this.operations.then(E,E),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(E){!E||this.frameworks.includes(E)||(this.frameworks.push(E),this.frameworks.sort(),this.clientVersion=Fn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var E=this;return(0,D.A)(function*(){var A;const k={"X-Client-Version":E.clientVersion};E.app.options.appId&&(k["X-Firebase-gmpid"]=E.app.options.appId);const te=yield null===(A=E.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===A?void 0:A.getHeartbeatsHeader();te&&(k["X-Firebase-Client"]=te);const ce=yield E._getAppCheckToken();return ce&&(k["X-Firebase-AppCheck"]=ce),k})()}_getAppCheckToken(){var E=this;return(0,D.A)(function*(){var A;const k=yield null===(A=E.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===A?void 0:A.getToken();return k?.error&&function Kn(M,...E){Wt.logLevel<=Oe.$b.WARN&&Wt.warn(`Auth (${O.MF}): ${M}`,...E)}(`Error while retrieving App Check token: ${k.error}`),k?.token})()}}function Xr(M){return(0,U.Ku)(M)}class gu{constructor(E){this.auth=E,this.observer=null,this.addObserver=(0,U.tD)(A=>this.observer=A)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let aa={loadJS:()=>(0,D.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ha(M){return aa.loadJS(M)}function ua(M){return`__${M}${Math.floor(1e6*Math.random())}`}class Bi{constructor(E){this.type="recaptcha-enterprise",this.auth=Xr(E)}verify(E="verify",A=!1){var k=this;return(0,D.A)(function*(){function ce(){return ce=(0,D.A)(function*(ot){if(!A){if(null==ot.tenantId&&null!=ot._agentRecaptchaConfig)return ot._agentRecaptchaConfig.siteKey;if(null!=ot.tenantId&&void 0!==ot._tenantRecaptchaConfigs[ot.tenantId])return ot._tenantRecaptchaConfigs[ot.tenantId].siteKey}return new Promise(function(){var Vt=(0,D.A)(function*(En,In){ni(ot,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(gr=>{if(void 0!==gr.recaptchaKey){const hs=new Hr(gr);return null==ot.tenantId?ot._agentRecaptchaConfig=hs:ot._tenantRecaptchaConfigs[ot.tenantId]=hs,En(hs.siteKey)}In(new Error("recaptcha Enterprise site key undefined"))}).catch(gr=>{In(gr)})});return function(En,In){return Vt.apply(this,arguments)}}())}),ce.apply(this,arguments)}function Ge(ot,Vt,En){const In=window.grecaptcha;un(In)?In.enterprise.ready(()=>{In.enterprise.execute(ot,{action:E}).then(gr=>{Vt(gr)}).catch(()=>{Vt("NO_RECAPTCHA")})}):En(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ot,Vt)=>{(function te(ot){return ce.apply(this,arguments)})(k.auth).then(En=>{if(!A&&un(window.grecaptcha))Ge(En,ot,Vt);else{if(typeof window>"u")return void Vt(new Error("RecaptchaVerifier is only supported in browser"));let In=function Lu(){return aa.recaptchaEnterpriseScript}();0!==In.length&&(In+=En),Ha(In).then(()=>{Ge(En,ot,Vt)}).catch(gr=>{Vt(gr)})}}).catch(En=>{Vt(En)})})})()}}function Ma(M,E,A){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,D.A)(function*(M,E,A,k=!1){const te=new Bi(M);let ce;try{ce=yield te.verify(A)}catch{ce=yield te.verify(A,!0)}const Ge=Object.assign({},E);return Object.assign(Ge,k?{captchaResp:ce}:{captchaResponse:ce}),Object.assign(Ge,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ge,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ge})).apply(this,arguments)}function Yn(M,E,A,k){return Js.apply(this,arguments)}function Js(){return Js=(0,D.A)(function*(M,E,A,k){var te;if(null!==(te=M._getRecaptchaConfig())&&void 0!==te&&te.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ce=yield Ma(M,E,A,"getOobCode"===A);return k(M,ce)}return k(M,E).catch(function(){var ce=(0,D.A)(function*(Ge){if("auth/missing-recaptcha-token"===Ge.code){console.log(`${A} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ot=yield Ma(M,E,A,"getOobCode"===A);return k(M,ot)}return Promise.reject(Ge)});return function(Ge){return ce.apply(this,arguments)}}())}),Js.apply(this,arguments)}function ks(M){const E=M.indexOf(":");return E<0?"":M.substr(0,E+1)}function Ui(M){if(!M)return null;const E=Number(M);return isNaN(E)?null:E}class qo{constructor(E,A){this.providerId=E,this.signInMethod=A}toJSON(){return Yt("not implemented")}_getIdTokenResponse(E){return Yt("not implemented")}_linkToIdToken(E,A){return Yt("not implemented")}_getReauthenticationResolver(E){return Yt("not implemented")}}function Fo(M,E){return ca.apply(this,arguments)}function ca(){return(ca=(0,D.A)(function*(M,E){return pe(M,"POST","/v1/accounts:signUp",E)})).apply(this,arguments)}function Ga(M,E){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,D.A)(function*(M,E){return Jt(M,"POST","/v1/accounts:signInWithPassword",le(M,E))})).apply(this,arguments)}function _o(){return(_o=(0,D.A)(function*(M,E){return Jt(M,"POST","/v1/accounts:signInWithEmailLink",le(M,E))})).apply(this,arguments)}function rs(){return(rs=(0,D.A)(function*(M,E){return Jt(M,"POST","/v1/accounts:signInWithEmailLink",le(M,E))})).apply(this,arguments)}class la extends qo{constructor(E,A,k,te=null){super("password",k),this._email=E,this._password=A,this._tenantId=te}static _fromEmailAndPassword(E,A){return new la(E,A,"password")}static _fromEmailAndCode(E,A,k=null){return new la(E,A,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(E){const A="string"==typeof E?JSON.parse(E):E;if(A?.email&&A?.password){if("password"===A.signInMethod)return this._fromEmailAndPassword(A.email,A.password);if("emailLink"===A.signInMethod)return this._fromEmailAndCode(A.email,A.password,A.tenantId)}return null}_getIdTokenResponse(E){var A=this;return(0,D.A)(function*(){switch(A.signInMethod){case"password":return Yn(E,{returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ga);case"emailLink":return function _u(M,E){return _o.apply(this,arguments)}(E,{email:A._email,oobCode:A._password});default:Pt(E,"internal-error")}})()}_linkToIdToken(E,A){var k=this;return(0,D.A)(function*(){switch(k.signInMethod){case"password":return Yn(E,{idToken:A,returnSecureToken:!0,email:k._email,password:k._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fo);case"emailLink":return function Na(M,E){return rs.apply(this,arguments)}(E,{idToken:A,email:k._email,oobCode:k._password});default:Pt(E,"internal-error")}})()}_getReauthenticationResolver(E){return this._getIdTokenResponse(E)}}function vo(M,E){return za.apply(this,arguments)}function za(){return(za=(0,D.A)(function*(M,E){return Jt(M,"POST","/v1/accounts:signInWithIdp",le(M,E))})).apply(this,arguments)}class Xo extends qo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(E){const A=new Xo(E.providerId,E.signInMethod);return E.idToken||E.accessToken?(E.idToken&&(A.idToken=E.idToken),E.accessToken&&(A.accessToken=E.accessToken),E.nonce&&!E.pendingToken&&(A.nonce=E.nonce),E.pendingToken&&(A.pendingToken=E.pendingToken)):E.oauthToken&&E.oauthTokenSecret?(A.accessToken=E.oauthToken,A.secret=E.oauthTokenSecret):Pt("argument-error"),A}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(E){const A="string"==typeof E?JSON.parse(E):E,{providerId:k,signInMethod:te}=A,ce=(0,nt.Tt)(A,["providerId","signInMethod"]);if(!k||!te)return null;const Ge=new Xo(k,te);return Ge.idToken=ce.idToken||void 0,Ge.accessToken=ce.accessToken||void 0,Ge.secret=ce.secret,Ge.nonce=ce.nonce,Ge.pendingToken=ce.pendingToken||null,Ge}_getIdTokenResponse(E){return vo(E,this.buildRequest())}_linkToIdToken(E,A){const k=this.buildRequest();return k.idToken=A,vo(E,k)}_getReauthenticationResolver(E){const A=this.buildRequest();return A.autoCreate=!1,vo(E,A)}buildRequest(){const E={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)E.pendingToken=this.pendingToken;else{const A={};this.idToken&&(A.id_token=this.idToken),this.accessToken&&(A.access_token=this.accessToken),this.secret&&(A.oauth_token_secret=this.secret),A.providerId=this.providerId,this.nonce&&!this.pendingToken&&(A.nonce=this.nonce),E.postBody=(0,U.Am)(A)}return E}}class da{constructor(E){var A,k,te,ce,Ge,ot;const Vt=(0,U.I9)((0,U.hp)(E)),En=null!==(A=Vt.apiKey)&&void 0!==A?A:null,In=null!==(k=Vt.oobCode)&&void 0!==k?k:null,gr=function dr(M){switch(M){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(te=Vt.mode)&&void 0!==te?te:null);He(En&&In&&gr,"argument-error"),this.apiKey=En,this.operation=gr,this.code=In,this.continueUrl=null!==(ce=Vt.continueUrl)&&void 0!==ce?ce:null,this.languageCode=null!==(Ge=Vt.languageCode)&&void 0!==Ge?Ge:null,this.tenantId=null!==(ot=Vt.tenantId)&&void 0!==ot?ot:null}static parseLink(E){const A=function Fs(M){const E=(0,U.I9)((0,U.hp)(M)).link,A=E?(0,U.I9)((0,U.hp)(E)).deep_link_id:null,k=(0,U.I9)((0,U.hp)(M)).deep_link_id;return(k?(0,U.I9)((0,U.hp)(k)).link:null)||k||A||E||M}(E);try{return new da(A)}catch{return null}}}let pc=(()=>{class M{constructor(){this.providerId=M.PROVIDER_ID}static credential(A,k){return la._fromEmailAndPassword(A,k)}static credentialWithLink(A,k){const te=da.parseLink(k);return He(te,"argument-error"),la._fromEmailAndCode(A,te.code,te.tenantId)}}return M.PROVIDER_ID="password",M.EMAIL_PASSWORD_SIGN_IN_METHOD="password",M.EMAIL_LINK_SIGN_IN_METHOD="emailLink",M})();class ro{constructor(E){this.providerId=E,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(E){this.defaultLanguageCode=E}setCustomParameters(E){return this.customParameters=E,this}getCustomParameters(){return this.customParameters}}class fa extends ro{constructor(){super(...arguments),this.scopes=[]}addScope(E){return this.scopes.includes(E)||this.scopes.push(E),this}getScopes(){return[...this.scopes]}}let gc=(()=>{class M extends fa{constructor(){super("google.com"),this.addScope("profile")}static credential(A,k){return Xo._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GOOGLE_SIGN_IN_METHOD,idToken:A,accessToken:k})}static credentialFromResult(A){return M.credentialFromTaggedObject(A)}static credentialFromError(A){return M.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A)return null;const{oauthIdToken:k,oauthAccessToken:te}=A;if(!k&&!te)return null;try{return M.credential(k,te)}catch{return null}}}return M.GOOGLE_SIGN_IN_METHOD="google.com",M.PROVIDER_ID="google.com",M})(),yu=(()=>{class M extends fa{constructor(){super("github.com")}static credential(A){return Xo._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GITHUB_SIGN_IN_METHOD,accessToken:A})}static credentialFromResult(A){return M.credentialFromTaggedObject(A)}static credentialFromError(A){return M.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A||!("oauthAccessToken"in A)||!A.oauthAccessToken)return null;try{return M.credential(A.oauthAccessToken)}catch{return null}}}return M.GITHUB_SIGN_IN_METHOD="github.com",M.PROVIDER_ID="github.com",M})();function zr(M,E){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,D.A)(function*(M,E){return Jt(M,"POST","/v1/accounts:signUp",le(M,E))})).apply(this,arguments)}class Tr{constructor(E){this.user=E.user,this.providerId=E.providerId,this._tokenResponse=E._tokenResponse,this.operationType=E.operationType}static _fromIdTokenResponse(E,A,k,te=!1){return(0,D.A)(function*(){const ce=yield qt._fromIdTokenResponse(E,k,te),Ge=is(k);return new Tr({user:ce,providerId:Ge,_tokenResponse:k,operationType:A})})()}static _forOperation(E,A,k){return(0,D.A)(function*(){yield E._updateTokensIfNecessary(k,!0);const te=is(k);return new Tr({user:E,providerId:te,_tokenResponse:k,operationType:A})})()}}function is(M){return M.providerId?M.providerId:"phoneNumber"in M?"phone":null}class ta extends U.g{constructor(E,A,k,te){var ce;super(A.code,A.message),this.operationType=k,this.user=te,Object.setPrototypeOf(this,ta.prototype),this.customData={appName:E.name,tenantId:null!==(ce=E.tenantId)&&void 0!==ce?ce:void 0,_serverResponse:A.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(E,A,k,te){return new ta(E,A,k,te)}}function Mn(M,E,A,k){return("reauthenticate"===E?A._getReauthenticationResolver(M):A._getIdTokenResponse(M)).catch(ce=>{throw"auth/multi-factor-auth-required"===ce.code?ta._fromErrorAndOperation(M,ce,E,k):ce})}function Or(){return(Or=(0,D.A)(function*(M,E,A=!1){const k=yield Un(M,E._linkToIdToken(M.auth,yield M.getIdToken()),A);return Tr._forOperation(M,"link",k)})).apply(this,arguments)}function zc(){return(zc=(0,D.A)(function*(M,E,A=!1){const{auth:k}=M;if((0,O.xZ)(k.app))return Promise.reject(_t(k));const te="reauthenticate";try{const ce=yield Un(M,Mn(k,te,E,M),A);He(ce.idToken,k,"internal-error");const Ge=$r(ce.idToken);He(Ge,k,"internal-error");const{sub:ot}=Ge;return He(M.uid===ot,k,"user-mismatch"),Tr._forOperation(M,te,ce)}catch(ce){throw"auth/user-not-found"===ce?.code&&Pt(k,"user-mismatch"),ce}})).apply(this,arguments)}function pl(M,E){return Y.apply(this,arguments)}function Y(){return(Y=(0,D.A)(function*(M,E,A=!1){if((0,O.xZ)(M.app))return Promise.reject(_t(M));const k="signIn",te=yield Mn(M,k,E),ce=yield Tr._fromIdTokenResponse(M,k,te);return A||(yield M._updateCurrentUser(ce.user)),ce})).apply(this,arguments)}function H(){return(H=(0,D.A)(function*(M,E){return pl(Xr(M),E)})).apply(this,arguments)}function js(M){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,D.A)(function*(M){const E=Xr(M);E._getPasswordPolicyInternal()&&(yield E._updatePasswordPolicy())})).apply(this,arguments)}function Wc(M,E,A){return qc.apply(this,arguments)}function qc(){return(qc=(0,D.A)(function*(M,E,A){if((0,O.xZ)(M.app))return Promise.reject(_t(M));const k=Xr(M),Ge=yield Yn(k,{returnSecureToken:!0,email:E,password:A,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zr).catch(Vt=>{throw"auth/password-does-not-meet-requirements"===Vt.code&&js(M),Vt}),ot=yield Tr._fromIdTokenResponse(k,"signIn",Ge);return yield k._updateCurrentUser(ot.user),ot})).apply(this,arguments)}function wu(M,E,A){return(0,O.xZ)(M.app)?Promise.reject(_t(M)):function Z(M,E){return H.apply(this,arguments)}((0,U.Ku)(M),pc.credential(E,A)).catch(function(){var k=(0,D.A)(function*(te){throw"auth/password-does-not-meet-requirements"===te.code&&js(M),te});return function(te){return k.apply(this,arguments)}}())}function os(M,E,A,k){return(0,U.Ku)(M).onAuthStateChanged(E,A,k)}const Kc="__sak";class cn{constructor(E,A){this.storageRetriever=E,this.type=A}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(E,A){return this.storage.setItem(E,JSON.stringify(A)),Promise.resolve()}_get(E){const A=this.storage.getItem(E);return Promise.resolve(A?JSON.parse(A):null)}_remove(E){return this.storage.removeItem(E),Promise.resolve()}get storage(){return this.storageRetriever()}}const Oi=(()=>{class M extends cn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(A,k)=>this.onStorageEvent(A,k),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ka(){const M=(0,U.ZQ)();return ii(M)||Sa(M)}()&&function tn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=St(),this._shouldAllowMigration=!0}forAllChangedKeys(A){for(const k of Object.keys(this.listeners)){const te=this.storage.getItem(k),ce=this.localCache[k];te!==ce&&A(k,ce,te)}}onStorageEvent(A,k=!1){if(!A.key)return void this.forAllChangedKeys((ot,Vt,En)=>{this.notifyListeners(ot,En)});const te=A.key;if(k?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ot=this.storage.getItem(te);if(A.newValue!==ot)null!==A.newValue?this.storage.setItem(te,A.newValue):this.storage.removeItem(te);else if(this.localCache[te]===A.newValue&&!k)return}const ce=()=>{const ot=this.storage.getItem(te);!k&&this.localCache[te]===ot||this.notifyListeners(te,ot)},Ge=this.storage.getItem(te);!function ze(){return(0,U.lT)()&&10===document.documentMode}()||Ge===A.newValue||A.newValue===A.oldValue?ce():setTimeout(ce,10)}notifyListeners(A,k){this.localCache[A]=k;const te=this.listeners[A];if(te)for(const ce of Array.from(te))ce(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((A,k,te)=>{this.onStorageEvent(new StorageEvent("storage",{key:A,oldValue:k,newValue:te}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(A,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[A]||(this.listeners[A]=new Set,this.localCache[A]=this.storage.getItem(A)),this.listeners[A].add(k)}_removeListener(A,k){this.listeners[A]&&(this.listeners[A].delete(k),0===this.listeners[A].size&&delete this.listeners[A]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(A,k){var te=()=>super._set,ce=this;return(0,D.A)(function*(){yield te().call(ce,A,k),ce.localCache[A]=JSON.stringify(k)})()}_get(A){var k=()=>super._get,te=this;return(0,D.A)(function*(){const ce=yield k().call(te,A);return te.localCache[A]=JSON.stringify(ce),ce})()}_remove(A){var k=()=>super._remove,te=this;return(0,D.A)(function*(){yield k().call(te,A),delete te.localCache[A]})()}}return M.type="LOCAL",M})(),Xc=(()=>{class M extends cn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(A,k){}_removeListener(A,k){}}return M.type="SESSION",M})();let vi=(()=>{class M{constructor(A){this.eventTarget=A,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(A){const k=this.receivers.find(ce=>ce.isListeningto(A));if(k)return k;const te=new M(A);return this.receivers.push(te),te}isListeningto(A){return this.eventTarget===A}handleEvent(A){var k=this;return(0,D.A)(function*(){const te=A,{eventId:ce,eventType:Ge,data:ot}=te.data,Vt=k.handlersMap[Ge];if(!Vt?.size)return;te.ports[0].postMessage({status:"ack",eventId:ce,eventType:Ge});const En=Array.from(Vt).map(function(){var gr=(0,D.A)(function*(hs){return hs(te.origin,ot)});return function(hs){return gr.apply(this,arguments)}}()),In=yield function Ja(M){return Promise.all(M.map(function(){var E=(0,D.A)(function*(A){try{return{fulfilled:!0,value:yield A}}catch(k){return{fulfilled:!1,reason:k}}});return function(A){return E.apply(this,arguments)}}()))}(En);te.ports[0].postMessage({status:"done",eventId:ce,eventType:Ge,response:In})})()}_subscribe(A,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[A]||(this.handlersMap[A]=new Set),this.handlersMap[A].add(k)}_unsubscribe(A,k){this.handlersMap[A]&&k&&this.handlersMap[A].delete(k),(!k||0===this.handlersMap[A].size)&&delete this.handlersMap[A],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return M.receivers=[],M})();function as(M="",E=10){let A="";for(let k=0;k<E;k++)A+=Math.floor(10*Math.random());return M+A}class Ku{constructor(E){this.target=E,this.handlers=new Set}removeMessageHandler(E){E.messageChannel&&(E.messageChannel.port1.removeEventListener("message",E.onMessage),E.messageChannel.port1.close()),this.handlers.delete(E)}_send(E,A,k=50){var te=this;return(0,D.A)(function*(){const ce=typeof MessageChannel<"u"?new MessageChannel:null;if(!ce)throw new Error("connection_unavailable");let Ge,ot;return new Promise((Vt,En)=>{const In=as("",20);ce.port1.start();const gr=setTimeout(()=>{En(new Error("unsupported_event"))},k);ot={messageChannel:ce,onMessage(hs){const nc=hs;if(nc.data.eventId===In)switch(nc.data.status){case"ack":clearTimeout(gr),Ge=setTimeout(()=>{En(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ge),Vt(nc.data.response);break;default:clearTimeout(gr),clearTimeout(Ge),En(new Error("invalid_response"))}}},te.handlers.add(ot),ce.port1.addEventListener("message",ot.onMessage),te.target.postMessage({eventType:E,eventId:In,data:A},[ce.port2])}).finally(()=>{ot&&te.removeMessageHandler(ot)})})()}}function yo(){return window}function fi(){return typeof yo().WorkerGlobalScope<"u"&&"function"==typeof yo().importScripts}function us(){return(us=(0,D.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Au="firebaseLocalStorageDb",ma="firebaseLocalStorage",Fa="fbase_key";class Ji{constructor(E){this.request=E}toPromise(){return new Promise((E,A)=>{this.request.addEventListener("success",()=>{E(this.request.result)}),this.request.addEventListener("error",()=>{A(this.request.error)})})}}function Tc(M,E){return M.transaction([ma],E?"readwrite":"readonly").objectStore(ma)}function Zc(){const M=indexedDB.open(Au,1);return new Promise((E,A)=>{M.addEventListener("error",()=>{A(M.error)}),M.addEventListener("upgradeneeded",()=>{const k=M.result;try{k.createObjectStore(ma,{keyPath:Fa})}catch(te){A(te)}}),M.addEventListener("success",(0,D.A)(function*(){const k=M.result;k.objectStoreNames.contains(ma)?E(k):(k.close(),yield function Yc(){const M=indexedDB.deleteDatabase(Au);return new Ji(M).toPromise()}(),E(yield Zc()))}))})}function wr(M,E,A){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,D.A)(function*(M,E,A){const k=Tc(M,!0).put({[Fa]:E,value:A});return new Ji(k).toPromise()})).apply(this,arguments)}function Wl(){return(Wl=(0,D.A)(function*(M,E){const A=Tc(M,!1).get(E),k=yield new Ji(A).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function gn(M,E){const A=Tc(M,!0).delete(E);return new Ji(A).toPromise()}const Od=(()=>{class M{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var A=this;return(0,D.A)(function*(){return A.db||(A.db=yield Zc()),A.db})()}_withRetries(A){var k=this;return(0,D.A)(function*(){let te=0;for(;;)try{const ce=yield k._openDb();return yield A(ce)}catch(ce){if(te++>3)throw ce;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var A=this;return(0,D.A)(function*(){return fi()?A.initializeReceiver():A.initializeSender()})()}initializeReceiver(){var A=this;return(0,D.A)(function*(){A.receiver=vi._getInstance(function zl(){return fi()?self:null}()),A.receiver._subscribe("keyChanged",function(){var k=(0,D.A)(function*(te,ce){return{keyProcessed:(yield A._poll()).includes(ce.key)}});return function(te,ce){return k.apply(this,arguments)}}()),A.receiver._subscribe("ping",function(){var k=(0,D.A)(function*(te,ce){return["keyChanged"]});return function(te,ce){return k.apply(this,arguments)}}())})()}initializeSender(){var A=this;return(0,D.A)(function*(){var k,te;if(A.activeServiceWorker=yield function Pr(){return us.apply(this,arguments)}(),!A.activeServiceWorker)return;A.sender=new Ku(A.activeServiceWorker);const ce=yield A.sender._send("ping",{},800);ce&&null!==(k=ce[0])&&void 0!==k&&k.fulfilled&&null!==(te=ce[0])&&void 0!==te&&te.value.includes("keyChanged")&&(A.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(A){var k=this;return(0,D.A)(function*(){if(k.sender&&k.activeServiceWorker&&function Qc(){var M;return(null===(M=navigator?.serviceWorker)||void 0===M?void 0:M.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:A},k.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,D.A)(function*(){try{if(!indexedDB)return!1;const A=yield Zc();return yield wr(A,Kc,"1"),yield gn(A,Kc),!0}catch{}return!1})()}_withPendingWrite(A){var k=this;return(0,D.A)(function*(){k.pendingWrites++;try{yield A()}finally{k.pendingWrites--}})()}_set(A,k){var te=this;return(0,D.A)(function*(){return te._withPendingWrite((0,D.A)(function*(){return yield te._withRetries(ce=>wr(ce,A,k)),te.localCache[A]=k,te.notifyServiceWorker(A)}))})()}_get(A){var k=this;return(0,D.A)(function*(){const te=yield k._withRetries(ce=>function ml(M,E){return Wl.apply(this,arguments)}(ce,A));return k.localCache[A]=te,te})()}_remove(A){var k=this;return(0,D.A)(function*(){return k._withPendingWrite((0,D.A)(function*(){return yield k._withRetries(te=>gn(te,A)),delete k.localCache[A],k.notifyServiceWorker(A)}))})()}_poll(){var A=this;return(0,D.A)(function*(){const k=yield A._withRetries(Ge=>{const ot=Tc(Ge,!1).getAll();return new Ji(ot).toPromise()});if(!k)return[];if(0!==A.pendingWrites)return[];const te=[],ce=new Set;if(0!==k.length)for(const{fbase_key:Ge,value:ot}of k)ce.add(Ge),JSON.stringify(A.localCache[Ge])!==JSON.stringify(ot)&&(A.notifyListeners(Ge,ot),te.push(Ge));for(const Ge of Object.keys(A.localCache))A.localCache[Ge]&&!ce.has(Ge)&&(A.notifyListeners(Ge,null),te.push(Ge));return te})()}notifyListeners(A,k){this.localCache[A]=k;const te=this.listeners[A];if(te)for(const ce of Array.from(te))ce(k)}startPolling(){var A=this;this.stopPolling(),this.pollTimer=setInterval((0,D.A)(function*(){return A._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(A,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[A]||(this.listeners[A]=new Set,this._get(A)),this.listeners[A].add(k)}_removeListener(A,k){this.listeners[A]&&(this.listeners[A].delete(k),0===this.listeners[A].size&&delete this.listeners[A]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return M.type="LOCAL",M})();function eu(M,E){return E?jn(E):(He(M._popupRedirectResolver,M,"argument-error"),M._popupRedirectResolver)}ua("rcb"),new ki(3e4,6e4);class Ih extends qo{constructor(E){super("custom","custom"),this.params=E}_getIdTokenResponse(E){return vo(E,this._buildIdpRequest())}_linkToIdToken(E,A){return vo(E,this._buildIdpRequest(A))}_getReauthenticationResolver(E){return vo(E,this._buildIdpRequest())}_buildIdpRequest(E){const A={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return E&&(A.idToken=E),A}}function ql(M){return pl(M.auth,new Ih(M),M.bypassAuthState)}function Ah(M){const{auth:E,user:A}=M;return He(A,E,"internal-error"),function To(M,E){return zc.apply(this,arguments)}(A,new Ih(M),M.bypassAuthState)}function Fd(M){return el.apply(this,arguments)}function el(){return(el=(0,D.A)(function*(M){const{auth:E,user:A}=M;return He(A,E,"internal-error"),function Bo(M,E){return Or.apply(this,arguments)}(A,new Ih(M),M.bypassAuthState)})).apply(this,arguments)}class Kl{constructor(E,A,k,te,ce=!1){this.auth=E,this.resolver=k,this.user=te,this.bypassAuthState=ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(A)?A:[A]}execute(){var E=this;return new Promise(function(){var A=(0,D.A)(function*(k,te){E.pendingPromise={resolve:k,reject:te};try{E.eventManager=yield E.resolver._initialize(E.auth),yield E.onExecution(),E.eventManager.registerConsumer(E)}catch(ce){E.reject(ce)}});return function(k,te){return A.apply(this,arguments)}}())}onAuthEvent(E){var A=this;return(0,D.A)(function*(){const{urlResponse:k,sessionId:te,postBody:ce,tenantId:Ge,error:ot,type:Vt}=E;if(ot)return void A.reject(ot);const En={auth:A.auth,requestUri:k,sessionId:te,tenantId:Ge||void 0,postBody:ce||void 0,user:A.user,bypassAuthState:A.bypassAuthState};try{A.resolve(yield A.getIdpTask(Vt)(En))}catch(In){A.reject(In)}})()}onError(E){this.reject(E)}getIdpTask(E){switch(E){case"signInViaPopup":case"signInViaRedirect":return ql;case"linkViaPopup":case"linkViaRedirect":return Fd;case"reauthViaPopup":case"reauthViaRedirect":return Ah;default:Pt(this.auth,"internal-error")}}resolve(E){yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(E),this.unregisterAndCleanUp()}reject(E){yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(E),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sc=new ki(2e3,1e4);function Qu(M,E,A){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,D.A)(function*(M,E,A){if((0,O.xZ)(M.app))return Promise.reject(Je(M,"operation-not-supported-in-this-environment"));const k=Xr(M);!function ut(M,E,A){if(!(E instanceof A))throw A.name!==E.constructor.name&&Pt(M,"argument-error"),it(M,"argument-error",`Type of ${E.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(M,E,ro);const te=eu(k,A);return new jo(k,"signInViaPopup",E,te).executeNotNull()})).apply(this,arguments)}let jo=(()=>{class M extends Kl{constructor(A,k,te,ce,Ge){super(A,k,ce,Ge),this.provider=te,this.authWindow=null,this.pollId=null,M.currentPopupAction&&M.currentPopupAction.cancel(),M.currentPopupAction=this}executeNotNull(){var A=this;return(0,D.A)(function*(){const k=yield A.execute();return He(k,A.auth,"internal-error"),k})()}onExecution(){var A=this;return(0,D.A)(function*(){yn(1===A.filter.length,"Popup operations only handle one event");const k=as();A.authWindow=yield A.resolver._openPopup(A.auth,A.provider,A.filter[0],k),A.authWindow.associatedEvent=k,A.resolver._originValidation(A.auth).catch(te=>{A.reject(te)}),A.resolver._isIframeWebStorageSupported(A.auth,te=>{te||A.reject(Je(A.auth,"web-storage-unsupported"))}),A.pollUserCancellation()})()}get eventId(){var A;return(null===(A=this.authWindow)||void 0===A?void 0:A.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,M.currentPopupAction=null}pollUserCancellation(){const A=()=>{var k,te;this.pollId=null!==(te=null===(k=this.authWindow)||void 0===k?void 0:k.window)&&void 0!==te&&te.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(A,Sc.get())};A()}}return M.currentPopupAction=null,M})();const Tu="pendingRedirect",Ba=new Map;class Af extends Kl{constructor(E,A,k=!1){super(E,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],A,void 0,k),this.eventId=null}execute(){var E=()=>super.execute,A=this;return(0,D.A)(function*(){let k=Ba.get(A.auth._key());if(!k){try{const ce=(yield function Tf(M,E){return Nr.apply(this,arguments)}(A.resolver,A.auth))?yield E().call(A):null;k=()=>Promise.resolve(ce)}catch(te){k=()=>Promise.reject(te)}Ba.set(A.auth._key(),k)}return A.bypassAuthState||Ba.set(A.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(E){var A=()=>super.onAuthEvent,k=this;return(0,D.A)(function*(){if("signInViaRedirect"===E.type)return A().call(k,E);if("unknown"!==E.type){if(E.eventId){const te=yield k.auth._redirectUserForId(E.eventId);if(te)return k.user=te,A().call(k,E);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,D.A)(function*(){})()}cleanUp(){}}function Nr(){return(Nr=(0,D.A)(function*(M,E){const A=function bu(M){return ri(Tu,M.config.apiKey,M.name)}(E),k=function tu(M){return jn(M._redirectPersistence)}(M);if(!(yield k._isAvailable()))return!1;const te="true"===(yield k._get(A));return yield k._remove(A),te})).apply(this,arguments)}function Ld(M,E){Ba.set(M._key(),E)}function Sf(M,E){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,D.A)(function*(M,E,A=!1){if((0,O.xZ)(M.app))return Promise.reject(_t(M));const k=Xr(M),te=eu(k,E),Ge=yield new Af(k,te,A).execute();return Ge&&!A&&(delete Ge.user._redirectEventId,yield k._persistUserIfCurrent(Ge.user),yield k._setRedirectUser(null,E)),Ge})).apply(this,arguments)}class Bd{constructor(E){this.auth=E,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(E){this.consumers.add(E),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,E)&&(this.sendToConsumer(this.queuedRedirectEvent,E),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(E){this.consumers.delete(E)}onEvent(E){if(this.hasEventBeenHandled(E))return!1;let A=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(E,k)&&(A=!0,this.sendToConsumer(E,k),this.saveEventToCache(E))}),this.hasHandledPotentialRedirect||!function bn(M){switch(M.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $t(M);default:return!1}}(E)||(this.hasHandledPotentialRedirect=!0,A||(this.queuedRedirectEvent=E,A=!0)),A}sendToConsumer(E,A){var k;if(E.error&&!$t(E)){const te=(null===(k=E.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";A.onError(Je(this.auth,te))}else A.onAuthEvent(E)}isEventForConsumer(E,A){const k=null===A.eventId||!!E.eventId&&E.eventId===A.eventId;return A.filter.includes(E.type)&&k}hasEventBeenHandled(E){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ji(E))}saveEventToCache(E){this.cachedEventUids.add(ji(E)),this.lastProcessedEventTime=Date.now()}}function ji(M){return[M.type,M.eventId,M.sessionId,M.tenantId].filter(E=>E).join("-")}function $t({type:M,error:E}){return"unknown"===M&&"auth/no-auth-event"===E?.code}function cs(){return(cs=(0,D.A)(function*(M,E={}){return pe(M,"GET","/v1/projects",E)})).apply(this,arguments)}const ls=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ds=/^https?/;function Ei(){return Ei=(0,D.A)(function*(M){if(M.config.emulator)return;const{authorizedDomains:E}=yield function Eo(M){return cs.apply(this,arguments)}(M);for(const A of E)try{if(Pi(A))return}catch{}Pt(M,"unauthorized-domain")}),Ei.apply(this,arguments)}function Pi(M){const E=Vr(),{protocol:A,hostname:k}=new URL(E);if(M.startsWith("chrome-extension://")){const Ge=new URL(M);return""===Ge.hostname&&""===k?"chrome-extension:"===A&&M.replace("chrome-extension://","")===E.replace("chrome-extension://",""):"chrome-extension:"===A&&Ge.hostname===k}if(!ds.test(A))return!1;if(ls.test(M))return k===M;const te=M.replace(/\./g,"\\.");return new RegExp("^(.+\\."+te+"|"+te+")$","i").test(k)}const Ni=new ki(3e4,6e4);function Zn(){const M=yo().___jsl;if(M?.H)for(const E of Object.keys(M.H))if(M.H[E].r=M.H[E].r||[],M.H[E].L=M.H[E].L||[],M.H[E].r=[...M.H[E].L],M.CP)for(let A=0;A<M.CP.length;A++)M.CP[A]=null}let ru=null;const Ci=new ki(5e3,15e3),rl="__/auth/iframe",Ju="emulator/auth/iframe",lo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Il=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dh(M){const E=M.config;He(E.authDomain,M,"auth-domain-config-required");const A=E.emulator?Ne(E,Ju):`https://${M.config.authDomain}/${rl}`,k={apiKey:E.apiKey,appName:M.name,v:O.MF},te=Il.get(M.config.apiHost);te&&(k.eid=te);const ce=M._getFrameworks();return ce.length&&(k.fw=ce.join(",")),`${A}?${(0,U.Am)(k).slice(1)}`}function Mc(){return Mc=(0,D.A)(function*(M){const E=yield function wl(M){return ru=ru||function Jl(M){return new Promise((E,A)=>{var k,te,ce;function Ge(){Zn(),gapi.load("gapi.iframes",{callback:()=>{E(gapi.iframes.getContext())},ontimeout:()=>{Zn(),A(Je(M,"network-request-failed"))},timeout:Ni.get()})}if(null!==(te=null===(k=yo().gapi)||void 0===k?void 0:k.iframes)&&void 0!==te&&te.Iframe)E(gapi.iframes.getContext());else{if(null===(ce=yo().gapi)||void 0===ce||!ce.load){const ot=ua("iframefcb");return yo()[ot]=()=>{gapi.load?Ge():A(Je(M,"network-request-failed"))},Ha(`${function mu(){return aa.gapiScript}()}?onload=${ot}`).catch(Vt=>A(Vt))}Ge()}}).catch(E=>{throw ru=null,E})}(M),ru}(M),A=yo().gapi;return He(A,M,"internal-error"),E.open({where:document.body,url:Dh(M),messageHandlersFilter:A.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lo,dontclear:!0},k=>new Promise(function(){var te=(0,D.A)(function*(ce,Ge){yield k.restyle({setHideOnLeave:!1});const ot=Je(M,"network-request-failed"),Vt=yo().setTimeout(()=>{Ge(ot)},Ci.get());function En(){yo().clearTimeout(Vt),ce(k)}k.ping(En).then(En,()=>{Ge(ot)})});return function(ce,Ge){return te.apply(this,arguments)}}()))}),Mc.apply(this,arguments)}const iu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Al{constructor(E){this.window=E,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Tl="__/auth/handler",Do="emulator/auth/handler",Ds=encodeURIComponent("fac");function zs(M,E,A,k,te,ce){return tc.apply(this,arguments)}function tc(){return(tc=(0,D.A)(function*(M,E,A,k,te,ce){He(M.config.authDomain,M,"auth-domain-config-required"),He(M.config.apiKey,M,"invalid-api-key");const Ge={apiKey:M.config.apiKey,appName:M.name,authType:A,redirectUrl:k,v:O.MF,eventId:te};if(E instanceof ro){E.setDefaultLanguage(M.languageCode),Ge.providerId=E.providerId||"",(0,U.Im)(E.getCustomParameters())||(Ge.customParameters=JSON.stringify(E.getCustomParameters()));for(const[In,gr]of Object.entries(ce||{}))Ge[In]=gr}if(E instanceof fa){const In=E.getScopes().filter(gr=>""!==gr);In.length>0&&(Ge.scopes=In.join(","))}M.tenantId&&(Ge.tid=M.tenantId);const ot=Ge;for(const In of Object.keys(ot))void 0===ot[In]&&delete ot[In];const Vt=yield M._getAppCheckToken(),En=Vt?`#${Ds}=${encodeURIComponent(Vt)}`:"";return`${function ed({config:M}){return M.emulator?Ne(M,Do):`https://${M.authDomain}/${Tl}`}(M)}?${(0,U.Am)(ot).slice(1)}${En}`})).apply(this,arguments)}const Ca="webStorageSupport",bl=class Su{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xc,this._completeRedirectFn=Sf,this._overrideRedirectResult=Ld}_openPopup(E,A,k,te){var ce=this;return(0,D.A)(function*(){var Ge;yn(null===(Ge=ce.eventManagers[E._key()])||void 0===Ge?void 0:Ge.manager,"_initialize() not called before _openPopup()");const ot=yield zs(E,A,k,Vr(),te);return function ec(M,E,A,k=500,te=600){const ce=Math.max((window.screen.availHeight-te)/2,0).toString(),Ge=Math.max((window.screen.availWidth-k)/2,0).toString();let ot="";const Vt=Object.assign(Object.assign({},iu),{width:k.toString(),height:te.toString(),top:ce,left:Ge}),En=(0,U.ZQ)().toLowerCase();A&&(ot=Ns(En)?"_blank":A),Br(En)&&(E=E||"http://localhost",Vt.scrollbars="yes");const In=Object.entries(Vt).reduce((hs,[nc,Dl])=>`${hs}${nc}=${Dl},`,"");if(function wt(M=(0,U.ZQ)()){var E;return Sa(M)&&!(null===(E=window.navigator)||void 0===E||!E.standalone)}(En)&&"_self"!==ot)return function ho(M,E){const A=document.createElement("a");A.href=M,A.target=E;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),A.dispatchEvent(k)}(E||"",ot),new Al(null);const gr=window.open(E||"",ot,In);He(gr,M,"popup-blocked");try{gr.focus()}catch{}return new Al(gr)}(E,ot,as())})()}_openRedirect(E,A,k,te){var ce=this;return(0,D.A)(function*(){return yield ce._originValidation(E),function $l(M){yo().location.href=M}(yield zs(E,A,k,Vr(),te)),new Promise(()=>{})})()}_initialize(E){const A=E._key();if(this.eventManagers[A]){const{manager:te,promise:ce}=this.eventManagers[A];return te?Promise.resolve(te):(yn(ce,"If manager is not set, promise should be"),ce)}const k=this.initAndGetManager(E);return this.eventManagers[A]={promise:k},k.catch(()=>{delete this.eventManagers[A]}),k}initAndGetManager(E){var A=this;return(0,D.A)(function*(){const k=yield function Ss(M){return Mc.apply(this,arguments)}(E),te=new Bd(E);return k.register("authEvent",ce=>(He(ce?.authEvent,E,"invalid-auth-event"),{status:te.onEvent(ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),A.eventManagers[E._key()]={manager:te},A.iframes[E._key()]=k,te})()}_isIframeWebStorageSupported(E,A){this.iframes[E._key()].send(Ca,{type:Ca},te=>{var ce;const Ge=null===(ce=te?.[0])||void 0===ce?void 0:ce[Ca];void 0!==Ge&&A(!!Ge),Pt(E,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(E){const A=E._key();return this.originValidationPromises[A]||(this.originValidationPromises[A]=function Cl(M){return Ei.apply(this,arguments)}(E)),this.originValidationPromises[A]}get _shouldInitProactively(){return St()||ii()||Sa()}};var Lp="@firebase/auth";class Vp{constructor(E){this.auth=E,this.internalListeners=new Map}getUid(){var E;return this.assertAuthConfigured(),(null===(E=this.auth.currentUser)||void 0===E?void 0:E.uid)||null}getToken(E){var A=this;return(0,D.A)(function*(){return A.assertAuthConfigured(),yield A.auth._initializationPromise,A.auth.currentUser?{accessToken:yield A.auth.currentUser.getIdToken(E)}:null})()}addAuthTokenListener(E){if(this.assertAuthConfigured(),this.internalListeners.has(E))return;const A=this.auth.onIdTokenChanged(k=>{E(k?.stsTokenManager.accessToken||null)});this.internalListeners.set(E,A),this.updateProactiveRefresh()}removeAuthTokenListener(E){this.assertAuthConfigured();const A=this.internalListeners.get(E);A&&(this.internalListeners.delete(E),A(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Hd=(0,U.XA)("authIdTokenMaxAge")||300;let Gd=null;const Mf=M=>function(){var E=(0,D.A)(function*(A){const k=A&&(yield A.getIdTokenResult()),te=k&&((new Date).getTime()-Date.parse(k.issuedAtTime))/1e3;if(te&&te>Hd)return;const ce=k?.token;Gd!==ce&&(Gd=ce,yield fetch(M,{method:ce?"POST":"DELETE",headers:ce?{Authorization:`Bearer ${ce}`}:{}}))});return function(A){return E.apply(this,arguments)}}();function Of(M=(0,O.Sx)()){const E=(0,O.j6)(M,"auth");if(E.isInitialized())return E.getImmediate();const A=function ea(M,E){const A=(0,O.j6)(M,"auth");if(A.isInitialized()){const te=A.getImmediate(),ce=A.getOptions();if((0,U.bD)(ce,E??{}))return te;Pt(te,"already-initialized")}return A.initialize({options:E})}(M,{popupRedirectResolver:bl,persistence:[Od,Oi,Xc]}),k=(0,U.XA)("authTokenSyncURL");if(k&&"boolean"==typeof isSecureContext&&isSecureContext){const ce=new URL(k,location.origin);if(location.origin===ce.origin){const Ge=Mf(ce.toString());(function Qo(M,E,A){(0,U.Ku)(M).beforeAuthStateChanged(E,A)})(A,Ge,()=>Ge(A.currentUser)),function Wi(M,E,A,k){(0,U.Ku)(M).onIdTokenChanged(E,A,k)}(A,ot=>Ge(ot))}}const te=(0,U.Tj)("auth");return te&&function Di(M,E,A){const k=Xr(M);He(k._canInitEmulator,k,"emulator-config-failed"),He(/^https?:\/\//.test(E),k,"invalid-emulator-scheme");const te=!!A?.disableWarnings,ce=ks(E),{host:Ge,port:ot}=function jl(M){const E=ks(M),A=/(\/\/)?([^?#/]+)/.exec(M.substr(E.length));if(!A)return{host:"",port:null};const k=A[2].split("@").pop()||"",te=/^(\[[^\]]+\])(:|$)/.exec(k);if(te){const ce=te[1];return{host:ce,port:Ui(k.substr(ce.length+1))}}{const[ce,Ge]=k.split(":");return{host:ce,port:Ui(Ge)}}}(E);k.config.emulator={url:`${ce}//${Ge}${null===ot?"":`:${ot}`}/`},k.settings.appVerificationDisabledForTesting=!0,k.emulatorConfig=Object.freeze({host:Ge,port:ot,protocol:ce.replace(":",""),options:Object.freeze({disableWarnings:te})}),te||function ko(){function M(){const E=document.createElement("p"),A=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",A.position="fixed",A.width="100%",A.backgroundColor="#ffffff",A.border=".1em solid #000000",A.color="#b50000",A.bottom="0px",A.left="0px",A.margin="0px",A.zIndex="10000",A.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",M):M())}()}(A,`http://${te}`),A}(function Ra(M){aa=M})({loadJS:M=>new Promise((E,A)=>{const k=document.createElement("script");k.setAttribute("src",M),k.onload=E,k.onerror=te=>{const ce=Je("internal-error");ce.customData=te,A(ce)},k.type="text/javascript",k.charset="UTF-8",function $d(){var M,E;return null!==(E=null===(M=document.getElementsByTagName("head"))||void 0===M?void 0:M[0])&&void 0!==E?E:document}().appendChild(k)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Rf(M){(0,O.om)(new ye.uA("auth",(E,{options:A})=>{const k=E.getProvider("app").getImmediate(),te=E.getProvider("heartbeat"),ce=E.getProvider("app-check-internal"),{apiKey:Ge,authDomain:ot}=k.options;He(Ge&&!Ge.includes(":"),"invalid-api-key",{appName:k.name});const Vt={apiKey:Ge,authDomain:ot,clientPlatform:M,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fn(M)},En=new No(k,te,ce,Vt);return function $i(M,E){const A=E?.persistence||[],k=(Array.isArray(A)?A:[A]).map(jn);E?.errorMap&&M._updateErrorMap(E.errorMap),M._initializeWithPersistence(k,E?.popupRedirectResolver)}(En,A),En},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((E,A,k)=>{E.getProvider("auth-internal").initialize()})),(0,O.om)(new ye.uA("auth-internal",E=>{const A=Xr(E.getProvider("auth").getImmediate());return new Vp(A)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.KO)(Lp,"1.7.4",function Bp(M){switch(M){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(M)),(0,O.KO)(Lp,"1.7.4","esm2017")}("Browser")},467:(Cn,bt,ie)=>{function D(U,Oe,nt,ye,xt,Xe,lt){try{var Ee=U[Xe](lt),Te=Ee.value}catch(Me){return void nt(Me)}Ee.done?Oe(Te):Promise.resolve(Te).then(ye,xt)}function O(U){return function(){var Oe=this,nt=arguments;return new Promise(function(ye,xt){var Xe=U.apply(Oe,nt);function lt(Te){D(Xe,ye,xt,lt,Ee,"next",Te)}function Ee(Te){D(Xe,ye,xt,lt,Ee,"throw",Te)}lt(void 0)})}}ie.d(bt,{A:()=>O})},1635:(Cn,bt,ie)=>{function Oe(Ne,Ue){var At={};for(var Le in Ne)Object.prototype.hasOwnProperty.call(Ne,Le)&&Ue.indexOf(Le)<0&&(At[Le]=Ne[Le]);if(null!=Ne&&"function"==typeof Object.getOwnPropertySymbols){var le=0;for(Le=Object.getOwnPropertySymbols(Ne);le<Le.length;le++)Ue.indexOf(Le[le])<0&&Object.prototype.propertyIsEnumerable.call(Ne,Le[le])&&(At[Le[le]]=Ne[Le[le]])}return At}function Me(Ne,Ue,At,Le){return new(At||(At=Promise))(function(pe,yt){function Gt(Xn){try{Jt(Le.next(Xn))}catch(Rr){yt(Rr)}}function Bn(Xn){try{Jt(Le.throw(Xn))}catch(Rr){yt(Rr)}}function Jt(Xn){Xn.done?pe(Xn.value):function le(pe){return pe instanceof At?pe:new At(function(yt){yt(pe)})}(Xn.value).then(Gt,Bn)}Jt((Le=Le.apply(Ne,Ue||[])).next())})}function Pt(Ne){return this instanceof Pt?(this.v=Ne,this):new Pt(Ne)}function Je(Ne,Ue,At){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,Le=At.apply(Ne,Ue||[]),pe=[];return le={},Gt("next"),Gt("throw"),Gt("return",function yt(pr){return function(Lr){return Promise.resolve(Lr).then(pr,Rr)}}),le[Symbol.asyncIterator]=function(){return this},le;function Gt(pr,Lr){Le[pr]&&(le[pr]=function(Fi){return new Promise(function(un,Hr){pe.push([pr,Fi,un,Hr])>1||Bn(pr,Fi)})},Lr&&(le[pr]=Lr(le[pr])))}function Bn(pr,Lr){try{!function Jt(pr){pr.value instanceof Pt?Promise.resolve(pr.value.v).then(Xn,Rr):no(pe[0][2],pr)}(Le[pr](Lr))}catch(Fi){no(pe[0][3],Fi)}}function Xn(pr){Bn("next",pr)}function Rr(pr){Bn("throw",pr)}function no(pr,Lr){pr(Lr),pe.shift(),pe.length&&Bn(pe[0][0],pe[0][1])}}function _t(Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var At,Ue=Ne[Symbol.asyncIterator];return Ue?Ue.call(Ne):(Ne=function Ut(Ne){var Ue="function"==typeof Symbol&&Symbol.iterator,At=Ue&&Ne[Ue],Le=0;if(At)return At.call(Ne);if(Ne&&"number"==typeof Ne.length)return{next:function(){return Ne&&Le>=Ne.length&&(Ne=void 0),{value:Ne&&Ne[Le++],done:!Ne}}};throw new TypeError(Ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ne),At={},Le("next"),Le("throw"),Le("return"),At[Symbol.asyncIterator]=function(){return this},At);function Le(pe){At[pe]=Ne[pe]&&function(yt){return new Promise(function(Gt,Bn){!function le(pe,yt,Gt,Bn){Promise.resolve(Bn).then(function(Jt){pe({value:Jt,done:Gt})},yt)}(Gt,Bn,(yt=Ne[pe](yt)).done,yt.value)})}}}ie.d(bt,{AQ:()=>Je,N3:()=>Pt,Tt:()=>Oe,sH:()=>Me,xN:()=>_t}),"function"==typeof SuppressedError&&SuppressedError}},Cn=>{Cn(Cn.s=9589)}]);